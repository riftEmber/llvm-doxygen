<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/Utils/LoopUtils.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LLVM<span id="projectnumber">&#160;13.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_f75c00afeb315f44d76556a7c675e6e8.html">Utils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">LoopUtils.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="LoopUtils_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">//===-- LoopUtils.cpp - Loop Utility functions -------------------------===//</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">//</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">//</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">//</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">// This file defines common loop utility functions.</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">//</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span> </div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &quot;<a class="code" href="LoopUtils_8h.html">llvm/Transforms/Utils/LoopUtils.h</a>&quot;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &quot;<a class="code" href="DenseSet_8h.html">llvm/ADT/DenseSet.h</a>&quot;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &quot;<a class="code" href="Optional_8h.html">llvm/ADT/Optional.h</a>&quot;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;<a class="code" href="PriorityWorklist_8h.html">llvm/ADT/PriorityWorklist.h</a>&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &quot;<a class="code" href="ScopeExit_8h.html">llvm/ADT/ScopeExit.h</a>&quot;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &quot;<a class="code" href="SetVector_8h.html">llvm/ADT/SetVector.h</a>&quot;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &quot;<a class="code" href="AliasAnalysis_8h.html">llvm/Analysis/AliasAnalysis.h</a>&quot;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &quot;<a class="code" href="BasicAliasAnalysis_8h.html">llvm/Analysis/BasicAliasAnalysis.h</a>&quot;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &quot;<a class="code" href="DomTreeUpdater_8h.html">llvm/Analysis/DomTreeUpdater.h</a>&quot;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &quot;<a class="code" href="GlobalsModRef_8h.html">llvm/Analysis/GlobalsModRef.h</a>&quot;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;<a class="code" href="InstructionSimplify_8h.html">llvm/Analysis/InstructionSimplify.h</a>&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &quot;<a class="code" href="LoopAccessAnalysis_8h.html">llvm/Analysis/LoopAccessAnalysis.h</a>&quot;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &quot;<a class="code" href="LoopInfo_8h.html">llvm/Analysis/LoopInfo.h</a>&quot;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;<a class="code" href="LoopPass_8h.html">llvm/Analysis/LoopPass.h</a>&quot;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &quot;<a class="code" href="MemorySSA_8h.html">llvm/Analysis/MemorySSA.h</a>&quot;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &quot;<a class="code" href="MemorySSAUpdater_8h.html">llvm/Analysis/MemorySSAUpdater.h</a>&quot;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &quot;<a class="code" href="MustExecute_8h.html">llvm/Analysis/MustExecute.h</a>&quot;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &quot;<a class="code" href="ScalarEvolution_8h.html">llvm/Analysis/ScalarEvolution.h</a>&quot;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &quot;<a class="code" href="ScalarEvolutionAliasAnalysis_8h.html">llvm/Analysis/ScalarEvolutionAliasAnalysis.h</a>&quot;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#include &quot;<a class="code" href="ScalarEvolutionExpressions_8h.html">llvm/Analysis/ScalarEvolutionExpressions.h</a>&quot;</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#include &quot;<a class="code" href="TargetTransformInfo_8h.html">llvm/Analysis/TargetTransformInfo.h</a>&quot;</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="preprocessor">#include &quot;<a class="code" href="DIBuilder_8h.html">llvm/IR/DIBuilder.h</a>&quot;</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#include &quot;<a class="code" href="Dominators_8h.html">llvm/IR/Dominators.h</a>&quot;</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="preprocessor">#include &quot;<a class="code" href="MDBuilder_8h.html">llvm/IR/MDBuilder.h</a>&quot;</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="preprocessor">#include &quot;<a class="code" href="Operator_8h.html">llvm/IR/Operator.h</a>&quot;</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="preprocessor">#include &quot;<a class="code" href="PatternMatch_8h.html">llvm/IR/PatternMatch.h</a>&quot;</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="preprocessor">#include &quot;<a class="code" href="ValueHandle_8h.html">llvm/IR/ValueHandle.h</a>&quot;</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="preprocessor">#include &quot;<a class="code" href="InitializePasses_8h.html">llvm/InitializePasses.h</a>&quot;</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="preprocessor">#include &quot;<a class="code" href="Pass_8h.html">llvm/Pass.h</a>&quot;</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="preprocessor">#include &quot;<a class="code" href="KnownBits_8h.html">llvm/Support/KnownBits.h</a>&quot;</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="preprocessor">#include &quot;<a class="code" href="BasicBlockUtils_8h.html">llvm/Transforms/Utils/BasicBlockUtils.h</a>&quot;</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="preprocessor">#include &quot;<a class="code" href="Transforms_2Utils_2Local_8h.html">llvm/Transforms/Utils/Local.h</a>&quot;</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><span class="preprocessor">#include &quot;<a class="code" href="ScalarEvolutionExpander_8h.html">llvm/Transforms/Utils/ScalarEvolutionExpander.h</a>&quot;</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span> </div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacellvm_1_1PatternMatch.html">llvm::PatternMatch</a>;</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span> </div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno"><a class="line" href="LoopUtils_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   57</a></span><span class="preprocessor">#define DEBUG_TYPE &quot;loop-utils&quot;</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span> </div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno"><a class="line" href="LoopUtils_8cpp.html#a64a432c98ab18135133952dacc1ddbb6">   59</a></span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="LoopUtils_8cpp.html#a64a432c98ab18135133952dacc1ddbb6">LLVMLoopDisableNonforced</a> = <span class="stringliteral">&quot;llvm.loop.disable_nonforced&quot;</span>;</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno"><a class="line" href="LoopUtils_8cpp.html#a2d76a4b8b8658e3e15bca3a21271e7b0">   60</a></span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="LoopUtils_8cpp.html#a2d76a4b8b8658e3e15bca3a21271e7b0">LLVMLoopDisableLICM</a> = <span class="stringliteral">&quot;llvm.licm.disable&quot;</span>;</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span> </div>
<div class="foldopen" id="foldopen00062" data-start="{" data-end="}">
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno"><a class="line" href="namespacellvm.html#ab1f7831449cd72e78894e3dcda705cd8">   62</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="namespacellvm.html#ab1f7831449cd72e78894e3dcda705cd8">llvm::formDedicatedExitBlocks</a>(<a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code hl_class" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT, <a class="code hl_class" href="classllvm_1_1LoopInfo.html">LoopInfo</a> *LI,</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>                                   <a class="code hl_class" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU,</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>                                   <span class="keywordtype">bool</span> PreserveLCSSA) {</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="CoroSplit_8cpp.html#a1b7259e431066a500b6b6e7267fad8c3">Changed</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span> </div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>  <span class="comment">// We re-use a vector for the in-loop predecesosrs.</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;BasicBlock *, 4&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InLoopPredecessors</a>;</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span> </div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>  <span class="keyword">auto</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RewriteExit</a> = [&amp;](<a class="code hl_class" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB) {</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InLoopPredecessors</a>.empty() &amp;&amp;</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>           <span class="stringliteral">&quot;Must start with an empty predecessors list!&quot;</span>);</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>    <span class="keyword">auto</span> Cleanup = <a class="code hl_function" href="namespacellvm.html#a546d82d3e067a9979464ddde9fc2f46a">make_scope_exit</a>([&amp;] { <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InLoopPredecessors</a>.clear(); });</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span> </div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>    <span class="comment">// See if there are any non-loop predecessors of this exit block and</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>    <span class="comment">// keep track of the in-loop predecessors.</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>    <span class="keywordtype">bool</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IsDedicatedExit</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PredBB</a> : <a class="code hl_function" href="namespacellvm.html#a91d9d210ba428cc67e3c2e892f24529e">predecessors</a>(BB))</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>      <span class="keywordflow">if</span> (L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PredBB</a>)) {</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">isa&lt;IndirectBrInst&gt;</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PredBB</a>-&gt;getTerminator()))</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>          <span class="comment">// We cannot rewrite exiting edges from an indirectbr.</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">isa&lt;CallBrInst&gt;</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PredBB</a>-&gt;getTerminator()))</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>          <span class="comment">// We cannot rewrite exiting edges from a callbr.</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span> </div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>        <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InLoopPredecessors</a>.push_back(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PredBB</a>);</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>        <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IsDedicatedExit</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>      }</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span> </div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InLoopPredecessors</a>.empty() &amp;&amp; <span class="stringliteral">&quot;Must have *some* loop predecessor!&quot;</span>);</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span> </div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    <span class="comment">// Nothing to do if this is already a dedicated exit.</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IsDedicatedExit</a>)</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span> </div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <span class="keyword">auto</span> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NewExitBB</a> = <a class="code hl_function" href="namespacellvm.html#a9d391b6acc6d90c9b8a8442324b1aa6f">SplitBlockPredecessors</a>(</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>        BB, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InLoopPredecessors</a>, <span class="stringliteral">&quot;.loopexit&quot;</span>, DT, LI, MSSAU, PreserveLCSSA);</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span> </div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NewExitBB</a>)</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>      <a class="code hl_define" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>          <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;WARNING: Can&#39;t create a dedicated exit block for loop: &quot;</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>                 &lt;&lt; *L &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>      <a class="code hl_define" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;LoopSimplify: Creating dedicated exit block &quot;</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>                        &lt;&lt; <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NewExitBB</a>-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>  };</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span> </div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>  <span class="comment">// Walk the exit blocks directly rather than building up a data structure for</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>  <span class="comment">// them, but only visit each one once.</span></div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallPtrSet&lt;BasicBlock *, 4&gt;</a> Visited;</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *BB : L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a78bec3084b9a47ee11cc2e56f9004717">blocks</a>())</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SuccBB</a> : <a class="code hl_function" href="namespacellvm.html#a3493591c859b8ae672dfa20950608c86">successors</a>(BB)) {</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>      <span class="comment">// We&#39;re looking for exit blocks so skip in-loop successors.</span></div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>      <span class="keywordflow">if</span> (L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SuccBB</a>))</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span> </div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>      <span class="comment">// Visit each exit block exactly once.</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>      <span class="keywordflow">if</span> (!Visited.insert(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SuccBB</a>).second)</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span> </div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>      <a class="code hl_variable" href="CoroSplit_8cpp.html#a1b7259e431066a500b6b6e7267fad8c3">Changed</a> |= <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RewriteExit</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SuccBB</a>);</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    }</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span> </div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="CoroSplit_8cpp.html#a1b7259e431066a500b6b6e7267fad8c3">Changed</a>;</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>}</div>
</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span><span class="comment"></span> </div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span><span class="comment">/// Returns the instructions that use values defined in the loop.</span></div>
<div class="foldopen" id="foldopen00131" data-start="{" data-end="}">
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno"><a class="line" href="namespacellvm.html#a6880d6c7da94499220b6d7dfcc3c88d4">  131</a></span><span class="comment"></span><a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;Instruction *, 8&gt;</a> <a class="code hl_function" href="namespacellvm.html#a6880d6c7da94499220b6d7dfcc3c88d4">llvm::findDefsUsedOutsideOfLoop</a>(<a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;Instruction *, 8&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">UsedOutside</a>;</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span> </div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code hl_enumvalue" href="namespacellvm.html#a0e00fad9c34de40b1e31f3aa6f8e024cae1e4c8c9ccd9fc39c391da4bcd093fb2">Block</a> : L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#ac94e1f7398df9df2508957f58a82279a">getBlocks</a>())</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="comment">// FIXME: I believe that this could use copy_if if the Inst reference could</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <span class="comment">// be adapted into a pointer.</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Inst : *<a class="code hl_enumvalue" href="namespacellvm.html#a0e00fad9c34de40b1e31f3aa6f8e024cae1e4c8c9ccd9fc39c391da4bcd093fb2">Block</a>) {</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>      <span class="keyword">auto</span> <a class="code hl_variable" href="IVUsers_8cpp.html#a4e5b9edb51eec9dbca592075eb64dfcb">Users</a> = Inst.users();</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(<a class="code hl_variable" href="IVUsers_8cpp.html#a4e5b9edb51eec9dbca592075eb64dfcb">Users</a>, [&amp;](<a class="code hl_class" href="classllvm_1_1User.html">User</a> *U) {</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>            <span class="keyword">auto</span> *<a class="code hl_class" href="classllvm_1_1Use.html">Use</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">cast&lt;Instruction&gt;</a>(U);</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>            <span class="keywordflow">return</span> !L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(<a class="code hl_class" href="classllvm_1_1Use.html">Use</a>-&gt;getParent());</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>          }))</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>        <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">UsedOutside</a>.push_back(&amp;Inst);</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    }</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span> </div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>  <span class="keywordflow">return</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">UsedOutside</a>;</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>}</div>
</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span> </div>
<div class="foldopen" id="foldopen00149" data-start="{" data-end="}">
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno"><a class="line" href="namespacellvm.html#a92caae34bfacc63bda0f23d5d005a89e">  149</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacellvm.html#a92caae34bfacc63bda0f23d5d005a89e">llvm::getLoopAnalysisUsage</a>(<a class="code hl_class" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU) {</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>  <span class="comment">// By definition, all loop passes need the LoopInfo analysis and the</span></div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>  <span class="comment">// Dominator tree it depends on. Because they all participate in the loop</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>  <span class="comment">// pass manager, they must also preserve these.</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>  AU.<a class="code hl_function" href="classllvm_1_1AnalysisUsage.html#ae0adcccca08fb686c9ce00f9397b660c">addRequired</a>&lt;<a class="code hl_class" href="classllvm_1_1DominatorTreeWrapperPass.html">DominatorTreeWrapperPass</a>&gt;();</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>  AU.<a class="code hl_function" href="classllvm_1_1AnalysisUsage.html#ae9356b720f6fbab112d809738dcc4f2a">addPreserved</a>&lt;<a class="code hl_class" href="classllvm_1_1DominatorTreeWrapperPass.html">DominatorTreeWrapperPass</a>&gt;();</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>  AU.<a class="code hl_function" href="classllvm_1_1AnalysisUsage.html#ae0adcccca08fb686c9ce00f9397b660c">addRequired</a>&lt;<a class="code hl_class" href="classllvm_1_1LoopInfoWrapperPass.html">LoopInfoWrapperPass</a>&gt;();</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>  AU.<a class="code hl_function" href="classllvm_1_1AnalysisUsage.html#ae9356b720f6fbab112d809738dcc4f2a">addPreserved</a>&lt;<a class="code hl_class" href="classllvm_1_1LoopInfoWrapperPass.html">LoopInfoWrapperPass</a>&gt;();</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span> </div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>  <span class="comment">// We must also preserve LoopSimplify and LCSSA. We locally access their IDs</span></div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>  <span class="comment">// here because users shouldn&#39;t directly get them from this header.</span></div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>  <span class="keyword">extern</span> <span class="keywordtype">char</span> &amp;<a class="code hl_variable" href="namespacellvm.html#a472515fc67a5fb572afeb00aa2609cca">LoopSimplifyID</a>;</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>  <span class="keyword">extern</span> <span class="keywordtype">char</span> &amp;<a class="code hl_variable" href="namespacellvm.html#a3e3d3c6d4e33a4f5ca579ee7939f0349">LCSSAID</a>;</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>  AU.<a class="code hl_function" href="classllvm_1_1AnalysisUsage.html#a053677ebc731b47a534f841b11b5cf0c">addRequiredID</a>(<a class="code hl_variable" href="namespacellvm.html#a472515fc67a5fb572afeb00aa2609cca">LoopSimplifyID</a>);</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>  AU.<a class="code hl_function" href="classllvm_1_1AnalysisUsage.html#a573df5c9c3024ebb646e15cc7450bf91">addPreservedID</a>(<a class="code hl_variable" href="namespacellvm.html#a472515fc67a5fb572afeb00aa2609cca">LoopSimplifyID</a>);</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>  AU.<a class="code hl_function" href="classllvm_1_1AnalysisUsage.html#a053677ebc731b47a534f841b11b5cf0c">addRequiredID</a>(<a class="code hl_variable" href="namespacellvm.html#a3e3d3c6d4e33a4f5ca579ee7939f0349">LCSSAID</a>);</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>  AU.<a class="code hl_function" href="classllvm_1_1AnalysisUsage.html#a573df5c9c3024ebb646e15cc7450bf91">addPreservedID</a>(<a class="code hl_variable" href="namespacellvm.html#a3e3d3c6d4e33a4f5ca579ee7939f0349">LCSSAID</a>);</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>  <span class="comment">// This is used in the LPPassManager to perform LCSSA verification on passes</span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>  <span class="comment">// which preserve lcssa form</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>  AU.<a class="code hl_function" href="classllvm_1_1AnalysisUsage.html#ae0adcccca08fb686c9ce00f9397b660c">addRequired</a>&lt;<a class="code hl_struct" href="structllvm_1_1LCSSAVerificationPass.html">LCSSAVerificationPass</a>&gt;();</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>  AU.<a class="code hl_function" href="classllvm_1_1AnalysisUsage.html#ae9356b720f6fbab112d809738dcc4f2a">addPreserved</a>&lt;<a class="code hl_struct" href="structllvm_1_1LCSSAVerificationPass.html">LCSSAVerificationPass</a>&gt;();</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span> </div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>  <span class="comment">// Loop passes are designed to run inside of a loop pass manager which means</span></div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>  <span class="comment">// that any function analyses they require must be required by the first loop</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>  <span class="comment">// pass in the manager (so that it is computed before the loop pass manager</span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>  <span class="comment">// runs) and preserved by all loop pasess in the manager. To make this</span></div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>  <span class="comment">// reasonably robust, the set needed for most loop passes is maintained here.</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>  <span class="comment">// If your loop pass requires an analysis not listed here, you will need to</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>  <span class="comment">// carefully audit the loop pass manager nesting structure that results.</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>  AU.<a class="code hl_function" href="classllvm_1_1AnalysisUsage.html#ae0adcccca08fb686c9ce00f9397b660c">addRequired</a>&lt;<a class="code hl_class" href="classllvm_1_1AAResultsWrapperPass.html">AAResultsWrapperPass</a>&gt;();</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>  AU.<a class="code hl_function" href="classllvm_1_1AnalysisUsage.html#ae9356b720f6fbab112d809738dcc4f2a">addPreserved</a>&lt;<a class="code hl_class" href="classllvm_1_1AAResultsWrapperPass.html">AAResultsWrapperPass</a>&gt;();</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>  AU.<a class="code hl_function" href="classllvm_1_1AnalysisUsage.html#ae9356b720f6fbab112d809738dcc4f2a">addPreserved</a>&lt;<a class="code hl_class" href="classllvm_1_1BasicAAWrapperPass.html">BasicAAWrapperPass</a>&gt;();</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>  AU.<a class="code hl_function" href="classllvm_1_1AnalysisUsage.html#ae9356b720f6fbab112d809738dcc4f2a">addPreserved</a>&lt;<a class="code hl_class" href="classllvm_1_1GlobalsAAWrapperPass.html">GlobalsAAWrapperPass</a>&gt;();</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>  AU.<a class="code hl_function" href="classllvm_1_1AnalysisUsage.html#ae9356b720f6fbab112d809738dcc4f2a">addPreserved</a>&lt;<a class="code hl_class" href="classllvm_1_1SCEVAAWrapperPass.html">SCEVAAWrapperPass</a>&gt;();</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>  AU.<a class="code hl_function" href="classllvm_1_1AnalysisUsage.html#ae0adcccca08fb686c9ce00f9397b660c">addRequired</a>&lt;<a class="code hl_class" href="classllvm_1_1ScalarEvolutionWrapperPass.html">ScalarEvolutionWrapperPass</a>&gt;();</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>  AU.<a class="code hl_function" href="classllvm_1_1AnalysisUsage.html#ae9356b720f6fbab112d809738dcc4f2a">addPreserved</a>&lt;<a class="code hl_class" href="classllvm_1_1ScalarEvolutionWrapperPass.html">ScalarEvolutionWrapperPass</a>&gt;();</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>  <span class="comment">// FIXME: When all loop passes preserve MemorySSA, it can be required and</span></div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>  <span class="comment">// preserved here instead of the individual handling in each pass.</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>}</div>
</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span><span class="comment"></span> </div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span><span class="comment">/// Manually defined generic &quot;LoopPass&quot; dependency initialization. This is used</span></div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span><span class="comment">/// to initialize the exact set of passes from above in \c</span></div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span><span class="comment">/// getLoopAnalysisUsage. It can be used within a loop pass&#39;s initialization</span></div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span><span class="comment">/// with:</span></div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span><span class="comment">///</span></div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span><span class="comment">///   INITIALIZE_PASS_DEPENDENCY(LoopPass)</span></div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span><span class="comment">///</span></div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span><span class="comment">/// As-if &quot;LoopPass&quot; were a pass.</span></div>
<div class="foldopen" id="foldopen00197" data-start="{" data-end="}">
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno"><a class="line" href="namespacellvm.html#a2aa73880de517c04ff09f5bc0f48b3ba">  197</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacellvm.html#a2aa73880de517c04ff09f5bc0f48b3ba">llvm::initializeLoopPassPass</a>(<a class="code hl_class" href="classllvm_1_1PassRegistry.html">PassRegistry</a> &amp;<a class="code hl_class" href="classllvm_1_1Registry.html">Registry</a>) {</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>  <a class="code hl_define" href="PassSupport_8h.html#a14724f1ccf528e73bb29bc9230737967">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code hl_class" href="classllvm_1_1DominatorTreeWrapperPass.html">DominatorTreeWrapperPass</a>)</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>  <a class="code hl_define" href="PassSupport_8h.html#a14724f1ccf528e73bb29bc9230737967">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code hl_class" href="classllvm_1_1LoopInfoWrapperPass.html">LoopInfoWrapperPass</a>)</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>  <a class="code hl_define" href="PassSupport_8h.html#a14724f1ccf528e73bb29bc9230737967">INITIALIZE_PASS_DEPENDENCY</a>(LoopSimplify)</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>  <a class="code hl_define" href="PassSupport_8h.html#a14724f1ccf528e73bb29bc9230737967">INITIALIZE_PASS_DEPENDENCY</a>(LCSSAWrapperPass)</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>  <a class="code hl_define" href="PassSupport_8h.html#a14724f1ccf528e73bb29bc9230737967">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code hl_class" href="classllvm_1_1AAResultsWrapperPass.html">AAResultsWrapperPass</a>)</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>  <a class="code hl_define" href="PassSupport_8h.html#a14724f1ccf528e73bb29bc9230737967">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code hl_class" href="classllvm_1_1BasicAAWrapperPass.html">BasicAAWrapperPass</a>)</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>  <a class="code hl_define" href="PassSupport_8h.html#a14724f1ccf528e73bb29bc9230737967">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code hl_class" href="classllvm_1_1GlobalsAAWrapperPass.html">GlobalsAAWrapperPass</a>)</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>  <a class="code hl_define" href="PassSupport_8h.html#a14724f1ccf528e73bb29bc9230737967">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code hl_class" href="classllvm_1_1SCEVAAWrapperPass.html">SCEVAAWrapperPass</a>)</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>  <a class="code hl_define" href="PassSupport_8h.html#a14724f1ccf528e73bb29bc9230737967">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code hl_class" href="classllvm_1_1ScalarEvolutionWrapperPass.html">ScalarEvolutionWrapperPass</a>)</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>  <a class="code hl_define" href="PassSupport_8h.html#a14724f1ccf528e73bb29bc9230737967">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code hl_class" href="classllvm_1_1MemorySSAWrapperPass.html">MemorySSAWrapperPass</a>)</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>}</div>
</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span><span class="comment"></span> </div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span><span class="comment">/// Create MDNode for input string.</span></div>
<div class="foldopen" id="foldopen00211" data-start="{" data-end="}">
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno"><a class="line" href="LoopUtils_8cpp.html#a6bfe058b12abe3443b07d4f4d55d863f">  211</a></span><span class="comment"></span><span class="keyword">static</span> <a class="code hl_class" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code hl_function" href="LoopUtils_8cpp.html#a6bfe058b12abe3443b07d4f4d55d863f">createStringMetadata</a>(<a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *TheLoop, <a class="code hl_class" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code hl_variable" href="ELFObjHandler_8cpp.html#adc852f586959ce13117d737cf3f14899">Name</a>, <span class="keywordtype">unsigned</span> V) {</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>  <a class="code hl_class" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;Context = TheLoop-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a4a75755081e9a3803d2f4ccf6f0cb1f8">getHeader</a>()-&gt;<a class="code hl_function" href="classllvm_1_1BasicBlock.html#aa286a0f7f5d38488d593bb7ef0ba183e">getContext</a>();</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>  <a class="code hl_class" href="classllvm_1_1Metadata.html">Metadata</a> *MDs[] = {</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>      <a class="code hl_function" href="classllvm_1_1MDString.html#affbb7e2e9ad8d18114816f2443d672b9">MDString::get</a>(Context, <a class="code hl_variable" href="ELFObjHandler_8cpp.html#adc852f586959ce13117d737cf3f14899">Name</a>),</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>      <a class="code hl_function" href="classllvm_1_1ConstantAsMetadata.html#a4c720c398a263087e00d7358b05636d5">ConstantAsMetadata::get</a>(<a class="code hl_function" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(Type::getInt32Ty(Context), V))};</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">MDNode::get</a>(Context, MDs);</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>}</div>
</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span><span class="comment"></span> </div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span><span class="comment">/// Set input string into loop metadata by keeping other values intact.</span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span><span class="comment">/// If the string is already in loop metadata update value if it is</span></div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span><span class="comment">/// different.</span></div>
<div class="foldopen" id="foldopen00222" data-start="{" data-end="}">
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno"><a class="line" href="namespacellvm.html#a55c9054d63d1c6a39e9c09ba13a482fa">  222</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacellvm.html#a55c9054d63d1c6a39e9c09ba13a482fa">llvm::addStringMetadataToLoop</a>(<a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *TheLoop, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">StringMD</a>,</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>                                   <span class="keywordtype">unsigned</span> V) {</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;Metadata *, 4&gt;</a> MDs(1);</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>  <span class="comment">// If the loop already has metadata, retain it.</span></div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>  <a class="code hl_class" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LoopID</a> = TheLoop-&gt;<a class="code hl_function" href="classllvm_1_1Loop.html#afbcd78588d5235f99698b5c30f591382">getLoopID</a>();</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LoopID</a>) {</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">i</a> = 1, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ie</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LoopID</a>-&gt;getNumOperands(); <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">i</a> &lt; <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ie</a>; ++<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">i</a>) {</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>      <a class="code hl_class" href="classllvm_1_1MDNode.html">MDNode</a> *Node = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">cast&lt;MDNode&gt;</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LoopID</a>-&gt;getOperand(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">i</a>));</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>      <span class="comment">// If it is of form key = value, try to parse it.</span></div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>      <span class="keywordflow">if</span> (Node-&gt;getNumOperands() == 2) {</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>        <a class="code hl_class" href="classllvm_1_1MDString.html">MDString</a> *S = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;MDString&gt;</a>(Node-&gt;getOperand(0));</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>        <span class="keywordflow">if</span> (S &amp;&amp; S-&gt;<a class="code hl_function" href="classllvm_1_1MDString.html#ae44259d9edd71181ea8b89d18f27a967">getString</a>().<a class="code hl_function" href="classllvm_1_1StringRef.html#aec5c723a077f34100bba97e1df17c6b2">equals</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">StringMD</a>)) {</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>          <a class="code hl_class" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IntMD</a> =</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>              mdconst::extract_or_null&lt;ConstantInt&gt;(Node-&gt;getOperand(1));</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>          <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IntMD</a> &amp;&amp; <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IntMD</a>-&gt;getSExtValue() == V)</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>            <span class="comment">// It is already in place. Do nothing.</span></div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>          <span class="comment">// We need to update the value, so just skip it here and it will</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>          <span class="comment">// be added after copying other existed nodes.</span></div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>        }</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>      }</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>      MDs.push_back(Node);</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>    }</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>  }</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>  <span class="comment">// Add new metadata.</span></div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>  MDs.push_back(<a class="code hl_function" href="LoopUtils_8cpp.html#a6bfe058b12abe3443b07d4f4d55d863f">createStringMetadata</a>(TheLoop, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">StringMD</a>, V));</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>  <span class="comment">// Replace current metadata node with new one.</span></div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>  <a class="code hl_class" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;Context = TheLoop-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a4a75755081e9a3803d2f4ccf6f0cb1f8">getHeader</a>()-&gt;<a class="code hl_function" href="classllvm_1_1BasicBlock.html#aa286a0f7f5d38488d593bb7ef0ba183e">getContext</a>();</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>  <a class="code hl_class" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NewLoopID</a> = <a class="code hl_function" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">MDNode::get</a>(Context, MDs);</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>  <span class="comment">// Set operand 0 to refer to the loop id itself.</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NewLoopID</a>-&gt;replaceOperandWith(0, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NewLoopID</a>);</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>  TheLoop-&gt;<a class="code hl_function" href="classllvm_1_1Loop.html#adf4be757fa30ca7fe3e8b119438100f0">setLoopID</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NewLoopID</a>);</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>}</div>
</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span> </div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span><a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Optional&lt;ElementCount&gt;</a></div>
<div class="foldopen" id="foldopen00258" data-start="{" data-end="}">
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno"><a class="line" href="namespacellvm.html#ae45ae4b08a803a02b436ac7af413410d">  258</a></span><a class="code hl_function" href="namespacellvm.html#ae45ae4b08a803a02b436ac7af413410d">llvm::getOptionalElementCountLoopAttribute</a>(<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *TheLoop) {</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Optional&lt;int&gt;</a> Width =</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>      <a class="code hl_function" href="namespacellvm.html#a0f1b9a9548b3b0a3ee017aa467aaff18">getOptionalIntLoopAttribute</a>(TheLoop, <span class="stringliteral">&quot;llvm.loop.vectorize.width&quot;</span>);</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span> </div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>  <span class="keywordflow">if</span> (Width.hasValue()) {</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Optional&lt;int&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IsScalable</a> = <a class="code hl_function" href="namespacellvm.html#a0f1b9a9548b3b0a3ee017aa467aaff18">getOptionalIntLoopAttribute</a>(</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>        TheLoop, <span class="stringliteral">&quot;llvm.loop.vectorize.scalable.enable&quot;</span>);</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>    <span class="keywordflow">return</span> ElementCount::get(*Width, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IsScalable</a>.getValueOr(<span class="keyword">false</span>));</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>  }</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span> </div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacellvm.html#a6497a581a4f7152729c29a368ac7d7be">None</a>;</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>}</div>
</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span> </div>
<div class="foldopen" id="foldopen00271" data-start="{" data-end="}">
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno"><a class="line" href="namespacellvm.html#ab33d6db4b4cc4b3a98989a36b48b2afe">  271</a></span><a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Optional&lt;MDNode *&gt;</a> <a class="code hl_function" href="namespacellvm.html#ab33d6db4b4cc4b3a98989a36b48b2afe">llvm::makeFollowupLoopID</a>(</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>    <a class="code hl_class" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OrigLoopID</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ArrayRef&lt;StringRef&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FollowupOptions</a>,</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InheritOptionsExceptPrefix</a>, <span class="keywordtype">bool</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AlwaysNew</a>) {</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>  <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OrigLoopID</a>) {</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AlwaysNew</a>)</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacellvm.html#a6497a581a4f7152729c29a368ac7d7be">None</a>;</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>  }</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span> </div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>  <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OrigLoopID</a>-&gt;getOperand(0) == <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OrigLoopID</a>);</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span> </div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>  <span class="keywordtype">bool</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InheritAllAttrs</a> = !<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InheritOptionsExceptPrefix</a>;</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>  <span class="keywordtype">bool</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InheritSomeAttrs</a> =</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>      <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InheritOptionsExceptPrefix</a> &amp;&amp; <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InheritOptionsExceptPrefix</a>[0] != <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;Metadata *, 8&gt;</a> MDs;</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>  MDs.push_back(<span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span> </div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="CoroSplit_8cpp.html#a1b7259e431066a500b6b6e7267fad8c3">Changed</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InheritAllAttrs</a> || <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InheritSomeAttrs</a>) {</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1MDOperand.html">MDOperand</a> &amp;<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Existing</a> : <a class="code hl_function" href="namespacellvm.html#a02981de53fb6ffd384d39addc4d25f37">drop_begin</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OrigLoopID</a>-&gt;operands())) {</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>      <a class="code hl_class" href="classllvm_1_1MDNode.html">MDNode</a> *Op = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">cast&lt;MDNode&gt;</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Existing</a>.get());</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span> </div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>      <span class="keyword">auto</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InheritThisAttribute</a> = [<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InheritSomeAttrs</a>,</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>                                   <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InheritOptionsExceptPrefix</a>](<a class="code hl_class" href="classllvm_1_1MDNode.html">MDNode</a> *Op) {</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>        <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InheritSomeAttrs</a>)</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span> </div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>        <span class="comment">// Skip malformatted attribute metadata nodes.</span></div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>        <span class="keywordflow">if</span> (Op-&gt;getNumOperands() == 0)</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>        <a class="code hl_class" href="classllvm_1_1Metadata.html">Metadata</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NameMD</a> = Op-&gt;getOperand(0).get();</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>        <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">isa&lt;MDString&gt;</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NameMD</a>))</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>        <a class="code hl_class" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AttrName</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">cast&lt;MDString&gt;</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NameMD</a>)-&gt;getString();</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span> </div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>        <span class="comment">// Do not inherit excluded attributes.</span></div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>        <span class="keywordflow">return</span> !<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AttrName</a>.startswith(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InheritOptionsExceptPrefix</a>);</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>      };</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span> </div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>      <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InheritThisAttribute</a>(Op))</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>        MDs.push_back(Op);</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>      <span class="keywordflow">else</span></div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>        <a class="code hl_variable" href="CoroSplit_8cpp.html#a1b7259e431066a500b6b6e7267fad8c3">Changed</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>    }</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>    <span class="comment">// Modified if we dropped at least one attribute.</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    <a class="code hl_variable" href="CoroSplit_8cpp.html#a1b7259e431066a500b6b6e7267fad8c3">Changed</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OrigLoopID</a>-&gt;getNumOperands() &gt; 1;</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>  }</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span> </div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>  <span class="keywordtype">bool</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">HasAnyFollowup</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OptionName</a> : <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FollowupOptions</a>) {</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>    <a class="code hl_class" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FollowupNode</a> = <a class="code hl_function" href="namespacellvm.html#af96352a2cdb90eba4c80ba0a8109b269">findOptionMDForLoopID</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OrigLoopID</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OptionName</a>);</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>    <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FollowupNode</a>)</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span> </div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">HasAnyFollowup</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1MDOperand.html">MDOperand</a> &amp;Option : <a class="code hl_function" href="namespacellvm.html#a02981de53fb6ffd384d39addc4d25f37">drop_begin</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FollowupNode</a>-&gt;operands())) {</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>      MDs.push_back(Option.get());</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>      <a class="code hl_variable" href="CoroSplit_8cpp.html#a1b7259e431066a500b6b6e7267fad8c3">Changed</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>    }</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>  }</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span> </div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>  <span class="comment">// Attributes of the followup loop not specified explicity, so signal to the</span></div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>  <span class="comment">// transformation pass to add suitable attributes.</span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>  <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AlwaysNew</a> &amp;&amp; !<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">HasAnyFollowup</a>)</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacellvm.html#a6497a581a4f7152729c29a368ac7d7be">None</a>;</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span> </div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>  <span class="comment">// If no attributes were added or remove, the previous loop Id can be reused.</span></div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>  <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AlwaysNew</a> &amp;&amp; !<a class="code hl_variable" href="CoroSplit_8cpp.html#a1b7259e431066a500b6b6e7267fad8c3">Changed</a>)</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OrigLoopID</a>;</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span> </div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>  <span class="comment">// No attributes is equivalent to having no !llvm.loop metadata at all.</span></div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>  <span class="keywordflow">if</span> (MDs.size() == 1)</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span> </div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>  <span class="comment">// Build the new loop ID.</span></div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>  <a class="code hl_class" href="classllvm_1_1MDTuple.html">MDTuple</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FollowupLoopID</a> = <a class="code hl_function" href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">MDNode::get</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OrigLoopID</a>-&gt;getContext(), MDs);</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FollowupLoopID</a>-&gt;replaceOperandWith(0, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FollowupLoopID</a>);</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>  <span class="keywordflow">return</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FollowupLoopID</a>;</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>}</div>
</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span> </div>
<div class="foldopen" id="foldopen00352" data-start="{" data-end="}">
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno"><a class="line" href="namespacellvm.html#a7d25a8a9d14a556b1ca44f8fe0dfdd8b">  352</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="namespacellvm.html#a7d25a8a9d14a556b1ca44f8fe0dfdd8b">llvm::hasDisableAllTransformsHint</a>(<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespacellvm.html#a0fe947e3b22138ff2803db9911c3665b">getBooleanLoopAttribute</a>(L, <a class="code hl_variable" href="LoopUtils_8cpp.html#a64a432c98ab18135133952dacc1ddbb6">LLVMLoopDisableNonforced</a>);</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>}</div>
</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span> </div>
<div class="foldopen" id="foldopen00356" data-start="{" data-end="}">
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno"><a class="line" href="namespacellvm.html#aa61b7b49f32233419331f8132b39e77d">  356</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="namespacellvm.html#aa61b7b49f32233419331f8132b39e77d">llvm::hasDisableLICMTransformsHint</a>(<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespacellvm.html#a0fe947e3b22138ff2803db9911c3665b">getBooleanLoopAttribute</a>(L, <a class="code hl_variable" href="LoopUtils_8cpp.html#a2d76a4b8b8658e3e15bca3a21271e7b0">LLVMLoopDisableLICM</a>);</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>}</div>
</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span> </div>
<div class="foldopen" id="foldopen00360" data-start="{" data-end="}">
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno"><a class="line" href="namespacellvm.html#a868145c1795173f9642f99c354f91a7d">  360</a></span><a class="code hl_enumeration" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcb">TransformationMode</a> <a class="code hl_function" href="namespacellvm.html#a868145c1795173f9642f99c354f91a7d">llvm::hasUnrollTransformation</a>(<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacellvm.html#a0fe947e3b22138ff2803db9911c3665b">getBooleanLoopAttribute</a>(L, <span class="stringliteral">&quot;llvm.loop.unroll.disable&quot;</span>))</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcba5823b05aeac764d3dafa62e0158c9e67">TM_SuppressedByUser</a>;</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span> </div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Optional&lt;int&gt;</a> Count =</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>      <a class="code hl_function" href="namespacellvm.html#a0f1b9a9548b3b0a3ee017aa467aaff18">getOptionalIntLoopAttribute</a>(L, <span class="stringliteral">&quot;llvm.loop.unroll.count&quot;</span>);</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>  <span class="keywordflow">if</span> (Count.hasValue())</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>    <span class="keywordflow">return</span> Count.getValue() == 1 ? <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcba5823b05aeac764d3dafa62e0158c9e67">TM_SuppressedByUser</a> : <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcbaa1c649bc8228a2e36e04b8454851bfc5">TM_ForcedByUser</a>;</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span> </div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacellvm.html#a0fe947e3b22138ff2803db9911c3665b">getBooleanLoopAttribute</a>(L, <span class="stringliteral">&quot;llvm.loop.unroll.enable&quot;</span>))</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcbaa1c649bc8228a2e36e04b8454851bfc5">TM_ForcedByUser</a>;</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span> </div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacellvm.html#a0fe947e3b22138ff2803db9911c3665b">getBooleanLoopAttribute</a>(L, <span class="stringliteral">&quot;llvm.loop.unroll.full&quot;</span>))</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcbaa1c649bc8228a2e36e04b8454851bfc5">TM_ForcedByUser</a>;</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span> </div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacellvm.html#a7d25a8a9d14a556b1ca44f8fe0dfdd8b">hasDisableAllTransformsHint</a>(L))</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcbaa70bd8f3da4232ad809b2ffdcc1254bd">TM_Disable</a>;</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span> </div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcba4a62a80af8c368bfeac957dc6b09584a">TM_Unspecified</a>;</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>}</div>
</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span> </div>
<div class="foldopen" id="foldopen00381" data-start="{" data-end="}">
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno"><a class="line" href="namespacellvm.html#a7386405e9217844550433e1debb58ef7">  381</a></span><a class="code hl_enumeration" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcb">TransformationMode</a> <a class="code hl_function" href="namespacellvm.html#a7386405e9217844550433e1debb58ef7">llvm::hasUnrollAndJamTransformation</a>(<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacellvm.html#a0fe947e3b22138ff2803db9911c3665b">getBooleanLoopAttribute</a>(L, <span class="stringliteral">&quot;llvm.loop.unroll_and_jam.disable&quot;</span>))</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcba5823b05aeac764d3dafa62e0158c9e67">TM_SuppressedByUser</a>;</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span> </div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Optional&lt;int&gt;</a> Count =</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>      <a class="code hl_function" href="namespacellvm.html#a0f1b9a9548b3b0a3ee017aa467aaff18">getOptionalIntLoopAttribute</a>(L, <span class="stringliteral">&quot;llvm.loop.unroll_and_jam.count&quot;</span>);</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>  <span class="keywordflow">if</span> (Count.hasValue())</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>    <span class="keywordflow">return</span> Count.getValue() == 1 ? <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcba5823b05aeac764d3dafa62e0158c9e67">TM_SuppressedByUser</a> : <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcbaa1c649bc8228a2e36e04b8454851bfc5">TM_ForcedByUser</a>;</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span> </div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacellvm.html#a0fe947e3b22138ff2803db9911c3665b">getBooleanLoopAttribute</a>(L, <span class="stringliteral">&quot;llvm.loop.unroll_and_jam.enable&quot;</span>))</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcbaa1c649bc8228a2e36e04b8454851bfc5">TM_ForcedByUser</a>;</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span> </div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacellvm.html#a7d25a8a9d14a556b1ca44f8fe0dfdd8b">hasDisableAllTransformsHint</a>(L))</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcbaa70bd8f3da4232ad809b2ffdcc1254bd">TM_Disable</a>;</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span> </div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcba4a62a80af8c368bfeac957dc6b09584a">TM_Unspecified</a>;</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>}</div>
</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span> </div>
<div class="foldopen" id="foldopen00399" data-start="{" data-end="}">
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno"><a class="line" href="namespacellvm.html#a5ca4169f38bbdb81155e4d5b3b9d7fae">  399</a></span><a class="code hl_enumeration" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcb">TransformationMode</a> <a class="code hl_function" href="namespacellvm.html#a5ca4169f38bbdb81155e4d5b3b9d7fae">llvm::hasVectorizeTransformation</a>(<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Optional&lt;bool&gt;</a> <a class="code hl_enumvalue" href="namespacellvm.html#afdccf3ff7a8dfaa084b07c1fb417bbe2a2faec1f9f8cc7f8f40d521c4dd574f49">Enable</a> =</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>      <a class="code hl_function" href="namespacellvm.html#a7497a9c7b920514d600f172d6a54066c">getOptionalBoolLoopAttribute</a>(L, <span class="stringliteral">&quot;llvm.loop.vectorize.enable&quot;</span>);</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span> </div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>  <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespacellvm.html#afdccf3ff7a8dfaa084b07c1fb417bbe2a2faec1f9f8cc7f8f40d521c4dd574f49">Enable</a> == <span class="keyword">false</span>)</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcba5823b05aeac764d3dafa62e0158c9e67">TM_SuppressedByUser</a>;</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span> </div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Optional&lt;ElementCount&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">VectorizeWidth</a> =</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>      <a class="code hl_function" href="namespacellvm.html#ae45ae4b08a803a02b436ac7af413410d">getOptionalElementCountLoopAttribute</a>(L);</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Optional&lt;int&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InterleaveCount</a> =</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>      <a class="code hl_function" href="namespacellvm.html#a0f1b9a9548b3b0a3ee017aa467aaff18">getOptionalIntLoopAttribute</a>(L, <span class="stringliteral">&quot;llvm.loop.interleave.count&quot;</span>);</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span> </div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>  <span class="comment">// &#39;Forcing&#39; vector width and interleave count to one effectively disables</span></div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>  <span class="comment">// this tranformation.</span></div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>  <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespacellvm.html#afdccf3ff7a8dfaa084b07c1fb417bbe2a2faec1f9f8cc7f8f40d521c4dd574f49">Enable</a> == <span class="keyword">true</span> &amp;&amp; <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">VectorizeWidth</a> &amp;&amp; <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">VectorizeWidth</a>-&gt;isScalar() &amp;&amp;</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>      <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InterleaveCount</a> == 1)</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcba5823b05aeac764d3dafa62e0158c9e67">TM_SuppressedByUser</a>;</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span> </div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacellvm.html#a0fe947e3b22138ff2803db9911c3665b">getBooleanLoopAttribute</a>(L, <span class="stringliteral">&quot;llvm.loop.isvectorized&quot;</span>))</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcbaa70bd8f3da4232ad809b2ffdcc1254bd">TM_Disable</a>;</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span> </div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>  <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespacellvm.html#afdccf3ff7a8dfaa084b07c1fb417bbe2a2faec1f9f8cc7f8f40d521c4dd574f49">Enable</a> == <span class="keyword">true</span>)</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcbaa1c649bc8228a2e36e04b8454851bfc5">TM_ForcedByUser</a>;</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span> </div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>  <span class="keywordflow">if</span> ((<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">VectorizeWidth</a> &amp;&amp; <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">VectorizeWidth</a>-&gt;isScalar()) &amp;&amp; <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InterleaveCount</a> == 1)</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcbaa70bd8f3da4232ad809b2ffdcc1254bd">TM_Disable</a>;</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span> </div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>  <span class="keywordflow">if</span> ((<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">VectorizeWidth</a> &amp;&amp; <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">VectorizeWidth</a>-&gt;isVector()) || <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InterleaveCount</a> &gt; 1)</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcbac3977ea14dd68d93d147c91a34de4bb3">TM_Enable</a>;</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span> </div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacellvm.html#a7d25a8a9d14a556b1ca44f8fe0dfdd8b">hasDisableAllTransformsHint</a>(L))</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcbaa70bd8f3da4232ad809b2ffdcc1254bd">TM_Disable</a>;</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span> </div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcba4a62a80af8c368bfeac957dc6b09584a">TM_Unspecified</a>;</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>}</div>
</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span> </div>
<div class="foldopen" id="foldopen00435" data-start="{" data-end="}">
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno"><a class="line" href="namespacellvm.html#a8f43e8365ed5bf4bee97ded98ba4816a">  435</a></span><a class="code hl_enumeration" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcb">TransformationMode</a> <a class="code hl_function" href="namespacellvm.html#a8f43e8365ed5bf4bee97ded98ba4816a">llvm::hasDistributeTransformation</a>(<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacellvm.html#a0fe947e3b22138ff2803db9911c3665b">getBooleanLoopAttribute</a>(L, <span class="stringliteral">&quot;llvm.loop.distribute.enable&quot;</span>))</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcbaa1c649bc8228a2e36e04b8454851bfc5">TM_ForcedByUser</a>;</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span> </div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacellvm.html#a7d25a8a9d14a556b1ca44f8fe0dfdd8b">hasDisableAllTransformsHint</a>(L))</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcbaa70bd8f3da4232ad809b2ffdcc1254bd">TM_Disable</a>;</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span> </div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcba4a62a80af8c368bfeac957dc6b09584a">TM_Unspecified</a>;</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>}</div>
</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span> </div>
<div class="foldopen" id="foldopen00445" data-start="{" data-end="}">
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno"><a class="line" href="namespacellvm.html#aa1a001d9051b71d83307766b1a96b7d3">  445</a></span><a class="code hl_enumeration" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcb">TransformationMode</a> <a class="code hl_function" href="namespacellvm.html#aa1a001d9051b71d83307766b1a96b7d3">llvm::hasLICMVersioningTransformation</a>(<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacellvm.html#a0fe947e3b22138ff2803db9911c3665b">getBooleanLoopAttribute</a>(L, <span class="stringliteral">&quot;llvm.loop.licm_versioning.disable&quot;</span>))</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcba5823b05aeac764d3dafa62e0158c9e67">TM_SuppressedByUser</a>;</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span> </div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacellvm.html#a7d25a8a9d14a556b1ca44f8fe0dfdd8b">hasDisableAllTransformsHint</a>(L))</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcbaa70bd8f3da4232ad809b2ffdcc1254bd">TM_Disable</a>;</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span> </div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcba4a62a80af8c368bfeac957dc6b09584a">TM_Unspecified</a>;</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>}</div>
</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span><span class="comment"></span> </div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span><span class="comment">/// Does a BFS from a given node to all of its children inside a given loop.</span></div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span><span class="comment">/// The returned vector of nodes includes the starting point.</span></div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span><span class="comment"></span><a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;DomTreeNode *, 16&gt;</a></div>
<div class="foldopen" id="foldopen00458" data-start="{" data-end="}">
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno"><a class="line" href="namespacellvm.html#a0690f49d8a34d0f21d523c6ad489028e">  458</a></span><a class="code hl_function" href="namespacellvm.html#a0690f49d8a34d0f21d523c6ad489028e">llvm::collectChildrenInLoop</a>(<a class="code hl_class" href="classllvm_1_1DomTreeNodeBase.html">DomTreeNode</a> *<a class="code hl_define" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *CurLoop) {</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;DomTreeNode *, 16&gt;</a> Worklist;</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>  <span class="keyword">auto</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AddRegionToWorklist</a> = [&amp;](<a class="code hl_class" href="classllvm_1_1DomTreeNodeBase.html">DomTreeNode</a> *DTN) {</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>    <span class="comment">// Only include subregions in the top level loop.</span></div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>    <a class="code hl_class" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB = DTN-&gt;getBlock();</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>    <span class="keywordflow">if</span> (CurLoop-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(BB))</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>      Worklist.push_back(DTN);</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>  };</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span> </div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AddRegionToWorklist</a>(<a class="code hl_define" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span> </div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; Worklist.size(); <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++) {</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>    <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1DomTreeNodeBase.html">DomTreeNode</a> *Child : Worklist[<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]-&gt;children())</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>      <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AddRegionToWorklist</a>(Child);</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>  }</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span> </div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>  <span class="keywordflow">return</span> Worklist;</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>}</div>
</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span> </div>
<div class="foldopen" id="foldopen00477" data-start="{" data-end="}">
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno"><a class="line" href="namespacellvm.html#a74b422e2c15d859ba49911cc329f11d7">  477</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacellvm.html#a74b422e2c15d859ba49911cc329f11d7">llvm::deleteDeadLoop</a>(<a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code hl_class" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT, <a class="code hl_class" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE,</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>                          <a class="code hl_class" href="classllvm_1_1LoopInfo.html">LoopInfo</a> *LI, <a class="code hl_class" href="classllvm_1_1MemorySSA.html">MemorySSA</a> *MSSA) {</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>  <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!DT || L-&gt;<a class="code hl_function" href="classllvm_1_1Loop.html#a6633de38a82ca61150d48f9860ab127d">isLCSSAForm</a>(*DT)) &amp;&amp; <span class="stringliteral">&quot;Expected LCSSA!&quot;</span>);</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>  <span class="keyword">auto</span> *Preheader = L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#ac3280e7f76f955403fe17eacf126b90d">getLoopPreheader</a>();</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>  <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Preheader &amp;&amp; <span class="stringliteral">&quot;Preheader should exist!&quot;</span>);</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span> </div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>  std::unique_ptr&lt;MemorySSAUpdater&gt; MSSAU;</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>  <span class="keywordflow">if</span> (MSSA)</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>    MSSAU = std::make_unique&lt;MemorySSAUpdater&gt;(MSSA);</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span> </div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>  <span class="comment">// Now that we know the removal is safe, remove the loop by changing the</span></div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>  <span class="comment">// branch from the preheader to go to the single exit block.</span></div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>  <span class="comment">// Because we&#39;re deleting a large chunk of code at once, the sequence in which</span></div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>  <span class="comment">// we remove things is very important to avoid invalidation issues.</span></div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span> </div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>  <span class="comment">// Tell ScalarEvolution that the loop is deleted. Do this before</span></div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>  <span class="comment">// deleting the loop so that ScalarEvolution can look at the loop</span></div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>  <span class="comment">// to determine what it needs to clean up.</span></div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>  <span class="keywordflow">if</span> (SE)</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>    SE-&gt;<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#a592bdd7731b14ff4ff5d646f6f399900">forgetLoop</a>(L);</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span> </div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>  <span class="keyword">auto</span> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OldBr</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;BranchInst&gt;</a>(Preheader-&gt;getTerminator());</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>  <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OldBr</a> &amp;&amp; <span class="stringliteral">&quot;Preheader must end with a branch&quot;</span>);</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>  <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OldBr</a>-&gt;isUnconditional() &amp;&amp; <span class="stringliteral">&quot;Preheader must have a single successor&quot;</span>);</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>  <span class="comment">// Connect the preheader to the exit block. Keep the old edge to the header</span></div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>  <span class="comment">// around to perform the dominator tree update in two separate steps</span></div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>  <span class="comment">// -- #1 insertion of the edge preheader -&gt; exit and #2 deletion of the edge</span></div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>  <span class="comment">// preheader -&gt; header.</span></div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>  <span class="comment">// 0.  Preheader          1.  Preheader           2.  Preheader</span></div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>  <span class="comment">//        |                    |   |                   |</span></div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>  <span class="comment">//        V                    |   V                   |</span></div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>  <span class="comment">//      Header &lt;--\            | Header &lt;--\           | Header &lt;--\</span></div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span><span class="comment">  //       |  |     |            |  |  |     |           |  |  |     |</span></div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>  <span class="comment">//       |  V     |            |  |  V     |           |  |  V     |</span></div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>  <span class="comment">//       | Body --/            |  | Body --/           |  | Body --/</span></div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>  <span class="comment">//       V                     V  V                    V  V</span></div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>  <span class="comment">//      Exit                   Exit                    Exit</span></div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>  <span class="comment">// By doing this is two separate steps we can perform the dominator tree</span></div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>  <span class="comment">// update without using the batch update API.</span></div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>  <span class="comment">// Even when the loop is never executed, we cannot remove the edge from the</span></div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>  <span class="comment">// source block to the exit block. Consider the case where the unexecuted loop</span></div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>  <span class="comment">// branches back to an outer loop. If we deleted the loop and removed the edge</span></div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>  <span class="comment">// coming to this inner loop, this will break the outer loop structure (by</span></div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>  <span class="comment">// deleting the backedge of the outer loop). If the outer loop is indeed a</span></div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>  <span class="comment">// non-loop, it will be deleted in a future iteration of loop deletion pass.</span></div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IRBuilder&lt;&gt;</a> <a class="code hl_variable" href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OldBr</a>);</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span> </div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>  <span class="keyword">auto</span> *ExitBlock = L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#afd50c2de451ac9fc0865dc747dd2d485">getUniqueExitBlock</a>();</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>  <a class="code hl_class" href="classllvm_1_1DomTreeUpdater.html">DomTreeUpdater</a> DTU(DT, DomTreeUpdater::UpdateStrategy::Eager);</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>  <span class="keywordflow">if</span> (ExitBlock) {</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>    <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ExitBlock &amp;&amp; <span class="stringliteral">&quot;Should have a unique exit block!&quot;</span>);</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>    <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#ae7ebc88c9b32b51b749bd5bbcfaa5fb8">hasDedicatedExits</a>() &amp;&amp; <span class="stringliteral">&quot;Loop should have dedicated exits!&quot;</span>);</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span> </div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>    Builder.CreateCondBr(Builder.getFalse(), L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a4a75755081e9a3803d2f4ccf6f0cb1f8">getHeader</a>(), ExitBlock);</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>    <span class="comment">// Remove the old branch. The conditional branch becomes a new terminator.</span></div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OldBr</a>-&gt;eraseFromParent();</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span> </div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>    <span class="comment">// Rewrite phis in the exit block to get their inputs from the Preheader</span></div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>    <span class="comment">// instead of the exiting block.</span></div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>    <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1PHINode.html">PHINode</a> &amp;<a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a> : ExitBlock-&gt;phis()) {</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>      <span class="comment">// Set the zero&#39;th element of Phi to be from the preheader and remove all</span></div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>      <span class="comment">// other incoming values. Given the loop has dedicated exits, all other</span></div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>      <span class="comment">// incoming values must be from the exiting blocks.</span></div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>      <span class="keywordtype">int</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PredIndex</a> = 0;</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>      <a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>.setIncomingBlock(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PredIndex</a>, Preheader);</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>      <span class="comment">// Removes all incoming values from all other exiting blocks (including</span></div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>      <span class="comment">// duplicate values from an exiting block).</span></div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>      <span class="comment">// Nuke all entries except the zero&#39;th entry which is the preheader entry.</span></div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>      <span class="comment">// NOTE! We need to remove Incoming Values in the reverse order as done</span></div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>      <span class="comment">// below, to keep the indices valid for deletion (removeIncomingValues</span></div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>      <span class="comment">// updates getNumIncomingValues and shifts all values down into the</span></div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>      <span class="comment">// operand being deleted).</span></div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">i</a> = 0, e = <a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>.getNumIncomingValues() - 1; <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">i</a> != e; ++<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">i</a>)</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>        <a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>.removeIncomingValue(e - <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">i</a>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span> </div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>      <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>.getNumIncomingValues() == 1 &amp;&amp;</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>              <a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>.getIncomingBlock(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PredIndex</a>) == Preheader) &amp;&amp;</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>             <span class="stringliteral">&quot;Should have exactly one value and that&#39;s from the preheader!&quot;</span>);</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>    }</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span> </div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>    <span class="keywordflow">if</span> (DT) {</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>      DTU.<a class="code hl_function" href="classllvm_1_1DomTreeUpdater.html#aae522cd1928cfac6850b50c7a3e22185">applyUpdates</a>({{DominatorTree::Insert, Preheader, ExitBlock}});</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>      <span class="keywordflow">if</span> (MSSA) {</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>        MSSAU-&gt;applyUpdates({{DominatorTree::Insert, Preheader, ExitBlock}},</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>                            *DT);</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacellvm.html#aa29fe161c408879ada30c90ebbf55dcf">VerifyMemorySSA</a>)</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>          MSSA-&gt;<a class="code hl_function" href="classllvm_1_1MemorySSA.html#a1b675075f5fd5a025edeca069612042e">verifyMemorySSA</a>();</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>      }</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>    }</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span> </div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>    <span class="comment">// Disconnect the loop body by branching directly to its exit.</span></div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>    Builder.SetInsertPoint(Preheader-&gt;getTerminator());</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>    Builder.CreateBr(ExitBlock);</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>    <span class="comment">// Remove the old branch.</span></div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>    Preheader-&gt;getTerminator()-&gt;eraseFromParent();</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>    <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#ab5f6bd919ffbc45bfa5e083ab9f4cef0">hasNoExitBlocks</a>() &amp;&amp;</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>           <span class="stringliteral">&quot;Loop should have either zero or one exit blocks.&quot;</span>);</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span> </div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>    Builder.SetInsertPoint(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OldBr</a>);</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>    Builder.CreateUnreachable();</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>    Preheader-&gt;getTerminator()-&gt;eraseFromParent();</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>  }</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span> </div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>  <span class="keywordflow">if</span> (DT) {</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>    DTU.<a class="code hl_function" href="classllvm_1_1DomTreeUpdater.html#aae522cd1928cfac6850b50c7a3e22185">applyUpdates</a>({{DominatorTree::Delete, Preheader, L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a4a75755081e9a3803d2f4ccf6f0cb1f8">getHeader</a>()}});</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>    <span class="keywordflow">if</span> (MSSA) {</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>      MSSAU-&gt;applyUpdates({{DominatorTree::Delete, Preheader, L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a4a75755081e9a3803d2f4ccf6f0cb1f8">getHeader</a>()}},</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>                          *DT);</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>      <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallSetVector&lt;BasicBlock *, 8&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DeadBlockSet</a>(L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#af9096a02aa326d9a55f4d16ba9f9d243">block_begin</a>(),</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>                                                   L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a7a7815ad3e094df37f2312a4bba8c13e">block_end</a>());</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>      MSSAU-&gt;removeBlocks(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DeadBlockSet</a>);</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacellvm.html#aa29fe161c408879ada30c90ebbf55dcf">VerifyMemorySSA</a>)</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>        MSSA-&gt;<a class="code hl_function" href="classllvm_1_1MemorySSA.html#a1b675075f5fd5a025edeca069612042e">verifyMemorySSA</a>();</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>    }</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>  }</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span> </div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>  <span class="comment">// Use a map to unique and a vector to guarantee deterministic ordering.</span></div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">llvm::SmallDenseSet&lt;std::pair&lt;DIVariable *, DIExpression *&gt;</a>, 4&gt; <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DeadDebugSet</a>;</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">llvm::SmallVector&lt;DbgVariableIntrinsic *, 4&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DeadDebugInst</a>;</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span> </div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>  <span class="keywordflow">if</span> (ExitBlock) {</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>    <span class="comment">// Given LCSSA form is satisfied, we should not have users of instructions</span></div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>    <span class="comment">// within the dead loop outside of the loop. However, LCSSA doesn&#39;t take</span></div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>    <span class="comment">// unreachable uses into account. We handle them here.</span></div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>    <span class="comment">// We could do it after drop all references (in this case all users in the</span></div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>    <span class="comment">// loop will be already eliminated and we have less work to do but according</span></div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>    <span class="comment">// to API doc of User::dropAllReferences only valid operation after dropping</span></div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>    <span class="comment">// references, is deletion. So let&#39;s substitute all usages of</span></div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>    <span class="comment">// instruction from the loop with undef value of corresponding type first.</span></div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code hl_enumvalue" href="namespacellvm.html#a0e00fad9c34de40b1e31f3aa6f8e024cae1e4c8c9ccd9fc39c391da4bcd093fb2">Block</a> : L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a78bec3084b9a47ee11cc2e56f9004717">blocks</a>())</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>      <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : *<a class="code hl_enumvalue" href="namespacellvm.html#a0e00fad9c34de40b1e31f3aa6f8e024cae1e4c8c9ccd9fc39c391da4bcd093fb2">Block</a>) {</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>        <span class="keyword">auto</span> *Undef = <a class="code hl_function" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getType());</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>        <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Value::use_iterator</a> UI = <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.use_begin(), <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a> = <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.use_end();</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>             UI != <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a>;) {</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>          <a class="code hl_class" href="classllvm_1_1Use.html">Use</a> &amp;U = *UI;</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>          ++UI;</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>          <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Usr</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;Instruction&gt;</a>(U.getUser()))</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>            <span class="keywordflow">if</span> (L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Usr</a>-&gt;getParent()))</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>              <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>          <span class="comment">// If we have a DT then we can check that uses outside a loop only in</span></div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>          <span class="comment">// unreachable block.</span></div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>          <span class="keywordflow">if</span> (DT)</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>            <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!DT-&gt;<a class="code hl_function" href="classllvm_1_1DominatorTree.html#a1a70f2c359aadd76a72aaaede16aca4a">isReachableFromEntry</a>(U) &amp;&amp;</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>                   <span class="stringliteral">&quot;Unexpected user in reachable block&quot;</span>);</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>          U.set(Undef);</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>        }</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>        <span class="keyword">auto</span> *DVI = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;DbgVariableIntrinsic&gt;</a>(&amp;<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>        <span class="keywordflow">if</span> (!DVI)</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>        <span class="keyword">auto</span> Key =</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>            <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DeadDebugSet</a>.find({DVI-&gt;getVariable(), DVI-&gt;getExpression()});</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>        <span class="keywordflow">if</span> (Key != <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DeadDebugSet</a>.end())</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>        <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DeadDebugSet</a>.insert({DVI-&gt;getVariable(), DVI-&gt;getExpression()});</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>        <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DeadDebugInst</a>.push_back(DVI);</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>      }</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span> </div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>    <span class="comment">// After the loop has been deleted all the values defined and modified</span></div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>    <span class="comment">// inside the loop are going to be unavailable.</span></div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>    <span class="comment">// Since debug values in the loop have been deleted, inserting an undef</span></div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>    <span class="comment">// dbg.value truncates the range of any dbg.value before the loop where the</span></div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>    <span class="comment">// loop used to be. This is particularly important for constant values.</span></div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>    <a class="code hl_class" href="classllvm_1_1DIBuilder.html">DIBuilder</a> DIB(*ExitBlock-&gt;getModule());</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>    <a class="code hl_class" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InsertDbgValueBefore</a> = ExitBlock-&gt;getFirstNonPHI();</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>    <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InsertDbgValueBefore</a> &amp;&amp;</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>           <span class="stringliteral">&quot;There should be a non-PHI instruction in exit block, else these &quot;</span></div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>           <span class="stringliteral">&quot;instructions will have no parent.&quot;</span>);</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *DVI : <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DeadDebugInst</a>)</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>      DIB.insertDbgValueIntrinsic(<a class="code hl_function" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(Builder.getInt32Ty()),</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>                                  DVI-&gt;getVariable(), DVI-&gt;getExpression(),</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>                                  DVI-&gt;getDebugLoc(), <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InsertDbgValueBefore</a>);</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>  }</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span> </div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>  <span class="comment">// Remove the block from the reference counting scheme, so that we can</span></div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>  <span class="comment">// delete it freely later.</span></div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code hl_enumvalue" href="namespacellvm.html#a0e00fad9c34de40b1e31f3aa6f8e024cae1e4c8c9ccd9fc39c391da4bcd093fb2">Block</a> : L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a78bec3084b9a47ee11cc2e56f9004717">blocks</a>())</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>    <a class="code hl_enumvalue" href="namespacellvm.html#a0e00fad9c34de40b1e31f3aa6f8e024cae1e4c8c9ccd9fc39c391da4bcd093fb2">Block</a>-&gt;<a class="code hl_function" href="classllvm_1_1User.html#a48ec5fcee6d2c17c723e8e67f169f948">dropAllReferences</a>();</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span> </div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>  <span class="keywordflow">if</span> (MSSA &amp;&amp; <a class="code hl_variable" href="namespacellvm.html#aa29fe161c408879ada30c90ebbf55dcf">VerifyMemorySSA</a>)</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>    MSSA-&gt;<a class="code hl_function" href="classllvm_1_1MemorySSA.html#a1b675075f5fd5a025edeca069612042e">verifyMemorySSA</a>();</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span> </div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>  <span class="keywordflow">if</span> (LI) {</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>    <span class="comment">// Erase the instructions and the blocks without having to worry</span></div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>    <span class="comment">// about ordering because we already dropped the references.</span></div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>    <span class="comment">// NOTE: This iteration is safe because erasing the block does not remove</span></div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>    <span class="comment">// its entry from the loop&#39;s block list.  We do that in the next section.</span></div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="classllvm_1_1LoopBase.html#ab24de043c5c57a0d0dbb2adf902e8db1">Loop::block_iterator</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LpI</a> = L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#af9096a02aa326d9a55f4d16ba9f9d243">block_begin</a>(), <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LpE</a> = L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a7a7815ad3e094df37f2312a4bba8c13e">block_end</a>();</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>         <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LpI</a> != <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LpE</a>; ++<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LpI</a>)</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>      (*LpI)-&gt;eraseFromParent();</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span> </div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>    <span class="comment">// Finally, the blocks from loopinfo.  This has to happen late because</span></div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>    <span class="comment">// otherwise our loop iterators won&#39;t work.</span></div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span> </div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallPtrSet&lt;BasicBlock *, 8&gt;</a> blocks;</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>    blocks.insert(L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#af9096a02aa326d9a55f4d16ba9f9d243">block_begin</a>(), L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a7a7815ad3e094df37f2312a4bba8c13e">block_end</a>());</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>    <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB : blocks)</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>      LI-&gt;<a class="code hl_function" href="classllvm_1_1LoopInfoBase.html#a52cb018f4f53613b5369ddb5d9873286">removeBlock</a>(BB);</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span> </div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>    <span class="comment">// The last step is to update LoopInfo now that we&#39;ve eliminated this loop.</span></div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>    <span class="comment">// Note: LoopInfo::erase remove the given loop and relink its subloops with</span></div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>    <span class="comment">// its parent. While removeLoop/removeChildLoop remove the given loop but</span></div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>    <span class="comment">// not relink its subloops, which is what we want.</span></div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *ParentLoop = L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#ae34bcd53f75fab0c03b509ecccb4cfaf">getParentLoop</a>()) {</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>      <a class="code hl_typedef" href="classllvm_1_1LoopBase.html#a72e879f0ce9d0a27682764a646e4e39b">Loop::iterator</a> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code hl_function" href="namespacellvm.html#a086e9fbdb06276db7753101a08a63adf">find</a>(*ParentLoop, L);</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>      <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != ParentLoop-&gt;end() &amp;&amp; <span class="stringliteral">&quot;Couldn&#39;t find loop&quot;</span>);</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>      ParentLoop-&gt;removeChildLoop(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>      <a class="code hl_typedef" href="classllvm_1_1LoopBase.html#a72e879f0ce9d0a27682764a646e4e39b">Loop::iterator</a> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code hl_function" href="namespacellvm.html#a086e9fbdb06276db7753101a08a63adf">find</a>(*LI, L);</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>      <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != LI-&gt;<a class="code hl_function" href="classllvm_1_1LoopInfoBase.html#a4f728602e7d377829675f13446cf6647">end</a>() &amp;&amp; <span class="stringliteral">&quot;Couldn&#39;t find loop&quot;</span>);</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>      LI-&gt;<a class="code hl_function" href="classllvm_1_1LoopInfoBase.html#a7bfb10fc99484961d5fac51621793aa6">removeLoop</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>    }</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>    LI-&gt;<a class="code hl_function" href="classllvm_1_1LoopInfoBase.html#ae98a33be737ade7a1f27130477b003f2">destroy</a>(L);</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>  }</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>}</div>
</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span> </div>
<div class="foldopen" id="foldopen00698" data-start="{" data-end="}">
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno"><a class="line" href="LoopUtils_8cpp.html#a7cc325d24ab8c9d2b30b1758a60132b2">  698</a></span><span class="keyword">static</span> <a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *<a class="code hl_function" href="LoopUtils_8cpp.html#a7cc325d24ab8c9d2b30b1758a60132b2">getOutermostLoop</a>(<a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>  <span class="keywordflow">while</span> (<a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *Parent = L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#ae34bcd53f75fab0c03b509ecccb4cfaf">getParentLoop</a>())</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>    L = Parent;</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>  <span class="keywordflow">return</span> L;</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>}</div>
</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span> </div>
<div class="foldopen" id="foldopen00704" data-start="{" data-end="}">
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno"><a class="line" href="namespacellvm.html#a9267cf9acba995fd1b10ae1015d048c8">  704</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacellvm.html#a9267cf9acba995fd1b10ae1015d048c8">llvm::breakLoopBackedge</a>(<a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code hl_class" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="code hl_class" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE,</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>                             <a class="code hl_class" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="code hl_class" href="classllvm_1_1MemorySSA.html">MemorySSA</a> *MSSA) {</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>  <span class="keyword">auto</span> *Latch = L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">getLoopLatch</a>();</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>  <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Latch &amp;&amp; <span class="stringliteral">&quot;multiple latches not yet supported&quot;</span>);</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>  <span class="keyword">auto</span> *Header = L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a4a75755081e9a3803d2f4ccf6f0cb1f8">getHeader</a>();</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>  <a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OutermostLoop</a> = <a class="code hl_function" href="LoopUtils_8cpp.html#a7cc325d24ab8c9d2b30b1758a60132b2">getOutermostLoop</a>(L);</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span> </div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>  SE.<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#a592bdd7731b14ff4ff5d646f6f399900">forgetLoop</a>(L);</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span> </div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>  <span class="comment">// Note: By splitting the backedge, and then explicitly making it unreachable</span></div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>  <span class="comment">// we gracefully handle corner cases such as non-bottom tested loops and the</span></div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>  <span class="comment">// like.  We also have the benefit of being able to reuse existing well tested</span></div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>  <span class="comment">// code.  It might be worth special casing the common bottom tested case at</span></div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>  <span class="comment">// some point to avoid code churn.</span></div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span> </div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>  std::unique_ptr&lt;MemorySSAUpdater&gt; MSSAU;</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>  <span class="keywordflow">if</span> (MSSA)</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>    MSSAU = std::make_unique&lt;MemorySSAUpdater&gt;(MSSA);</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span> </div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>  <span class="keyword">auto</span> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">BackedgeBB</a> = <a class="code hl_function" href="namespacellvm.html#adf83581f514774264d616eef5706cf6e">SplitEdge</a>(Latch, Header, &amp;DT, &amp;LI, MSSAU.get());</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span> </div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>  <a class="code hl_class" href="classllvm_1_1DomTreeUpdater.html">DomTreeUpdater</a> DTU(&amp;DT, DomTreeUpdater::UpdateStrategy::Eager);</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>  (<a class="code hl_class" href="classvoid.html">void</a>)<a class="code hl_function" href="namespacellvm.html#a97370114df349e0996f133e3402c1595">changeToUnreachable</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">BackedgeBB</a>-&gt;getTerminator(),</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>                            <span class="comment">/*PreserveLCSSA*/</span> <span class="keyword">true</span>, &amp;DTU, MSSAU.get());</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span> </div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>  <span class="comment">// Erase (and destroy) this loop instance.  Handles relinking sub-loops</span></div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>  <span class="comment">// and blocks within the loop as needed.</span></div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>  LI.<a class="code hl_function" href="classllvm_1_1LoopInfo.html#ab508a6297bcb823ca9d561facc241470">erase</a>(L);</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span> </div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>  <span class="comment">// If the loop we broke had a parent, then changeToUnreachable might have</span></div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>  <span class="comment">// caused a block to be removed from the parent loop (see loop_nest_lcssa</span></div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>  <span class="comment">// test case in zero-btc.ll for an example), thus changing the parent&#39;s</span></div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>  <span class="comment">// exit blocks.  If that happened, we need to rebuild LCSSA on the outermost</span></div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>  <span class="comment">// loop which might have a had a block removed.</span></div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OutermostLoop</a> != L)</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>    <a class="code hl_function" href="namespacellvm.html#a30e47ae014eb35bea24e45097c2bd731">formLCSSARecursively</a>(*<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OutermostLoop</a>, DT, &amp;LI, &amp;SE);</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>}</div>
</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span> </div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span><span class="comment"></span> </div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span><span class="comment">/// Checks if \p L has single exit through latch block except possibly</span></div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span><span class="comment">/// &quot;deoptimizing&quot; exits. Returns branch instruction terminating the loop</span></div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span><span class="comment">/// latch if above check is successful, nullptr otherwise.</span></div>
<div class="foldopen" id="foldopen00746" data-start="{" data-end="}">
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno"><a class="line" href="LoopUtils_8cpp.html#a74712012450beeec949c228fd21d10a6">  746</a></span><span class="comment"></span><span class="keyword">static</span> <a class="code hl_class" href="classllvm_1_1BranchInst.html">BranchInst</a> *<a class="code hl_function" href="LoopUtils_8cpp.html#a74712012450beeec949c228fd21d10a6">getExpectedExitLoopLatchBranch</a>(<a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *L) {</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>  <a class="code hl_class" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Latch = L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">getLoopLatch</a>();</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>  <span class="keywordflow">if</span> (!Latch)</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span> </div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>  <a class="code hl_class" href="classllvm_1_1BranchInst.html">BranchInst</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchBR</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;BranchInst&gt;</a>(Latch-&gt;<a class="code hl_function" href="classllvm_1_1BasicBlock.html#a71a9eabc4318b2fc34f83b01dfee484b">getTerminator</a>());</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>  <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchBR</a> || <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchBR</a>-&gt;getNumSuccessors() != 2 || !L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#af691775d5a45e28afbdb3e97cab22eee">isLoopExiting</a>(Latch))</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span> </div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>  <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchBR</a>-&gt;getSuccessor(0) == L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a4a75755081e9a3803d2f4ccf6f0cb1f8">getHeader</a>() ||</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>          <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchBR</a>-&gt;getSuccessor(1) == L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a4a75755081e9a3803d2f4ccf6f0cb1f8">getHeader</a>()) &amp;&amp;</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>         <span class="stringliteral">&quot;At least one edge out of the latch must go to the header&quot;</span>);</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span> </div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;BasicBlock *, 4&gt;</a> ExitBlocks;</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>  L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#aed67883fd0d5f8356bb709b4d16ebe70">getUniqueNonLatchExitBlocks</a>(ExitBlocks);</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(ExitBlocks, [](<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *EB) {</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>        <span class="keywordflow">return</span> !EB-&gt;<a class="code hl_function" href="classllvm_1_1BasicBlock.html#a6796a84f02394ce6ebef227c866cd5eb">getTerminatingDeoptimizeCall</a>();</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>      }))</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span> </div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>  <span class="keywordflow">return</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchBR</a>;</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>}</div>
</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span> </div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span><a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Optional&lt;unsigned&gt;</a></div>
<div class="foldopen" id="foldopen00770" data-start="{" data-end="}">
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno"><a class="line" href="namespacellvm.html#a9f77adb928109e199b46dfd774001f0d">  770</a></span><a class="code hl_function" href="namespacellvm.html#a9f77adb928109e199b46dfd774001f0d">llvm::getLoopEstimatedTripCount</a>(<a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>                                <span class="keywordtype">unsigned</span> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">EstimatedLoopInvocationWeight</a>) {</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>  <span class="comment">// Support loops with an exiting latch and other existing exists only</span></div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>  <span class="comment">// deoptimize.</span></div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>  <a class="code hl_class" href="classllvm_1_1BranchInst.html">BranchInst</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchBranch</a> = <a class="code hl_function" href="LoopUtils_8cpp.html#a74712012450beeec949c228fd21d10a6">getExpectedExitLoopLatchBranch</a>(L);</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>  <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchBranch</a>)</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacellvm.html#a6497a581a4f7152729c29a368ac7d7be">None</a>;</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span> </div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>  <span class="comment">// To estimate the number of times the loop body was executed, we want to</span></div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>  <span class="comment">// know the number of times the backedge was taken, vs. the number of times</span></div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>  <span class="comment">// we exited the loop.</span></div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>  uint64_t <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">BackedgeTakenWeight</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchExitWeight</a>;</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>  <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchBranch</a>-&gt;extractProfMetadata(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">BackedgeTakenWeight</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchExitWeight</a>))</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacellvm.html#a6497a581a4f7152729c29a368ac7d7be">None</a>;</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span> </div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchBranch</a>-&gt;getSuccessor(0) != L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a4a75755081e9a3803d2f4ccf6f0cb1f8">getHeader</a>())</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>    <a class="code hl_function" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">BackedgeTakenWeight</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchExitWeight</a>);</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span> </div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>  <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchExitWeight</a>)</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacellvm.html#a6497a581a4f7152729c29a368ac7d7be">None</a>;</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span> </div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">EstimatedLoopInvocationWeight</a>)</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>    *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">EstimatedLoopInvocationWeight</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchExitWeight</a>;</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span> </div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>  <span class="comment">// Estimated backedge taken count is a ratio of the backedge taken weight by</span></div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>  <span class="comment">// the weight of the edge exiting the loop, rounded to nearest.</span></div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>  uint64_t BackedgeTakenCount =</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>      <a class="code hl_function" href="namespacellvm.html#a646699d7e9479783d02a368364310c67">llvm::divideNearest</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">BackedgeTakenWeight</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchExitWeight</a>);</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>  <span class="comment">// Estimated trip count is one plus estimated backedge taken count.</span></div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>  <span class="keywordflow">return</span> BackedgeTakenCount + 1;</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>}</div>
</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span> </div>
<div class="foldopen" id="foldopen00802" data-start="{" data-end="}">
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno"><a class="line" href="namespacellvm.html#aad7cd933f586fc0c66656a4751ac069f">  802</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="namespacellvm.html#aad7cd933f586fc0c66656a4751ac069f">llvm::setLoopEstimatedTripCount</a>(<a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *L, <span class="keywordtype">unsigned</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">EstimatedTripCount</a>,</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>                                     <span class="keywordtype">unsigned</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">EstimatedloopInvocationWeight</a>) {</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>  <span class="comment">// Support loops with an exiting latch and other existing exists only</span></div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>  <span class="comment">// deoptimize.</span></div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>  <a class="code hl_class" href="classllvm_1_1BranchInst.html">BranchInst</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchBranch</a> = <a class="code hl_function" href="LoopUtils_8cpp.html#a74712012450beeec949c228fd21d10a6">getExpectedExitLoopLatchBranch</a>(L);</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>  <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchBranch</a>)</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span> </div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>  <span class="comment">// Calculate taken and exit weights.</span></div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>  <span class="keywordtype">unsigned</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchExitWeight</a> = 0;</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>  <span class="keywordtype">unsigned</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">BackedgeTakenWeight</a> = 0;</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span> </div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">EstimatedTripCount</a> &gt; 0) {</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchExitWeight</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">EstimatedloopInvocationWeight</a>;</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">BackedgeTakenWeight</a> = (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">EstimatedTripCount</a> - 1) * <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchExitWeight</a>;</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>  }</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span> </div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>  <span class="comment">// Make a swap if back edge is taken when condition is &quot;false&quot;.</span></div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchBranch</a>-&gt;getSuccessor(0) != L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a4a75755081e9a3803d2f4ccf6f0cb1f8">getHeader</a>())</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>    <a class="code hl_function" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">BackedgeTakenWeight</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchExitWeight</a>);</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span> </div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>  <a class="code hl_class" href="classllvm_1_1MDBuilder.html">MDBuilder</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">MDB</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchBranch</a>-&gt;getContext());</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span> </div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>  <span class="comment">// Set/Update profile metadata.</span></div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchBranch</a>-&gt;setMetadata(</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>      LLVMContext::MD_prof,</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>      <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">MDB</a>.createBranchWeights(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">BackedgeTakenWeight</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LatchExitWeight</a>));</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span> </div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>}</div>
</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span> </div>
<div class="foldopen" id="foldopen00833" data-start="{" data-end="}">
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno"><a class="line" href="namespacellvm.html#ac438183b3cdb70d2fa78265512238514">  833</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="namespacellvm.html#ac438183b3cdb70d2fa78265512238514">llvm::hasIterationCountInvariantInParent</a>(<a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *InnerLoop,</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>                                              <a class="code hl_class" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE) {</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>  <a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OuterL</a> = InnerLoop-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#ae34bcd53f75fab0c03b509ecccb4cfaf">getParentLoop</a>();</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>  <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OuterL</a>)</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span> </div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>  <span class="comment">// Get the backedge taken count for the inner loop</span></div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>  <a class="code hl_class" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *InnerLoopLatch = InnerLoop-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">getLoopLatch</a>();</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>  <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InnerLoopBECountSC</a> = SE.<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#ab24add5df0874cdfa47b47b1d9926e9e">getExitCount</a>(InnerLoop, InnerLoopLatch);</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">isa&lt;SCEVCouldNotCompute&gt;</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InnerLoopBECountSC</a>) ||</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>      !<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InnerLoopBECountSC</a>-&gt;getType()-&gt;isIntegerTy())</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span> </div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>  <span class="comment">// Get whether count is invariant to the outer loop</span></div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>  <a class="code hl_enumeration" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912c">ScalarEvolution::LoopDisposition</a> LD =</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>      SE.<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#a61f5098e98f972466ae233e6d01f9f9c">getLoopDisposition</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InnerLoopBECountSC</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OuterL</a>);</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>  <span class="keywordflow">if</span> (LD != <a class="code hl_enumvalue" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca1b7d4316c0866b0b0b7a510e1800f4a8">ScalarEvolution::LoopInvariant</a>)</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span> </div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>}</div>
</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span> </div>
<div class="foldopen" id="foldopen00855" data-start="{" data-end="}">
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno"><a class="line" href="namespacellvm.html#a52fcded779c8029fdafaa9897cd3b238">  855</a></span><a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *<a class="code hl_function" href="namespacellvm.html#a52fcded779c8029fdafaa9897cd3b238">llvm::createMinMaxOp</a>(<a class="code hl_class" href="classllvm_1_1IRBuilderBase.html">IRBuilderBase</a> &amp;Builder, <a class="code hl_enumeration" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830e">RecurKind</a> RK, <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *<a class="code hl_enumvalue" href="namespacellvm.html#a2554a96c67bdd7d0a62855a844ec55b0a945d5e233cf7d6240f6b783b36a374ff">Left</a>,</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>                            <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *<a class="code hl_enumvalue" href="namespacellvm.html#a2554a96c67bdd7d0a62855a844ec55b0a92b09c7c48c520c3c55e497875da437c">Right</a>) {</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>  <a class="code hl_enumeration" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">CmpInst::Predicate</a> Pred;</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>  <span class="keywordflow">switch</span> (RK) {</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>  <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>    <a class="code hl_define" href="llvm_2Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown min/max recurrence kind&quot;</span>);</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>  <span class="keywordflow">case</span> RecurKind::UMin:</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>    Pred = <a class="code hl_enumvalue" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">CmpInst::ICMP_ULT</a>;</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>  <span class="keywordflow">case</span> RecurKind::UMax:</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>    Pred = <a class="code hl_enumvalue" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">CmpInst::ICMP_UGT</a>;</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>  <span class="keywordflow">case</span> RecurKind::SMin:</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>    Pred = <a class="code hl_enumvalue" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">CmpInst::ICMP_SLT</a>;</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>  <span class="keywordflow">case</span> RecurKind::SMax:</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>    Pred = <a class="code hl_enumvalue" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">CmpInst::ICMP_SGT</a>;</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>  <span class="keywordflow">case</span> RecurKind::FMin:</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>    Pred = <a class="code hl_enumvalue" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba326bee0a4a424cef21c1cf8adb8b8dd8">CmpInst::FCMP_OLT</a>;</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>  <span class="keywordflow">case</span> RecurKind::FMax:</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>    Pred = <a class="code hl_enumvalue" href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba4c399f525bbcf03d72af4b303e6eeca8">CmpInst::FCMP_OGT</a>;</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>  }</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span> </div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>  <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *Cmp = Builder.CreateCmp(Pred, <a class="code hl_enumvalue" href="namespacellvm.html#a2554a96c67bdd7d0a62855a844ec55b0a945d5e233cf7d6240f6b783b36a374ff">Left</a>, <a class="code hl_enumvalue" href="namespacellvm.html#a2554a96c67bdd7d0a62855a844ec55b0a92b09c7c48c520c3c55e497875da437c">Right</a>, <span class="stringliteral">&quot;rdx.minmax.cmp&quot;</span>);</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>  <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *Select = Builder.CreateSelect(Cmp, <a class="code hl_enumvalue" href="namespacellvm.html#a2554a96c67bdd7d0a62855a844ec55b0a945d5e233cf7d6240f6b783b36a374ff">Left</a>, <a class="code hl_enumvalue" href="namespacellvm.html#a2554a96c67bdd7d0a62855a844ec55b0a92b09c7c48c520c3c55e497875da437c">Right</a>, <span class="stringliteral">&quot;rdx.minmax.select&quot;</span>);</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>  <span class="keywordflow">return</span> Select;</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>}</div>
</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span> </div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span><span class="comment">// Helper to generate an ordered reduction.</span></div>
<div class="foldopen" id="foldopen00887" data-start="{" data-end="}">
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno"><a class="line" href="namespacellvm.html#ae4af0a70c640314008a3cc3f827a9c99">  887</a></span><a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *<a class="code hl_function" href="namespacellvm.html#ae4af0a70c640314008a3cc3f827a9c99">llvm::getOrderedReduction</a>(<a class="code hl_class" href="classllvm_1_1IRBuilderBase.html">IRBuilderBase</a> &amp;Builder, <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *Acc, <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *Src,</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>                                 <span class="keywordtype">unsigned</span> Op, <a class="code hl_enumeration" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830e">RecurKind</a> RdxKind,</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>                                 <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ArrayRef&lt;Value *&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RedOps</a>) {</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>  <span class="keywordtype">unsigned</span> VF = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">cast&lt;FixedVectorType&gt;</a>(Src-&gt;<a class="code hl_function" href="classllvm_1_1Value.html#a0344a49526443edf90cc0aef3abd3337">getType</a>())-&gt;getNumElements();</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span> </div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>  <span class="comment">// Extract and apply reduction ops in ascending order:</span></div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>  <span class="comment">// e.g. ((((Acc + Scl[0]) + Scl[1]) + Scl[2]) + ) ... + Scl[VF-1]</span></div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>  <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *Result = Acc;</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ExtractIdx</a> = 0; <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ExtractIdx</a> != VF; ++<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ExtractIdx</a>) {</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>    <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *Ext =</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>        Builder.CreateExtractElement(Src, Builder.getInt32(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ExtractIdx</a>));</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span> </div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>    <span class="keywordflow">if</span> (Op != Instruction::ICmp &amp;&amp; Op != Instruction::FCmp) {</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>      Result = Builder.CreateBinOp((<a class="code hl_enumeration" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a>)Op, Result, Ext,</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>                                   <span class="stringliteral">&quot;bin.rdx&quot;</span>);</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>      <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code hl_function" href="classllvm_1_1RecurrenceDescriptor.html#af08d243545b64f4b77161992d0e2366e">RecurrenceDescriptor::isMinMaxRecurrenceKind</a>(RdxKind) &amp;&amp;</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>             <span class="stringliteral">&quot;Invalid min/max&quot;</span>);</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>      Result = <a class="code hl_function" href="namespacellvm.html#a52fcded779c8029fdafaa9897cd3b238">createMinMaxOp</a>(Builder, RdxKind, Result, Ext);</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>    }</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span> </div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>    <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RedOps</a>.empty())</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>      <a class="code hl_function" href="namespacellvm.html#a38e7976693c7a0420a3c5e912b819fb7">propagateIRFlags</a>(Result, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RedOps</a>);</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>  }</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span> </div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>  <span class="keywordflow">return</span> Result;</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>}</div>
</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span> </div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span><span class="comment">// Helper to generate a log2 shuffle reduction.</span></div>
<div class="foldopen" id="foldopen00916" data-start="{" data-end="}">
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno"><a class="line" href="namespacellvm.html#a3146c79023e06fc8c07e08bf903eafa6">  916</a></span><a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *<a class="code hl_function" href="namespacellvm.html#a3146c79023e06fc8c07e08bf903eafa6">llvm::getShuffleReduction</a>(<a class="code hl_class" href="classllvm_1_1IRBuilderBase.html">IRBuilderBase</a> &amp;Builder, <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *Src,</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>                                 <span class="keywordtype">unsigned</span> Op, <a class="code hl_enumeration" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830e">RecurKind</a> RdxKind,</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>                                 <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ArrayRef&lt;Value *&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RedOps</a>) {</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>  <span class="keywordtype">unsigned</span> VF = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">cast&lt;FixedVectorType&gt;</a>(Src-&gt;<a class="code hl_function" href="classllvm_1_1Value.html#a0344a49526443edf90cc0aef3abd3337">getType</a>())-&gt;getNumElements();</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>  <span class="comment">// VF is a power of 2 so we can emit the reduction using log2(VF) shuffles</span></div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>  <span class="comment">// and vector ops, reducing the set of values being computed by half each</span></div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>  <span class="comment">// round.</span></div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>  <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code hl_function" href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">isPowerOf2_32</a>(VF) &amp;&amp;</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>         <span class="stringliteral">&quot;Reduction emission only supported for pow2 vectors!&quot;</span>);</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>  <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">TmpVec</a> = Src;</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;int, 32&gt;</a> ShuffleMask(VF);</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">i</a> = VF; <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">i</a> != 1; <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">i</a> &gt;&gt;= 1) {</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>    <span class="comment">// Move the upper half of the vector to the lower half.</span></div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">j</a> = 0; <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">j</a> != <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">i</a> / 2; ++<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">j</a>)</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>      ShuffleMask[<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">j</a>] = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">i</a> / 2 + <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">j</a>;</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span> </div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>    <span class="comment">// Fill the rest of the mask with undef.</span></div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>    std::fill(&amp;ShuffleMask[<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">i</a> / 2], ShuffleMask.end(), -1);</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span> </div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>    <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Shuf</a> = Builder.CreateShuffleVector(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">TmpVec</a>, ShuffleMask, <span class="stringliteral">&quot;rdx.shuf&quot;</span>);</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span> </div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>    <span class="keywordflow">if</span> (Op != Instruction::ICmp &amp;&amp; Op != Instruction::FCmp) {</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>      <span class="comment">// The builder propagates its fast-math-flags setting.</span></div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>      <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">TmpVec</a> = Builder.CreateBinOp((<a class="code hl_enumeration" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a>)Op, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">TmpVec</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Shuf</a>,</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>                                   <span class="stringliteral">&quot;bin.rdx&quot;</span>);</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>      <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code hl_function" href="classllvm_1_1RecurrenceDescriptor.html#af08d243545b64f4b77161992d0e2366e">RecurrenceDescriptor::isMinMaxRecurrenceKind</a>(RdxKind) &amp;&amp;</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>             <span class="stringliteral">&quot;Invalid min/max&quot;</span>);</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>      <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">TmpVec</a> = <a class="code hl_function" href="namespacellvm.html#a52fcded779c8029fdafaa9897cd3b238">createMinMaxOp</a>(Builder, RdxKind, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">TmpVec</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Shuf</a>);</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>    }</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>    <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RedOps</a>.empty())</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>      <a class="code hl_function" href="namespacellvm.html#a38e7976693c7a0420a3c5e912b819fb7">propagateIRFlags</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">TmpVec</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RedOps</a>);</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span> </div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>    <span class="comment">// We may compute the reassociated scalar ops in a way that does not</span></div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>    <span class="comment">// preserve nsw/nuw etc. Conservatively, drop those flags.</span></div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ReductionInst</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;Instruction&gt;</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">TmpVec</a>))</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>      <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ReductionInst</a>-&gt;dropPoisonGeneratingFlags();</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>  }</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>  <span class="comment">// The result is in the first element of the vector.</span></div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>  <span class="keywordflow">return</span> Builder.CreateExtractElement(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">TmpVec</a>, Builder.getInt32(0));</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>}</div>
</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span> </div>
<div class="foldopen" id="foldopen00958" data-start="{" data-end="}">
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno"><a class="line" href="namespacellvm.html#a364d6ca7dc2c6348ada7f23c58b14264">  958</a></span><a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *<a class="code hl_function" href="namespacellvm.html#a364d6ca7dc2c6348ada7f23c58b14264">llvm::createSimpleTargetReduction</a>(<a class="code hl_class" href="classllvm_1_1IRBuilderBase.html">IRBuilderBase</a> &amp;Builder,</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>                                         <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> *<a class="code hl_class" href="classllvm_1_1TargetTransformInfo.html">TTI</a>,</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>                                         <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *Src, <a class="code hl_enumeration" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830e">RecurKind</a> RdxKind,</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>                                         <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ArrayRef&lt;Value *&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RedOps</a>) {</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>  <a class="code hl_struct" href="structllvm_1_1TargetTransformInfo_1_1ReductionFlags.html">TargetTransformInfo::ReductionFlags</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RdxFlags</a>;</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RdxFlags</a>.IsMaxOp = RdxKind == RecurKind::SMax || RdxKind == RecurKind::UMax ||</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>                     RdxKind == RecurKind::FMax;</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RdxFlags</a>.IsSigned = RdxKind == RecurKind::SMax || RdxKind == RecurKind::SMin;</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span> </div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>  <span class="keyword">auto</span> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SrcVecEltTy</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">cast&lt;VectorType&gt;</a>(Src-&gt;<a class="code hl_function" href="classllvm_1_1Value.html#a0344a49526443edf90cc0aef3abd3337">getType</a>())-&gt;getElementType();</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>  <span class="keywordflow">switch</span> (RdxKind) {</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>  <span class="keywordflow">case</span> RecurKind::Add:</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>    <span class="keywordflow">return</span> Builder.CreateAddReduce(Src);</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>  <span class="keywordflow">case</span> RecurKind::Mul:</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>    <span class="keywordflow">return</span> Builder.CreateMulReduce(Src);</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>  <span class="keywordflow">case</span> RecurKind::And:</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>    <span class="keywordflow">return</span> Builder.CreateAndReduce(Src);</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>  <span class="keywordflow">case</span> RecurKind::Or:</div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>    <span class="keywordflow">return</span> Builder.CreateOrReduce(Src);</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>  <span class="keywordflow">case</span> RecurKind::Xor:</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>    <span class="keywordflow">return</span> Builder.CreateXorReduce(Src);</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>  <span class="keywordflow">case</span> RecurKind::FAdd:</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>    <span class="keywordflow">return</span> Builder.CreateFAddReduce(<a class="code hl_function" href="classllvm_1_1ConstantFP.html#aac74ea960aaa245b9ad883c03805997b">ConstantFP::getNegativeZero</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SrcVecEltTy</a>),</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>                                    Src);</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>  <span class="keywordflow">case</span> RecurKind::FMul:</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>    <span class="keywordflow">return</span> Builder.CreateFMulReduce(<a class="code hl_function" href="classllvm_1_1ConstantFP.html#a5eb8f7a5d3cfdd127ad9db2e425e14eb">ConstantFP::get</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SrcVecEltTy</a>, 1.0), Src);</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>  <span class="keywordflow">case</span> RecurKind::SMax:</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>    <span class="keywordflow">return</span> Builder.CreateIntMaxReduce(Src, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>  <span class="keywordflow">case</span> RecurKind::SMin:</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>    <span class="keywordflow">return</span> Builder.CreateIntMinReduce(Src, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>  <span class="keywordflow">case</span> RecurKind::UMax:</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>    <span class="keywordflow">return</span> Builder.CreateIntMaxReduce(Src, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>  <span class="keywordflow">case</span> RecurKind::UMin:</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>    <span class="keywordflow">return</span> Builder.CreateIntMinReduce(Src, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>  <span class="keywordflow">case</span> RecurKind::FMax:</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>    <span class="keywordflow">return</span> Builder.CreateFPMaxReduce(Src);</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>  <span class="keywordflow">case</span> RecurKind::FMin:</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>    <span class="keywordflow">return</span> Builder.CreateFPMinReduce(Src);</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>  <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>    <a class="code hl_define" href="llvm_2Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unhandled opcode&quot;</span>);</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>  }</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>}</div>
</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span> </div>
<div class="foldopen" id="foldopen01001" data-start="{" data-end="}">
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"><a class="line" href="namespacellvm.html#a9f40ac77c99a84cee5bae5ac04c67c37"> 1001</a></span><a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *<a class="code hl_function" href="namespacellvm.html#a9f40ac77c99a84cee5bae5ac04c67c37">llvm::createTargetReduction</a>(<a class="code hl_class" href="classllvm_1_1IRBuilderBase.html">IRBuilderBase</a> &amp;<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>,</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>                                   <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> *<a class="code hl_class" href="classllvm_1_1TargetTransformInfo.html">TTI</a>,</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>                                   <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1RecurrenceDescriptor.html">RecurrenceDescriptor</a> &amp;Desc,</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>                                   <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *Src) {</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>  <span class="comment">// TODO: Support in-order reductions based on the recurrence descriptor.</span></div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>  <span class="comment">// All ops in the reduction inherit fast-math-flags from the recurrence</span></div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>  <span class="comment">// descriptor.</span></div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>  <a class="code hl_class" href="classllvm_1_1IRBuilderBase_1_1FastMathFlagGuard.html">IRBuilderBase::FastMathFlagGuard</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FMFGuard</a>(<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>);</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>  <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>.setFastMathFlags(Desc.<a class="code hl_function" href="classllvm_1_1RecurrenceDescriptor.html#a0d5c759e770c1c6032d077a1b9cf7172">getFastMathFlags</a>());</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespacellvm.html#a364d6ca7dc2c6348ada7f23c58b14264">createSimpleTargetReduction</a>(<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>, <a class="code hl_class" href="classllvm_1_1TargetTransformInfo.html">TTI</a>, Src, Desc.<a class="code hl_function" href="classllvm_1_1RecurrenceDescriptor.html#a89e9d5a5838c63159df1aed56f600ef1">getRecurrenceKind</a>());</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>}</div>
</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span> </div>
<div class="foldopen" id="foldopen01013" data-start="{" data-end="}">
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"><a class="line" href="namespacellvm.html#a7f987d5b55845b1a4658e7998a3ecefb"> 1013</a></span><a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *<a class="code hl_function" href="namespacellvm.html#a7f987d5b55845b1a4658e7998a3ecefb">llvm::createOrderedReduction</a>(<a class="code hl_class" href="classllvm_1_1IRBuilderBase.html">IRBuilderBase</a> &amp;<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>,</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>                                    <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1RecurrenceDescriptor.html">RecurrenceDescriptor</a> &amp;Desc,</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>                                    <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *Src, <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *Start) {</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>  <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Desc.<a class="code hl_function" href="classllvm_1_1RecurrenceDescriptor.html#a89e9d5a5838c63159df1aed56f600ef1">getRecurrenceKind</a>() == RecurKind::FAdd &amp;&amp;</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>         <span class="stringliteral">&quot;Unexpected reduction kind&quot;</span>);</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>  <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Src-&gt;<a class="code hl_function" href="classllvm_1_1Value.html#a0344a49526443edf90cc0aef3abd3337">getType</a>()-&gt;<a class="code hl_function" href="classllvm_1_1Type.html#a1bc022868b23918efa44df511f4d5b61">isVectorTy</a>() &amp;&amp; <span class="stringliteral">&quot;Expected a vector type&quot;</span>);</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>  <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Start-&gt;getType()-&gt;isVectorTy() &amp;&amp; <span class="stringliteral">&quot;Expected a scalar type&quot;</span>);</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span> </div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>.CreateFAddReduce(Start, Src);</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>}</div>
</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span> </div>
<div class="foldopen" id="foldopen01024" data-start="{" data-end="}">
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"><a class="line" href="namespacellvm.html#a38e7976693c7a0420a3c5e912b819fb7"> 1024</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacellvm.html#a38e7976693c7a0420a3c5e912b819fb7">llvm::propagateIRFlags</a>(<a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ArrayRef&lt;Value *&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">VL</a>, <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *OpValue) {</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>  <span class="keyword">auto</span> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">VecOp</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;Instruction&gt;</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>  <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">VecOp</a>)</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>  <span class="keyword">auto</span> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Intersection</a> = (OpValue == <span class="keyword">nullptr</span>) ? <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;Instruction&gt;</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">VL</a>[0])</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>                                            : <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;Instruction&gt;</a>(OpValue);</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>  <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Intersection</a>)</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Opcode = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Intersection</a>-&gt;getOpcode();</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">VecOp</a>-&gt;copyIRFlags(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Intersection</a>);</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *V : <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">VL</a>) {</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>    <span class="keyword">auto</span> *Instr = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;Instruction&gt;</a>(V);</div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>    <span class="keywordflow">if</span> (!Instr)</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>    <span class="keywordflow">if</span> (OpValue == <span class="keyword">nullptr</span> || Opcode == Instr-&gt;getOpcode())</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>      <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">VecOp</a>-&gt;andIRFlags(V);</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>  }</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>}</div>
</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span> </div>
<div class="foldopen" id="foldopen01043" data-start="{" data-end="}">
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"><a class="line" href="namespacellvm.html#abc1d309b62fc59309659ac3fa7f3f68f"> 1043</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="namespacellvm.html#abc1d309b62fc59309659ac3fa7f3f68f">llvm::isKnownNegativeInLoop</a>(<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1SCEV.html">SCEV</a> *S, <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>                                 <a class="code hl_class" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE) {</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>  <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1SCEV.html">SCEV</a> *Zero = SE.<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#a2579491850c605c8b7cf3439a907fbed">getZero</a>(S-&gt;<a class="code hl_function" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>());</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>  <span class="keywordflow">return</span> SE.<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#aadf992d0faba329a1b5315dcde978e85">isAvailableAtLoopEntry</a>(S, L) &amp;&amp;</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>         SE.<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#adc8cf3b4b56f754b02ea30263bd4561e">isLoopEntryGuardedByCond</a>(L, ICmpInst::ICMP_SLT, S, Zero);</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>}</div>
</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span> </div>
<div class="foldopen" id="foldopen01050" data-start="{" data-end="}">
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"><a class="line" href="namespacellvm.html#af042aac9d86aacb5ee9e1af24590f4c2"> 1050</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="namespacellvm.html#af042aac9d86aacb5ee9e1af24590f4c2">llvm::isKnownNonNegativeInLoop</a>(<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1SCEV.html">SCEV</a> *S, <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>                                    <a class="code hl_class" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE) {</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>  <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1SCEV.html">SCEV</a> *Zero = SE.<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#a2579491850c605c8b7cf3439a907fbed">getZero</a>(S-&gt;<a class="code hl_function" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>());</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>  <span class="keywordflow">return</span> SE.<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#aadf992d0faba329a1b5315dcde978e85">isAvailableAtLoopEntry</a>(S, L) &amp;&amp;</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>         SE.<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#adc8cf3b4b56f754b02ea30263bd4561e">isLoopEntryGuardedByCond</a>(L, ICmpInst::ICMP_SGE, S, Zero);</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>}</div>
</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span> </div>
<div class="foldopen" id="foldopen01057" data-start="{" data-end="}">
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"><a class="line" href="namespacellvm.html#aef5f1583da883ba28cb113c02d29f1d9"> 1057</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="namespacellvm.html#aef5f1583da883ba28cb113c02d29f1d9">llvm::cannotBeMinInLoop</a>(<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1SCEV.html">SCEV</a> *S, <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code hl_class" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE,</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>                             <span class="keywordtype">bool</span> <a class="code hl_enumvalue" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>) {</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>  <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">cast&lt;IntegerType&gt;</a>(S-&gt;<a class="code hl_function" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>())-&gt;getBitWidth();</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>  <a class="code hl_class" href="classllvm_1_1APInt.html">APInt</a> Min = <a class="code hl_enumvalue" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? <a class="code hl_function" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(<a class="code hl_variable" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>) :</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>    <a class="code hl_function" href="classllvm_1_1APInt.html#a65a6479206acd4113b8aa1c0fbc2158c">APInt::getMinValue</a>(<a class="code hl_variable" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>  <span class="keyword">auto</span> Predicate = <a class="code hl_enumvalue" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? ICmpInst::ICMP_SGT : ICmpInst::ICMP_UGT;</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>  <span class="keywordflow">return</span> SE.<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#aadf992d0faba329a1b5315dcde978e85">isAvailableAtLoopEntry</a>(S, L) &amp;&amp;</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>         SE.<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#adc8cf3b4b56f754b02ea30263bd4561e">isLoopEntryGuardedByCond</a>(L, Predicate, S,</div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>                                     SE.<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(Min));</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>}</div>
</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span> </div>
<div class="foldopen" id="foldopen01068" data-start="{" data-end="}">
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"><a class="line" href="namespacellvm.html#a5704370a1379cfd0062d47b73ba65cb0"> 1068</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="namespacellvm.html#a5704370a1379cfd0062d47b73ba65cb0">llvm::cannotBeMaxInLoop</a>(<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1SCEV.html">SCEV</a> *S, <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code hl_class" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> &amp;SE,</div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>                             <span class="keywordtype">bool</span> <a class="code hl_enumvalue" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a>) {</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span>  <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">cast&lt;IntegerType&gt;</a>(S-&gt;<a class="code hl_function" href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">getType</a>())-&gt;getBitWidth();</div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>  <a class="code hl_class" href="classllvm_1_1APInt.html">APInt</a> Max = <a class="code hl_enumvalue" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? <a class="code hl_function" href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">APInt::getSignedMaxValue</a>(<a class="code hl_variable" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>) :</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>    <a class="code hl_function" href="classllvm_1_1APInt.html#a331d69b5f93e47e7c596062b77dd5913">APInt::getMaxValue</a>(<a class="code hl_variable" href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">BitWidth</a>);</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>  <span class="keyword">auto</span> Predicate = <a class="code hl_enumvalue" href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a> ? ICmpInst::ICMP_SLT : ICmpInst::ICMP_ULT;</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>  <span class="keywordflow">return</span> SE.<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#aadf992d0faba329a1b5315dcde978e85">isAvailableAtLoopEntry</a>(S, L) &amp;&amp;</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>         SE.<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#adc8cf3b4b56f754b02ea30263bd4561e">isLoopEntryGuardedByCond</a>(L, Predicate, S,</div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>                                     SE.<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(Max));</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>}</div>
</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span> </div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span><span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span><span class="comment">// rewriteLoopExitValues - Optimize IV users outside the loop.</span></div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span><span class="comment">// As a side effect, reduces the amount of IV processing within the loop.</span></div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span><span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span> </div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span><span class="comment">// Return true if the SCEV expansion generated by the rewriter can replace the</span></div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span><span class="comment">// original value. SCEV guarantees that it produces the same value, but the way</span></div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span><span class="comment">// it is produced may be illegal IR.  Ideally, this function will only be</span></div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span><span class="comment">// called for verification.</span></div>
<div class="foldopen" id="foldopen01088" data-start="{" data-end="}">
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"><a class="line" href="LoopUtils_8cpp.html#a34ce38f59da0be8985b96ac094fd2d86"> 1088</a></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="LoopUtils_8cpp.html#a34ce38f59da0be8985b96ac094fd2d86">isValidRewrite</a>(<a class="code hl_class" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE, <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FromVal</a>, <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ToVal</a>) {</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>  <span class="comment">// If an SCEV expression subsumed multiple pointers, its expansion could</span></div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>  <span class="comment">// reassociate the GEP changing the base pointer. This is illegal because the</span></div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>  <span class="comment">// final address produced by a GEP chain must be inbounds relative to its</span></div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>  <span class="comment">// underlying object. Otherwise basic alias analysis, among other things,</span></div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>  <span class="comment">// could fail in a dangerous way. Ultimately, SCEV will be improved to avoid</span></div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>  <span class="comment">// producing an expression involving multiple pointers. Until then, we must</span></div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>  <span class="comment">// bail out here.</span></div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>  <span class="comment">//</span></div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>  <span class="comment">// Retrieve the pointer operand of the GEP. Don&#39;t use getUnderlyingObject</span></div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>  <span class="comment">// because it understands lcssa phis while SCEV does not.</span></div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>  <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FromPtr</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FromVal</a>;</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>  <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ToPtr</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ToVal</a>;</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code hl_variable" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;GEPOperator&gt;</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FromVal</a>))</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FromPtr</a> = <a class="code hl_variable" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getPointerOperand();</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span> </div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code hl_variable" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;GEPOperator&gt;</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ToVal</a>))</div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ToPtr</a> = <a class="code hl_variable" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;getPointerOperand();</div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span> </div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FromPtr</a> != <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FromVal</a> || <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ToPtr</a> != <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ToVal</a>) {</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>    <span class="comment">// Quickly check the common case</span></div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FromPtr</a> == <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ToPtr</a>)</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span> </div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>    <span class="comment">// SCEV may have rewritten an expression that produces the GEP&#39;s pointer</span></div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>    <span class="comment">// operand. That&#39;s ok as long as the pointer operand has the same base</span></div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>    <span class="comment">// pointer. Unlike getUnderlyingObject(), getPointerBase() will find the</span></div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>    <span class="comment">// base of a recurrence. This handles the case in which SCEV expansion</span></div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>    <span class="comment">// converts a pointer type recurrence into a nonrecurrent pointer base</span></div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>    <span class="comment">// indexed by an integer recurrence.</span></div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span> </div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>    <span class="comment">// If the GEP base pointer is a vector of pointers, abort.</span></div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>    <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FromPtr</a>-&gt;getType()-&gt;isPointerTy() || !<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ToPtr</a>-&gt;getType()-&gt;isPointerTy())</div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span> </div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>    <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FromBase</a> = SE-&gt;<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#ac276ea1907c780c43d3637ae9bd1989e">getPointerBase</a>(SE-&gt;<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FromPtr</a>));</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>    <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ToBase</a> = SE-&gt;<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#ac276ea1907c780c43d3637ae9bd1989e">getPointerBase</a>(SE-&gt;<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ToPtr</a>));</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FromBase</a> == <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ToBase</a>)</div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span> </div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>    <a class="code hl_define" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;rewriteLoopExitValues: GEP rewrite bail out &quot;</span></div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>                      &lt;&lt; *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FromBase</a> &lt;&lt; <span class="stringliteral">&quot; != &quot;</span> &lt;&lt; *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ToBase</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span> </div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>  }</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>}</div>
</div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span> </div>
<div class="foldopen" id="foldopen01136" data-start="{" data-end="}">
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"><a class="line" href="LoopUtils_8cpp.html#a0f31e8ea7a0fea18c2df924e7d6e8de8"> 1136</a></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="LoopUtils_8cpp.html#a0f31e8ea7a0fea18c2df924e7d6e8de8">hasHardUserWithinLoop</a>(<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *L, <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallPtrSet&lt;const Instruction *, 8&gt;</a> Visited;</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;const Instruction *, 8&gt;</a> WorkList;</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>  Visited.insert(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>  WorkList.push_back(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>  <span class="keywordflow">while</span> (!WorkList.empty()) {</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>    <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Curr</a> = WorkList.pop_back_val();</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>    <span class="comment">// This use is outside the loop, nothing to do.</span></div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>    <span class="keywordflow">if</span> (!L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Curr</a>))</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>    <span class="comment">// Do we assume it is a &quot;hard&quot; use which will not be eliminated easily?</span></div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Curr</a>-&gt;mayHaveSideEffects())</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>    <span class="comment">// Otherwise, add all its users to worklist.</span></div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> U : <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Curr</a>-&gt;users()) {</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>      <span class="keyword">auto</span> *UI = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">cast&lt;Instruction&gt;</a>(U);</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>      <span class="keywordflow">if</span> (Visited.insert(UI).second)</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>        WorkList.push_back(UI);</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>    }</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>  }</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>}</div>
</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span> </div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span><span class="comment">// Collect information about PHI nodes which can be transformed in</span></div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span><span class="comment">// rewriteLoopExitValues.</span></div>
<div class="foldopen" id="foldopen01161" data-start="{" data-end="};">
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"><a class="line" href="structRewritePhi.html"> 1161</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structRewritePhi.html">RewritePhi</a> {</div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"><a class="line" href="structRewritePhi.html#abd9107b6d4085ec310ae5c8283961d22"> 1162</a></span>  <a class="code hl_class" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code hl_variable" href="structRewritePhi.html#abd9107b6d4085ec310ae5c8283961d22">PN</a>;               <span class="comment">// For which PHI node is this replacement?</span></div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"><a class="line" href="structRewritePhi.html#a240e047a1971ff7614265ee7dd9e9167"> 1163</a></span>  <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="structRewritePhi.html#a240e047a1971ff7614265ee7dd9e9167">Ith</a>;              <span class="comment">// For which incoming value?</span></div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"><a class="line" href="structRewritePhi.html#ab429784276a6d2bd9e1c820ac9ec37be"> 1164</a></span>  <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code hl_variable" href="structRewritePhi.html#ab429784276a6d2bd9e1c820ac9ec37be">ExpansionSCEV</a>; <span class="comment">// The SCEV of the incoming value we are rewriting.</span></div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"><a class="line" href="structRewritePhi.html#af9daaa1170b58d826ff23a9a32e63d10"> 1165</a></span>  <a class="code hl_class" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code hl_variable" href="structRewritePhi.html#af9daaa1170b58d826ff23a9a32e63d10">ExpansionPoint</a>; <span class="comment">// Where we&#39;d like to expand that SCEV?</span></div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"><a class="line" href="structRewritePhi.html#a1b5f7ff2bb71d52a17f6217bcbaa7c8b"> 1166</a></span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="structRewritePhi.html#a1b5f7ff2bb71d52a17f6217bcbaa7c8b">HighCost</a>;               <span class="comment">// Is this expansion a high-cost?</span></div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span> </div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"><a class="line" href="structRewritePhi.html#a9ff69b9c0b001ec489aad86f0243a15b"> 1168</a></span>  <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *<a class="code hl_variable" href="structRewritePhi.html#a9ff69b9c0b001ec489aad86f0243a15b">Expansion</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"><a class="line" href="structRewritePhi.html#a809babc17aafa730014f447c3fb203bb"> 1169</a></span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="structRewritePhi.html#a809babc17aafa730014f447c3fb203bb">ValidRewrite</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span> </div>
<div class="foldopen" id="foldopen01171" data-start="{" data-end="}">
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"><a class="line" href="structRewritePhi.html#a5f1abb9f49af7b533cfcac97bcbe7011"> 1171</a></span>  <a class="code hl_function" href="structRewritePhi.html#a5f1abb9f49af7b533cfcac97bcbe7011">RewritePhi</a>(<a class="code hl_class" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>, <span class="keywordtype">unsigned</span> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1SCEV.html">SCEV</a> *Val, <a class="code hl_class" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ExpansionPt</a>,</div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>             <span class="keywordtype">bool</span> <a class="code hl_define" href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a>)</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>      : <a class="code hl_variable" href="structRewritePhi.html#abd9107b6d4085ec310ae5c8283961d22">PN</a>(<a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>), <a class="code hl_variable" href="structRewritePhi.html#a240e047a1971ff7614265ee7dd9e9167">Ith</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>), <a class="code hl_variable" href="structRewritePhi.html#ab429784276a6d2bd9e1c820ac9ec37be">ExpansionSCEV</a>(Val), <a class="code hl_variable" href="structRewritePhi.html#af9daaa1170b58d826ff23a9a32e63d10">ExpansionPoint</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ExpansionPt</a>),</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>        <a class="code hl_variable" href="structRewritePhi.html#a1b5f7ff2bb71d52a17f6217bcbaa7c8b">HighCost</a>(<a class="code hl_define" href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a>) {}</div>
</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>};</div>
</div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span> </div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span><span class="comment">// Check whether it is possible to delete the loop after rewriting exit</span></div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span><span class="comment">// value. If it is possible, ignore ReplaceExitValue and do rewriting</span></div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span><span class="comment">// aggressively.</span></div>
<div class="foldopen" id="foldopen01180" data-start="{" data-end="}">
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"><a class="line" href="LoopUtils_8cpp.html#a4fc6667c0f14f4e871d21234a6726246"> 1180</a></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="LoopUtils_8cpp.html#a4fc6667c0f14f4e871d21234a6726246">canLoopBeDeleted</a>(<a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;RewritePhi, 8&gt;</a> &amp;<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RewritePhiSet</a>) {</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>  <a class="code hl_class" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Preheader = L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#ac3280e7f76f955403fe17eacf126b90d">getLoopPreheader</a>();</div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>  <span class="comment">// If there is no preheader, the loop will not be deleted.</span></div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>  <span class="keywordflow">if</span> (!Preheader)</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span> </div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>  <span class="comment">// In LoopDeletion pass Loop can be deleted when ExitingBlocks.size() &gt; 1.</span></div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>  <span class="comment">// We obviate multiple ExitingBlocks case for simplicity.</span></div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>  <span class="comment">// TODO: If we see testcase with multiple ExitingBlocks can be deleted</span></div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>  <span class="comment">// after exit value rewriting, we can enhance the logic here.</span></div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;BasicBlock *, 4&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ExitingBlocks</a>;</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>  L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a46880fab7a9d5bd439725f2acc59b80d">getExitingBlocks</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ExitingBlocks</a>);</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;BasicBlock *, 8&gt;</a> ExitBlocks;</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>  L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#ae069a12f0a2d2deb69e30b439a91190e">getUniqueExitBlocks</a>(ExitBlocks);</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>  <span class="keywordflow">if</span> (ExitBlocks.size() != 1 || <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ExitingBlocks</a>.size() != 1)</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span> </div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>  <a class="code hl_class" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ExitBlock = ExitBlocks[0];</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>  <a class="code hl_typedef" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> BI = ExitBlock-&gt;<a class="code hl_function" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>();</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>  <span class="keywordflow">while</span> (<a class="code hl_class" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;PHINode&gt;</a>(BI)) {</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>    <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *Incoming = <a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>-&gt;getIncomingValueForBlock(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ExitingBlocks</a>[0]);</div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span> </div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>    <span class="comment">// If the Incoming value of P is found in RewritePhiSet, we know it</span></div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>    <span class="comment">// could be rewritten to use a loop invariant value in transformation</span></div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>    <span class="comment">// phase later. Skip it in the loop invariant check below.</span></div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>    <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_struct" href="structRewritePhi.html">RewritePhi</a> &amp;Phi : <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RewritePhiSet</a>) {</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>      <span class="keywordflow">if</span> (!Phi.ValidRewrite)</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>      <span class="keywordtype">unsigned</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">i</a> = Phi.Ith;</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>      <span class="keywordflow">if</span> (Phi.PN == <a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a> &amp;&amp; (Phi.PN)-&gt;getIncomingValue(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">i</a>) == Incoming) {</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>        found = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>      }</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>    }</div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span> </div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>    <a class="code hl_class" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>    <span class="keywordflow">if</span> (!found &amp;&amp; (<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;Instruction&gt;</a>(Incoming)))</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>      <span class="keywordflow">if</span> (!L-&gt;<a class="code hl_function" href="classllvm_1_1Loop.html#a54e82aea5fab8cf3a878003444f25ee7">hasLoopInvariantOperands</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span> </div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>    ++BI;</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>  }</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span> </div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *BB : L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a78bec3084b9a47ee11cc2e56f9004717">blocks</a>())</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a>(*BB, [](<a class="code hl_class" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>          <span class="keywordflow">return</span> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.mayHaveSideEffects();</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>        }))</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span> </div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>}</div>
</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span> </div>
<div class="foldopen" id="foldopen01233" data-start="{" data-end="}">
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"><a class="line" href="namespacellvm.html#acb5b48f89efd60ea799bb09abc1971ba"> 1233</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="namespacellvm.html#acb5b48f89efd60ea799bb09abc1971ba">llvm::rewriteLoopExitValues</a>(<a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code hl_class" href="classllvm_1_1LoopInfo.html">LoopInfo</a> *LI, <a class="code hl_class" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>                                <a class="code hl_class" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE,</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>                                <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> *<a class="code hl_class" href="classllvm_1_1TargetTransformInfo.html">TTI</a>,</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>                                <a class="code hl_class" href="classllvm_1_1SCEVExpander.html">SCEVExpander</a> &amp;Rewriter, <a class="code hl_class" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT,</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>                                <a class="code hl_enumeration" href="namespacellvm.html#ad711012ae6f56de75424c48f31538986">ReplaceExitVal</a> <a class="code hl_variable" href="IndVarSimplify_8cpp.html#acdf1297fdd8e909949462e279e8840ff">ReplaceExitValue</a>,</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>                                <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;WeakTrackingVH, 16&gt;</a> &amp;DeadInsts) {</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>  <span class="comment">// Check a pre-condition.</span></div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>  <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(L-&gt;<a class="code hl_function" href="classllvm_1_1Loop.html#ab0082134c31cebcbf970019dfec81c70">isRecursivelyLCSSAForm</a>(*DT, *LI) &amp;&amp;</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>         <span class="stringliteral">&quot;Indvars did not preserve LCSSA!&quot;</span>);</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span> </div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;BasicBlock*, 8&gt;</a> ExitBlocks;</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>  L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#ae069a12f0a2d2deb69e30b439a91190e">getUniqueExitBlocks</a>(ExitBlocks);</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span> </div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;RewritePhi, 8&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RewritePhiSet</a>;</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>  <span class="comment">// Find all values that are computed inside the loop, but used outside of it.</span></div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>  <span class="comment">// Because of LCSSA, these values will only occur in LCSSA PHI Nodes.  Scan</span></div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>  <span class="comment">// the exit blocks of the loop to find them.</span></div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ExitBB : ExitBlocks) {</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>    <span class="comment">// If there are no PHI nodes in this exit block, then no values defined</span></div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>    <span class="comment">// inside the loop are used on this path, skip it.</span></div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>    <a class="code hl_class" href="classllvm_1_1PHINode.html">PHINode</a> *PN = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;PHINode&gt;</a>(ExitBB-&gt;begin());</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>    <span class="keywordflow">if</span> (!PN) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span> </div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>    <span class="keywordtype">unsigned</span> NumPreds = PN-&gt;<a class="code hl_function" href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">getNumIncomingValues</a>();</div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span> </div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>    <span class="comment">// Iterate over all of the PHI nodes.</span></div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>    <a class="code hl_typedef" href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">BasicBlock::iterator</a> BBI = ExitBB-&gt;begin();</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>    <span class="keywordflow">while</span> ((PN = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;PHINode&gt;</a>(BBI++))) {</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>      <span class="keywordflow">if</span> (PN-&gt;<a class="code hl_function" href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">use_empty</a>())</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>        <span class="keywordflow">continue</span>; <span class="comment">// dead use, don&#39;t replace it</span></div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span> </div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>      <span class="keywordflow">if</span> (!SE-&gt;<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855">isSCEVable</a>(PN-&gt;<a class="code hl_function" href="classllvm_1_1Value.html#a0344a49526443edf90cc0aef3abd3337">getType</a>()))</div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span> </div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>      <span class="comment">// It&#39;s necessary to tell ScalarEvolution about this explicitly so that</span></div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>      <span class="comment">// it can walk the def-use list and forget all SCEVs, as it may not be</span></div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>      <span class="comment">// watching the PHI itself. Once the new exit value is in place, there</span></div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>      <span class="comment">// may not be a def-use connection between the loop and every instruction</span></div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>      <span class="comment">// which got a SCEVAddRecExpr for that loop.</span></div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>      SE-&gt;<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#a804545e5b568edec8b970da32cd37359">forgetValue</a>(PN);</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span> </div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>      <span class="comment">// Iterate over all of the values in all the PHI nodes.</span></div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">i</a> = 0; <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">i</a> != NumPreds; ++<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">i</a>) {</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>        <span class="comment">// If the value being merged in is not integer or is not defined</span></div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>        <span class="comment">// in the loop, skip it.</span></div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>        <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InVal</a> = PN-&gt;<a class="code hl_function" href="classllvm_1_1PHINode.html#aca1fd00f3ab63ec8f0f1ccc2093a9f6d">getIncomingValue</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">i</a>);</div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>        <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">isa&lt;Instruction&gt;</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InVal</a>))</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span> </div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>        <span class="comment">// If this pred is for a subloop, not L itself, skip it.</span></div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>        <span class="keywordflow">if</span> (LI-&gt;<a class="code hl_function" href="classllvm_1_1LoopInfoBase.html#ad61bd84d4988c90bf6c5cd62d8e7fb00">getLoopFor</a>(PN-&gt;<a class="code hl_function" href="classllvm_1_1PHINode.html#ac53e1aabdf64e91b8b325bcac250d8a9">getIncomingBlock</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">i</a>)) != L)</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span>          <span class="keywordflow">continue</span>; <span class="comment">// The Block is in a subloop, skip it.</span></div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span> </div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>        <span class="comment">// Check that InVal is defined in the loop.</span></div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>        <a class="code hl_class" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">cast&lt;Instruction&gt;</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InVal</a>);</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>        <span class="keywordflow">if</span> (!L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(Inst))</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span> </div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>        <span class="comment">// Okay, this instruction has a user outside of the current loop</span></div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>        <span class="comment">// and varies predictably *inside* the loop.  Evaluate the value it</span></div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span>        <span class="comment">// contains when the loop exits, if possible.  We prefer to start with</span></div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>        <span class="comment">// expressions which are true for all exits (so as to maximize</span></div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>        <span class="comment">// expression reuse by the SCEVExpander), but resort to per-exit</span></div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>        <span class="comment">// evaluation if that fails.</span></div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>        <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1SCEV.html">SCEV</a> *ExitValue = SE-&gt;<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">getSCEVAtScope</a>(Inst, L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#ae34bcd53f75fab0c03b509ecccb4cfaf">getParentLoop</a>());</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">isa&lt;SCEVCouldNotCompute&gt;</a>(ExitValue) ||</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>            !SE-&gt;<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(ExitValue, L) ||</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>            !<a class="code hl_function" href="namespacellvm.html#aed54a8c39c1f5f066957f1297bd6bd0b">isSafeToExpand</a>(ExitValue, *SE)) {</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>          <span class="comment">// TODO: This should probably be sunk into SCEV in some way; maybe a</span></div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>          <span class="comment">// getSCEVForExit(SCEV*, L, ExitingBB)?  It can be generalized for</span></div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span>          <span class="comment">// most SCEV expressions and other recurrence types (e.g. shift</span></div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span>          <span class="comment">// recurrences).  Is there existing code we can reuse?</span></div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>          <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1SCEV.html">SCEV</a> *ExitCount = SE-&gt;<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#ab24add5df0874cdfa47b47b1d9926e9e">getExitCount</a>(L, PN-&gt;<a class="code hl_function" href="classllvm_1_1PHINode.html#ac53e1aabdf64e91b8b325bcac250d8a9">getIncomingBlock</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">i</a>));</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>          <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">isa&lt;SCEVCouldNotCompute&gt;</a>(ExitCount))</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span>          <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AddRec</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;SCEVAddRecExpr&gt;</a>(SE-&gt;<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(Inst)))</div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AddRec</a>-&gt;getLoop() == L)</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span>              ExitValue = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AddRec</a>-&gt;evaluateAtIteration(ExitCount, *SE);</div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>          <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">isa&lt;SCEVCouldNotCompute&gt;</a>(ExitValue) ||</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>              !SE-&gt;<a class="code hl_function" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(ExitValue, L) ||</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>              !<a class="code hl_function" href="namespacellvm.html#aed54a8c39c1f5f066957f1297bd6bd0b">isSafeToExpand</a>(ExitValue, *SE))</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>        }</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span> </div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>        <span class="comment">// Computing the value outside of the loop brings no benefit if it is</span></div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>        <span class="comment">// definitely used inside the loop in a way which can not be optimized</span></div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>        <span class="comment">// away. Avoid doing so unless we know we have a value which computes</span></div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span>        <span class="comment">// the ExitValue already. TODO: This should be merged into SCEV</span></div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>        <span class="comment">// expander to leverage its knowledge of existing expressions.</span></div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="IndVarSimplify_8cpp.html#acdf1297fdd8e909949462e279e8840ff">ReplaceExitValue</a> != <a class="code hl_enumvalue" href="namespacellvm.html#ad711012ae6f56de75424c48f31538986add1840394cd7a4e7d080482f42e7b424">AlwaysRepl</a> &amp;&amp; !<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">isa&lt;SCEVConstant&gt;</a>(ExitValue) &amp;&amp;</div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>            !<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">isa&lt;SCEVUnknown&gt;</a>(ExitValue) &amp;&amp; <a class="code hl_function" href="LoopUtils_8cpp.html#a0f31e8ea7a0fea18c2df924e7d6e8de8">hasHardUserWithinLoop</a>(L, Inst))</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span> </div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span>        <span class="comment">// Check if expansions of this SCEV would count as being high cost.</span></div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>        <span class="keywordtype">bool</span> HighCost = Rewriter.isHighCostExpansion(</div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>            ExitValue, L, <a class="code hl_variable" href="namespacellvm.html#a837209d51e75f7afcfdf457b20e59493">SCEVCheapExpansionBudget</a>, <a class="code hl_class" href="classllvm_1_1TargetTransformInfo.html">TTI</a>, Inst);</div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span> </div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span>        <span class="comment">// Note that we must not perform expansions until after</span></div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span>        <span class="comment">// we query *all* the costs, because if we perform temporary expansion</span></div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span>        <span class="comment">// inbetween, one that we might not intend to keep, said expansion</span></div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span>        <span class="comment">// *may* affect cost calculation of the the next SCEV&#39;s we&#39;ll query,</span></div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span>        <span class="comment">// and next SCEV may errneously get smaller cost.</span></div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span> </div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span>        <span class="comment">// Collect all the candidate PHINodes to be rewritten.</span></div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span>        <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RewritePhiSet</a>.emplace_back(PN, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">i</a>, ExitValue, Inst, HighCost);</div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span>      }</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span>    }</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span>  }</div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span> </div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span>  <span class="comment">// Now that we&#39;ve done preliminary filtering and billed all the SCEV&#39;s,</span></div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>  <span class="comment">// we can perform the last sanity check - the expansion must be valid.</span></div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span>  <span class="keywordflow">for</span> (<a class="code hl_struct" href="structRewritePhi.html">RewritePhi</a> &amp;Phi : <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RewritePhiSet</a>) {</div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span>    Phi.Expansion = Rewriter.expandCodeFor(Phi.ExpansionSCEV, Phi.PN-&gt;getType(),</div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>                                           Phi.ExpansionPoint);</div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span> </div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>    <a class="code hl_define" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;rewriteLoopExitValues: AfterLoopVal = &quot;</span></div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>                      &lt;&lt; *(Phi.Expansion) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span></div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>                      &lt;&lt; <span class="stringliteral">&quot;  LoopVal = &quot;</span> &lt;&lt; *(Phi.ExpansionPoint) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span> </div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span>    <span class="comment">// FIXME: isValidRewrite() is a hack. it should be an assert, eventually.</span></div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>    Phi.ValidRewrite = <a class="code hl_function" href="LoopUtils_8cpp.html#a34ce38f59da0be8985b96ac094fd2d86">isValidRewrite</a>(SE, Phi.ExpansionPoint, Phi.Expansion);</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>    <span class="keywordflow">if</span> (!Phi.ValidRewrite) {</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>      DeadInsts.push_back(Phi.Expansion);</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span>    }</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span> </div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span><span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>    <span class="comment">// If we reuse an instruction from a loop which is neither L nor one of</span></div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>    <span class="comment">// its containing loops, we end up breaking LCSSA form for this loop by</span></div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>    <span class="comment">// creating a new use of its instruction.</span></div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ExitInsn</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;Instruction&gt;</a>(Phi.Expansion))</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">EVL</a> = LI-&gt;<a class="code hl_function" href="classllvm_1_1LoopInfoBase.html#ad61bd84d4988c90bf6c5cd62d8e7fb00">getLoopFor</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ExitInsn</a>-&gt;getParent()))</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">EVL</a> != L)</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>          <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">EVL</a>-&gt;contains(L) &amp;&amp; <span class="stringliteral">&quot;LCSSA breach detected!&quot;</span>);</div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>  }</div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span> </div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>  <span class="comment">// TODO: after isValidRewrite() is an assertion, evaluate whether</span></div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>  <span class="comment">// it is beneficial to change how we calculate high-cost:</span></div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>  <span class="comment">// if we have SCEV &#39;A&#39; which we know we will expand, should we calculate</span></div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>  <span class="comment">// the cost of other SCEV&#39;s after expanding SCEV &#39;A&#39;,</span></div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>  <span class="comment">// thus potentially giving cost bonus to those other SCEV&#39;s?</span></div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span> </div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>  <span class="keywordtype">bool</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LoopCanBeDel</a> = <a class="code hl_function" href="LoopUtils_8cpp.html#a4fc6667c0f14f4e871d21234a6726246">canLoopBeDeleted</a>(L, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RewritePhiSet</a>);</div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>  <span class="keywordtype">int</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NumReplaced</a> = 0;</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span> </div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>  <span class="comment">// Transformation.</span></div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_struct" href="structRewritePhi.html">RewritePhi</a> &amp;Phi : <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RewritePhiSet</a>) {</div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>    <span class="keywordflow">if</span> (!Phi.ValidRewrite)</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span> </div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>    <a class="code hl_class" href="classllvm_1_1PHINode.html">PHINode</a> *PN = Phi.PN;</div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>    <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *ExitVal = Phi.Expansion;</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span> </div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>    <span class="comment">// Only do the rewrite when the ExitValue can be expanded cheaply.</span></div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>    <span class="comment">// If LoopCanBeDel is true, rewrite exit value aggressively.</span></div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="IndVarSimplify_8cpp.html#acdf1297fdd8e909949462e279e8840ff">ReplaceExitValue</a> == <a class="code hl_enumvalue" href="namespacellvm.html#ad711012ae6f56de75424c48f31538986a1e6c3ab87bc6c3b3ee4b5a64e3a99963">OnlyCheapRepl</a> &amp;&amp; !<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LoopCanBeDel</a> &amp;&amp; Phi.HighCost) {</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>      DeadInsts.push_back(ExitVal);</div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>    }</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span> </div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NumReplaced</a>++;</div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>    <a class="code hl_class" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">cast&lt;Instruction&gt;</a>(PN-&gt;<a class="code hl_function" href="classllvm_1_1PHINode.html#aca1fd00f3ab63ec8f0f1ccc2093a9f6d">getIncomingValue</a>(Phi.Ith));</div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>    PN-&gt;<a class="code hl_function" href="classllvm_1_1PHINode.html#a88cdefb709309eddc6e5daca0be6a7b4">setIncomingValue</a>(Phi.Ith, ExitVal);</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span> </div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>    <span class="comment">// If this instruction is dead now, delete it. Don&#39;t do it now to avoid</span></div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span>    <span class="comment">// invalidating iterators.</span></div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacellvm.html#a627b2f86ac433d829482d5a5a0f50668">isInstructionTriviallyDead</a>(Inst, TLI))</div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>      DeadInsts.push_back(Inst);</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span> </div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>    <span class="comment">// Replace PN with ExitVal if that is legal and does not break LCSSA.</span></div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>    <span class="keywordflow">if</span> (PN-&gt;<a class="code hl_function" href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">getNumIncomingValues</a>() == 1 &amp;&amp;</div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>        LI-&gt;<a class="code hl_function" href="classllvm_1_1LoopInfo.html#ab12b535502b86394c84bfd24d58e4657">replacementPreservesLCSSAForm</a>(PN, ExitVal)) {</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>      PN-&gt;<a class="code hl_function" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(ExitVal);</div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>      PN-&gt;<a class="code hl_function" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>    }</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>  }</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span> </div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>  <span class="comment">// The insertion point instruction may have been deleted; clear it out</span></div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>  <span class="comment">// so that the rewriter doesn&#39;t trip over it later.</span></div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>  Rewriter.clearInsertPoint();</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>  <span class="keywordflow">return</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NumReplaced</a>;</div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>}</div>
</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span><span class="comment"></span> </div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span><span class="comment">/// Set weights for \p UnrolledLoop and \p RemainderLoop based on weights for</span></div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span><span class="comment">/// \p OrigLoop.</span></div>
<div class="foldopen" id="foldopen01419" data-start="{" data-end="}">
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"><a class="line" href="namespacellvm.html#aaf345c258e6fd97a551e4d5b41607e32"> 1419</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacellvm.html#aaf345c258e6fd97a551e4d5b41607e32">llvm::setProfileInfoAfterUnrolling</a>(<a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *OrigLoop, <a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">UnrolledLoop</a>,</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>                                        <a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RemainderLoop</a>, uint64_t UF) {</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>  <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(UF &gt; 0 &amp;&amp; <span class="stringliteral">&quot;Zero unrolled factor is not supported&quot;</span>);</div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>  <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">UnrolledLoop</a> != <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RemainderLoop</a> &amp;&amp;</div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span>         <span class="stringliteral">&quot;Unrolled and Remainder loops are expected to distinct&quot;</span>);</div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span> </div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span>  <span class="comment">// Get number of iterations in the original scalar loop.</span></div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span>  <span class="keywordtype">unsigned</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OrigLoopInvocationWeight</a> = 0;</div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Optional&lt;unsigned&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OrigAverageTripCount</a> =</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>      <a class="code hl_function" href="namespacellvm.html#a9f77adb928109e199b46dfd774001f0d">getLoopEstimatedTripCount</a>(OrigLoop, &amp;<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OrigLoopInvocationWeight</a>);</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>  <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OrigAverageTripCount</a>)</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span> </div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span>  <span class="comment">// Calculate number of iterations in unrolled loop.</span></div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>  <span class="keywordtype">unsigned</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">UnrolledAverageTripCount</a> = *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OrigAverageTripCount</a> / UF;</div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>  <span class="comment">// Calculate number of iterations for remainder loop.</span></div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>  <span class="keywordtype">unsigned</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RemainderAverageTripCount</a> = *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OrigAverageTripCount</a> % UF;</div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span> </div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>  <a class="code hl_function" href="namespacellvm.html#aad7cd933f586fc0c66656a4751ac069f">setLoopEstimatedTripCount</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">UnrolledLoop</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">UnrolledAverageTripCount</a>,</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>                            <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OrigLoopInvocationWeight</a>);</div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>  <a class="code hl_function" href="namespacellvm.html#aad7cd933f586fc0c66656a4751ac069f">setLoopEstimatedTripCount</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RemainderLoop</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RemainderAverageTripCount</a>,</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span>                            <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OrigLoopInvocationWeight</a>);</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>}</div>
</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span><span class="comment"></span> </div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span><span class="comment">/// Utility that implements appending of loops onto a worklist.</span></div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span><span class="comment">/// Loops are added in preorder (analogous for reverse postorder for trees),</span></div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span><span class="comment">/// and the worklist is processed LIFO.</span></div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span><span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> RangeT&gt;</div>
<div class="foldopen" id="foldopen01447" data-start="{" data-end="}">
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"><a class="line" href="namespacellvm.html#a253deb4046b74b2df2b5acd762b95d58"> 1447</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacellvm.html#a253deb4046b74b2df2b5acd762b95d58">llvm::appendReversedLoopsToWorklist</a>(</div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RangeT</a> &amp;&amp;<a class="code hl_variable" href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallPriorityWorklist&lt;Loop *, 4&gt;</a> &amp;Worklist) {</div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span>  <span class="comment">// We use an internal worklist to build up the preorder traversal without</span></div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>  <span class="comment">// recursion.</span></div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;Loop *, 4&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PreOrderLoops</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PreOrderWorklist</a>;</div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span> </div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span>  <span class="comment">// We walk the initial sequence of loops in reverse because we generally want</span></div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>  <span class="comment">// to visit defs before uses and the worklist is LIFO.</span></div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RootL</a> : <a class="code hl_variable" href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a>) {</div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>    <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PreOrderLoops</a>.empty() &amp;&amp; <span class="stringliteral">&quot;Must start with an empty preorder walk.&quot;</span>);</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>    <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PreOrderWorklist</a>.empty() &amp;&amp;</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>           <span class="stringliteral">&quot;Must start with an empty preorder walk worklist.&quot;</span>);</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PreOrderWorklist</a>.push_back(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RootL</a>);</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span>      <a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *L = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PreOrderWorklist</a>.pop_back_val();</div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>      <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PreOrderWorklist</a>.append(L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#af2f81059dc7566164b018aac6555eb1a">begin</a>(), L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a98eb0888f30e7a27151a7b02fa053205">end</a>());</div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>      <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PreOrderLoops</a>.push_back(L);</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>    } <span class="keywordflow">while</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PreOrderWorklist</a>.empty());</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span> </div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>    Worklist.insert(std::move(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PreOrderLoops</a>));</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PreOrderLoops</a>.clear();</div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>  }</div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>}</div>
</div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span> </div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> RangeT&gt;</div>
<div class="foldopen" id="foldopen01472" data-start="{" data-end="}">
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"><a class="line" href="namespacellvm.html#ab7a106c600cf32852298d9041e8c8044"> 1472</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacellvm.html#ab7a106c600cf32852298d9041e8c8044">llvm::appendLoopsToWorklist</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RangeT</a> &amp;&amp;<a class="code hl_variable" href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a>,</div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>                                 <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallPriorityWorklist&lt;Loop *, 4&gt;</a> &amp;Worklist) {</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>  <a class="code hl_function" href="namespacellvm.html#a253deb4046b74b2df2b5acd762b95d58">appendReversedLoopsToWorklist</a>(<a class="code hl_function" href="namespacellvm.html#a469101ea87b8b432a1b4f7935c97f35c">reverse</a>(<a class="code hl_variable" href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a>), Worklist);</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>}</div>
</div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span> </div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span><span class="keyword">template</span> <span class="keywordtype">void</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">llvm::appendLoopsToWorklist&lt;ArrayRef&lt;Loop *&gt;</a> &amp;&gt;(</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ArrayRef&lt;Loop *&gt;</a> &amp;<a class="code hl_variable" href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallPriorityWorklist&lt;Loop *, 4&gt;</a> &amp;Worklist);</div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span> </div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span><span class="keyword">template</span> <span class="keywordtype">void</span></div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span><a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">llvm::appendLoopsToWorklist&lt;Loop &amp;&gt;</a>(<a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> &amp;L,</div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>                                    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallPriorityWorklist&lt;Loop *, 4&gt;</a> &amp;Worklist);</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span> </div>
<div class="foldopen" id="foldopen01484" data-start="{" data-end="}">
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"><a class="line" href="namespacellvm.html#addf32fc3d9b6fa999bd9ec4a3cc8a8d0"> 1484</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacellvm.html#ab7a106c600cf32852298d9041e8c8044">llvm::appendLoopsToWorklist</a>(<a class="code hl_class" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI,</div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span>                                 <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallPriorityWorklist&lt;Loop *, 4&gt;</a> &amp;Worklist) {</div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span>  <a class="code hl_function" href="namespacellvm.html#a253deb4046b74b2df2b5acd762b95d58">appendReversedLoopsToWorklist</a>(LI, Worklist);</div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span>}</div>
</div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span> </div>
<div class="foldopen" id="foldopen01489" data-start="{" data-end="}">
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"><a class="line" href="namespacellvm.html#afe8e2e0edcd7756ff5985b8798270c5d"> 1489</a></span><a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *<a class="code hl_function" href="namespacellvm.html#afe8e2e0edcd7756ff5985b8798270c5d">llvm::cloneLoop</a>(<a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *PL, <a class="code hl_class" href="classllvm_1_1ValueMap.html">ValueToValueMapTy</a> &amp;VM,</div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span>                      <a class="code hl_class" href="classllvm_1_1LoopInfo.html">LoopInfo</a> *LI, <a class="code hl_class" href="classllvm_1_1LPPassManager.html">LPPassManager</a> *LPM) {</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span>  <a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> &amp;New = *LI-&gt;<a class="code hl_function" href="classllvm_1_1LoopInfoBase.html#a06a95bafd64793ac54f06b40f4f93fb7">AllocateLoop</a>();</div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"> 1492</span>  <span class="keywordflow">if</span> (PL)</div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span>    PL-&gt;addChildLoop(&amp;New);</div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span>  <span class="keywordflow">else</span></div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span>    LI-&gt;<a class="code hl_function" href="classllvm_1_1LoopInfoBase.html#a1e4ac7b073d744d43f3cb1a3660c03c3">addTopLevelLoop</a>(&amp;New);</div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span> </div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span>  <span class="keywordflow">if</span> (LPM)</div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>    LPM-&gt;<a class="code hl_function" href="classllvm_1_1LPPassManager.html#ac8f0da3d3400c893b1d8142685ccdc9e">addLoop</a>(New);</div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span> </div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>  <span class="comment">// Add all of the blocks in L to the new loop.</span></div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span>  <span class="keywordflow">for</span> (<a class="code hl_typedef" href="classllvm_1_1LoopBase.html#ab24de043c5c57a0d0dbb2adf902e8db1">Loop::block_iterator</a> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#af9096a02aa326d9a55f4d16ba9f9d243">block_begin</a>(), <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a> = L-&gt;<a class="code hl_function" href="classllvm_1_1LoopBase.html#a7a7815ad3e094df37f2312a4bba8c13e">block_end</a>();</div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span>       <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a>; ++<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>    <span class="keywordflow">if</span> (LI-&gt;<a class="code hl_function" href="classllvm_1_1LoopInfoBase.html#ad61bd84d4988c90bf6c5cd62d8e7fb00">getLoopFor</a>(*<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) == L)</div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span>      New.addBasicBlockToLoop(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">cast&lt;BasicBlock&gt;</a>(VM[*<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]), *LI);</div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span> </div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>  <span class="comment">// Add all of the subloops to the new loop.</span></div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : *L)</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span>    <a class="code hl_function" href="namespacellvm.html#afe8e2e0edcd7756ff5985b8798270c5d">cloneLoop</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, &amp;New, VM, LI, LPM);</div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span> </div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>  <span class="keywordflow">return</span> &amp;New;</div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>}</div>
</div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span><span class="comment"></span> </div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span><span class="comment">/// IR Values for the lower and upper bounds of a pointer evolution.  We</span></div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span><span class="comment">/// need to use value-handles because SCEV expansion can invalidate previously</span></div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span><span class="comment">/// expanded values.  Thus expansion of a pointer can invalidate the bounds for</span></div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span><span class="comment">/// a previous one.</span></div>
<div class="foldopen" id="foldopen01517" data-start="{" data-end="};">
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"><a class="line" href="structPointerBounds.html"> 1517</a></span><span class="comment"></span><span class="keyword">struct </span><a class="code hl_struct" href="structPointerBounds.html">PointerBounds</a> {</div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"><a class="line" href="structPointerBounds.html#a166c50543bde92f88942e24117d2507c"> 1518</a></span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">TrackingVH&lt;Value&gt;</a> <a class="code hl_variable" href="structPointerBounds.html#a166c50543bde92f88942e24117d2507c">Start</a>;</div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"><a class="line" href="structPointerBounds.html#a1b8c6c0bae373b4653e16639ac4acff7"> 1519</a></span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">TrackingVH&lt;Value&gt;</a> <a class="code hl_variable" href="structPointerBounds.html#a1b8c6c0bae373b4653e16639ac4acff7">End</a>;</div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span>};</div>
</div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span><span class="comment"></span> </div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span><span class="comment">/// Expand code for the lower and upper bound of the pointer group \p CG</span></div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span><span class="comment">/// in \p TheLoop.  \return the values for the bounds.</span></div>
<div class="foldopen" id="foldopen01524" data-start="{" data-end="}">
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"><a class="line" href="LoopUtils_8cpp.html#af4661847cca3af662aa9090f0ee93058"> 1524</a></span><span class="comment"></span><span class="keyword">static</span> <a class="code hl_struct" href="structPointerBounds.html">PointerBounds</a> <a class="code hl_function" href="LoopUtils_8cpp.html#af4661847cca3af662aa9090f0ee93058">expandBounds</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structllvm_1_1RuntimeCheckingPtrGroup.html">RuntimeCheckingPtrGroup</a> *<a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>,</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span>                                  <a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *TheLoop, <a class="code hl_class" href="classllvm_1_1Instruction.html">Instruction</a> *Loc,</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span>                                  <a class="code hl_class" href="classllvm_1_1SCEVExpander.html">SCEVExpander</a> &amp;Exp) {</div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span>  <a class="code hl_class" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;Ctx = Loc-&gt;getContext();</div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span>  <a class="code hl_class" href="classllvm_1_1Type.html">Type</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PtrArithTy</a> = Type::getInt8PtrTy(Ctx, <a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>-&gt;AddressSpace);</div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span> </div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>  <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *Start = <span class="keyword">nullptr</span>, *End = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span>  <a class="code hl_define" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;LAA: Adding RT check for range:\n&quot;</span>);</div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span>  Start = Exp.expandCodeFor(<a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>-&gt;Low, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PtrArithTy</a>, Loc);</div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span>  End = Exp.expandCodeFor(<a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>-&gt;High, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PtrArithTy</a>, Loc);</div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span>  <a class="code hl_define" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Start: &quot;</span> &lt;&lt; *<a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>-&gt;Low &lt;&lt; <span class="stringliteral">&quot; End: &quot;</span> &lt;&lt; *<a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>-&gt;High &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span>  <span class="keywordflow">return</span> {Start, End};</div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>}</div>
</div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span><span class="comment"></span> </div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span><span class="comment">/// Turns a collection of checks into a collection of expanded upper and</span></div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span><span class="comment">/// lower bounds for both pointers in the check.</span></div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span><span class="comment"></span><span class="keyword">static</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;std::pair&lt;PointerBounds, PointerBounds&gt;</a>, 4&gt;</div>
<div class="foldopen" id="foldopen01541" data-start="{" data-end="}">
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"><a class="line" href="LoopUtils_8cpp.html#a1e7a8f8de0bc47905e13908afe317575"> 1541</a></span><a class="code hl_function" href="LoopUtils_8cpp.html#af4661847cca3af662aa9090f0ee93058">expandBounds</a>(<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVectorImpl&lt;RuntimePointerCheck&gt;</a> &amp;<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PointerChecks</a>, <a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *L,</div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span>             <a class="code hl_class" href="classllvm_1_1Instruction.html">Instruction</a> *Loc, <a class="code hl_class" href="classllvm_1_1SCEVExpander.html">SCEVExpander</a> &amp;Exp) {</div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;std::pair&lt;PointerBounds, PointerBounds&gt;</a>, 4&gt; <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ChecksWithBounds</a>;</div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span> </div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span>  <span class="comment">// Here we&#39;re relying on the SCEV Expander&#39;s cache to only emit code for the</span></div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span>  <span class="comment">// same bounds once.</span></div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span>  <a class="code hl_function" href="namespacellvm.html#a615619b0b2879029152b9a20e96624bc">transform</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PointerChecks</a>, std::back_inserter(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ChecksWithBounds</a>),</div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span>            [&amp;](<span class="keyword">const</span> <a class="code hl_typedef" href="namespacellvm.html#a12b6596f3de8ec2382209b04c2b5444c">RuntimePointerCheck</a> &amp;Check) {</div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span>              <a class="code hl_struct" href="structPointerBounds.html">PointerBounds</a> First = <a class="code hl_function" href="LoopUtils_8cpp.html#af4661847cca3af662aa9090f0ee93058">expandBounds</a>(Check.first, L, Loc, Exp),</div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span>                            <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Second</a> = <a class="code hl_function" href="LoopUtils_8cpp.html#af4661847cca3af662aa9090f0ee93058">expandBounds</a>(Check.second, L, Loc, Exp);</div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span>              <span class="keywordflow">return</span> std::make_pair(First, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Second</a>);</div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span>            });</div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span> </div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span>  <span class="keywordflow">return</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ChecksWithBounds</a>;</div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span>}</div>
</div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span> </div>
<div class="foldopen" id="foldopen01557" data-start="{" data-end="}">
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"><a class="line" href="namespacellvm.html#ae4cddbf9780c6a63e5f3d5e1f6402f09"> 1557</a></span>std::pair&lt;Instruction *, Instruction *&gt; <a class="code hl_function" href="namespacellvm.html#ae4cddbf9780c6a63e5f3d5e1f6402f09">llvm::addRuntimeChecks</a>(</div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>    <a class="code hl_class" href="classllvm_1_1Instruction.html">Instruction</a> *Loc, <a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> *TheLoop,</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>    <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVectorImpl&lt;RuntimePointerCheck&gt;</a> &amp;<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PointerChecks</a>,</div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span>    <a class="code hl_class" href="classllvm_1_1SCEVExpander.html">SCEVExpander</a> &amp;Exp) {</div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span>  <span class="comment">// TODO: Move noalias annotation code from LoopVersioning here and share with LV if possible.</span></div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span>  <span class="comment">// TODO: Pass  RtPtrChecking instead of PointerChecks and SE separately, if possible</span></div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span>  <span class="keyword">auto</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ExpandedChecks</a> = <a class="code hl_function" href="LoopUtils_8cpp.html#af4661847cca3af662aa9090f0ee93058">expandBounds</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PointerChecks</a>, TheLoop, Loc, Exp);</div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span> </div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span>  <a class="code hl_class" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;Ctx = Loc-&gt;getContext();</div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span>  <a class="code hl_class" href="classllvm_1_1Instruction.html">Instruction</a> *FirstInst = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IRBuilder&lt;&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ChkBuilder</a>(Loc);</div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span>  <span class="comment">// Our instructions might fold to a constant.</span></div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span>  <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">MemoryRuntimeCheck</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span> </div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span>  <span class="comment">// FIXME: this helper is currently a duplicate of the one in</span></div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span>  <span class="comment">// LoopVectorize.cpp.</span></div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span>  <span class="keyword">auto</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">GetFirstInst</a> = [](<a class="code hl_class" href="classllvm_1_1Instruction.html">Instruction</a> *FirstInst, <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *V,</div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span>                         <a class="code hl_class" href="classllvm_1_1Instruction.html">Instruction</a> *Loc) -&gt; <a class="code hl_class" href="classllvm_1_1Instruction.html">Instruction</a> * {</div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span>    <span class="keywordflow">if</span> (FirstInst)</div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span>      <span class="keywordflow">return</span> FirstInst;</div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;Instruction&gt;</a>(V))</div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span>      <span class="keywordflow">return</span> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;<a class="code hl_function" href="classllvm_1_1Instruction.html#a5e6364c710de3afb5449588baab260fd">getParent</a>() == Loc-&gt;<a class="code hl_function" href="classllvm_1_1BasicBlock.html#a80069e261aca5e34cffcc2ef67cfa29b">getParent</a>() ? <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span>  };</div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"> 1581</span> </div>
<div class="line"><a id="l01582" name="l01582"></a><span class="lineno"> 1582</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Check : <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ExpandedChecks</a>) {</div>
<div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structPointerBounds.html">PointerBounds</a> &amp;<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a3545a9491d4dcf823feb79f6eb37e3ee">A</a> = Check.first, &amp;<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a> = Check.second;</div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span>    <span class="comment">// Check if two pointers (A and B) conflict where conflict is computed as:</span></div>
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"> 1585</span>    <span class="comment">// start(A) &lt;= end(B) &amp;&amp; start(B) &lt;= end(A)</span></div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span>    <span class="keywordtype">unsigned</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AS0</a> = <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a3545a9491d4dcf823feb79f6eb37e3ee">A</a>.Start-&gt;getType()-&gt;getPointerAddressSpace();</div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span>    <span class="keywordtype">unsigned</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AS1</a> = <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>.Start-&gt;getType()-&gt;getPointerAddressSpace();</div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span> </div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span>    <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AS0</a> == <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>.End-&gt;getType()-&gt;getPointerAddressSpace()) &amp;&amp;</div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span>           (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AS1</a> == <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a3545a9491d4dcf823feb79f6eb37e3ee">A</a>.End-&gt;getType()-&gt;getPointerAddressSpace()) &amp;&amp;</div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>           <span class="stringliteral">&quot;Trying to bounds check pointers with different address spaces&quot;</span>);</div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span> </div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>    <a class="code hl_class" href="classllvm_1_1Type.html">Type</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PtrArithTy0</a> = Type::getInt8PtrTy(Ctx, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AS0</a>);</div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span>    <a class="code hl_class" href="classllvm_1_1Type.html">Type</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PtrArithTy1</a> = Type::getInt8PtrTy(Ctx, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AS1</a>);</div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span> </div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span>    <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Start0</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ChkBuilder</a>.CreateBitCast(<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a3545a9491d4dcf823feb79f6eb37e3ee">A</a>.Start, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PtrArithTy0</a>, <span class="stringliteral">&quot;bc&quot;</span>);</div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span>    <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Start1</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ChkBuilder</a>.CreateBitCast(<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>.Start, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PtrArithTy1</a>, <span class="stringliteral">&quot;bc&quot;</span>);</div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span>    <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">End0</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ChkBuilder</a>.CreateBitCast(<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a3545a9491d4dcf823feb79f6eb37e3ee">A</a>.End, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PtrArithTy1</a>, <span class="stringliteral">&quot;bc&quot;</span>);</div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span>    <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">End1</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ChkBuilder</a>.CreateBitCast(<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>.End, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">PtrArithTy0</a>, <span class="stringliteral">&quot;bc&quot;</span>);</div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span> </div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span>    <span class="comment">// [A|B].Start points to the first accessed byte under base [A|B].</span></div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span>    <span class="comment">// [A|B].End points to the last accessed byte, plus one.</span></div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span>    <span class="comment">// There is no conflict when the intervals are disjoint:</span></div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span>    <span class="comment">// NoConflict = (B.Start &gt;= A.End) || (A.Start &gt;= B.End)</span></div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span>    <span class="comment">//</span></div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span>    <span class="comment">// bound0 = (B.Start &lt; A.End)</span></div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span>    <span class="comment">// bound1 = (A.Start &lt; B.End)</span></div>
<div class="line"><a id="l01608" name="l01608"></a><span class="lineno"> 1608</span>    <span class="comment">//  IsConflict = bound0 &amp; bound1</span></div>
<div class="line"><a id="l01609" name="l01609"></a><span class="lineno"> 1609</span>    <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Cmp0</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ChkBuilder</a>.CreateICmpULT(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Start0</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">End1</a>, <span class="stringliteral">&quot;bound0&quot;</span>);</div>
<div class="line"><a id="l01610" name="l01610"></a><span class="lineno"> 1610</span>    FirstInst = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">GetFirstInst</a>(FirstInst, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Cmp0</a>, Loc);</div>
<div class="line"><a id="l01611" name="l01611"></a><span class="lineno"> 1611</span>    <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *Cmp1 = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ChkBuilder</a>.CreateICmpULT(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Start1</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">End0</a>, <span class="stringliteral">&quot;bound1&quot;</span>);</div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"> 1612</span>    FirstInst = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">GetFirstInst</a>(FirstInst, Cmp1, Loc);</div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"> 1613</span>    <a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IsConflict</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ChkBuilder</a>.CreateAnd(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Cmp0</a>, Cmp1, <span class="stringliteral">&quot;found.conflict&quot;</span>);</div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span>    FirstInst = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">GetFirstInst</a>(FirstInst, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IsConflict</a>, Loc);</div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">MemoryRuntimeCheck</a>) {</div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span>      <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IsConflict</a> =</div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span>          <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ChkBuilder</a>.CreateOr(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">MemoryRuntimeCheck</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IsConflict</a>, <span class="stringliteral">&quot;conflict.rdx&quot;</span>);</div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span>      FirstInst = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">GetFirstInst</a>(FirstInst, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IsConflict</a>, Loc);</div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span>    }</div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"> 1620</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">MemoryRuntimeCheck</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IsConflict</a>;</div>
<div class="line"><a id="l01621" name="l01621"></a><span class="lineno"> 1621</span>  }</div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span> </div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span>  <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">MemoryRuntimeCheck</a>)</div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span>    <span class="keywordflow">return</span> std::make_pair(<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span> </div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span>  <span class="comment">// We have to do this trickery because the IRBuilder might fold the check to a</span></div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span>  <span class="comment">// constant expression in which case there is no Instruction anchored in a</span></div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span>  <span class="comment">// the block.</span></div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"> 1629</span>  <a class="code hl_class" href="classllvm_1_1Instruction.html">Instruction</a> *Check =</div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"> 1630</span>      BinaryOperator::CreateAnd(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">MemoryRuntimeCheck</a>, <a class="code hl_function" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(Ctx));</div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ChkBuilder</a>.Insert(Check, <span class="stringliteral">&quot;memcheck.conflict&quot;</span>);</div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"> 1632</span>  FirstInst = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">GetFirstInst</a>(FirstInst, Check, Loc);</div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"> 1633</span>  <span class="keywordflow">return</span> std::make_pair(FirstInst, Check);</div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"> 1634</span>}</div>
</div>
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"> 1635</span> </div>
<div class="foldopen" id="foldopen01636" data-start="{" data-end="}">
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"><a class="line" href="namespacellvm.html#a40b448eb29770bce68ab118d5570f28f"> 1636</a></span><a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Optional&lt;IVConditionInfo&gt;</a> <a class="code hl_function" href="namespacellvm.html#a40b448eb29770bce68ab118d5570f28f">llvm::hasPartialIVCondition</a>(<a class="code hl_class" href="classllvm_1_1Loop.html">Loop</a> &amp;L,</div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span>                                                      <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="LoopUnswitch_8cpp.html#ab3c5fb05a050c3fcd4a0c144ca061e63">MSSAThreshold</a>,</div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span>                                                      <a class="code hl_class" href="classllvm_1_1MemorySSA.html">MemorySSA</a> &amp;MSSA,</div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"> 1639</span>                                                      <a class="code hl_class" href="classllvm_1_1AAResults.html">AAResults</a> &amp;AA) {</div>
<div class="line"><a id="l01640" name="l01640"></a><span class="lineno"> 1640</span>  <span class="keyword">auto</span> *TI = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;BranchInst&gt;</a>(L.<a class="code hl_function" href="classllvm_1_1LoopBase.html#a4a75755081e9a3803d2f4ccf6f0cb1f8">getHeader</a>()-&gt;<a class="code hl_function" href="classllvm_1_1BasicBlock.html#a71a9eabc4318b2fc34f83b01dfee484b">getTerminator</a>());</div>
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"> 1641</span>  <span class="keywordflow">if</span> (!TI || !TI-&gt;isConditional())</div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span>    <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span> </div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"> 1644</span>  <span class="keyword">auto</span> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CondI</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;CmpInst&gt;</a>(TI-&gt;getCondition());</div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"> 1645</span>  <span class="comment">// The case with the condition outside the loop should already be handled</span></div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span>  <span class="comment">// earlier.</span></div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span>  <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CondI</a> || !L.<a class="code hl_function" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CondI</a>))</div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span>    <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span> </div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;Instruction *&gt;</a> InstToDuplicate;</div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span>  InstToDuplicate.push_back(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CondI</a>);</div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"> 1652</span> </div>
<div class="line"><a id="l01653" name="l01653"></a><span class="lineno"> 1653</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;Value *, 4&gt;</a> WorkList;</div>
<div class="line"><a id="l01654" name="l01654"></a><span class="lineno"> 1654</span>  WorkList.append(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CondI</a>-&gt;op_begin(), <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CondI</a>-&gt;op_end());</div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span> </div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;MemoryAccess *, 4&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AccessesToCheck</a>;</div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"> 1657</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;MemoryLocation, 4&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AccessedLocs</a>;</div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span>  <span class="keywordflow">while</span> (!WorkList.empty()) {</div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span>    <a class="code hl_class" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;Instruction&gt;</a>(WorkList.pop_back_val());</div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> || !L.<a class="code hl_function" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"> 1662</span> </div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"> 1663</span>    <span class="comment">// TODO: support additional instructions.</span></div>
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"> 1664</span>    <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">isa&lt;LoadInst&gt;</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &amp;&amp; !<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">isa&lt;GetElementPtrInst&gt;</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a id="l01665" name="l01665"></a><span class="lineno"> 1665</span>      <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l01666" name="l01666"></a><span class="lineno"> 1666</span> </div>
<div class="line"><a id="l01667" name="l01667"></a><span class="lineno"> 1667</span>    <span class="comment">// Do not duplicate volatile and atomic loads.</span></div>
<div class="line"><a id="l01668" name="l01668"></a><span class="lineno"> 1668</span>    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *LI = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;LoadInst&gt;</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"> 1669</span>      <span class="keywordflow">if</span> (LI-&gt;isVolatile() || LI-&gt;isAtomic())</div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"> 1670</span>        <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span> </div>
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"> 1672</span>    InstToDuplicate.push_back(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"> 1673</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *MA = MSSA.<a class="code hl_function" href="classllvm_1_1MemorySSA.html#ab15de610fca1c900038bf3c333919e45">getMemoryAccess</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a id="l01674" name="l01674"></a><span class="lineno"> 1674</span>      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">MemUse</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast_or_null&lt;MemoryUse&gt;</a>(MA)) {</div>
<div class="line"><a id="l01675" name="l01675"></a><span class="lineno"> 1675</span>        <span class="comment">// Queue the defining access to check for alias checks.</span></div>
<div class="line"><a id="l01676" name="l01676"></a><span class="lineno"> 1676</span>        <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AccessesToCheck</a>.push_back(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">MemUse</a>-&gt;getDefiningAccess());</div>
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"> 1677</span>        <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AccessedLocs</a>.push_back(<a class="code hl_function" href="classllvm_1_1MemoryLocation.html#a18e5a3f1d71ba10a624f2a8e5121cf1f">MemoryLocation::get</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"> 1678</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01679" name="l01679"></a><span class="lineno"> 1679</span>        <span class="comment">// MemoryDefs may clobber the location or may be atomic memory</span></div>
<div class="line"><a id="l01680" name="l01680"></a><span class="lineno"> 1680</span>        <span class="comment">// operations. Bail out.</span></div>
<div class="line"><a id="l01681" name="l01681"></a><span class="lineno"> 1681</span>        <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"> 1682</span>      }</div>
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"> 1683</span>    }</div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"> 1684</span>    WorkList.append(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;op_begin(), <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;op_end());</div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span>  }</div>
<div class="line"><a id="l01686" name="l01686"></a><span class="lineno"> 1686</span> </div>
<div class="line"><a id="l01687" name="l01687"></a><span class="lineno"> 1687</span>  <span class="keywordflow">if</span> (InstToDuplicate.empty())</div>
<div class="line"><a id="l01688" name="l01688"></a><span class="lineno"> 1688</span>    <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l01689" name="l01689"></a><span class="lineno"> 1689</span> </div>
<div class="line"><a id="l01690" name="l01690"></a><span class="lineno"> 1690</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;BasicBlock *, 4&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ExitingBlocks</a>;</div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"> 1691</span>  L.<a class="code hl_function" href="classllvm_1_1LoopBase.html#a46880fab7a9d5bd439725f2acc59b80d">getExitingBlocks</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ExitingBlocks</a>);</div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span>  <span class="keyword">auto</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">HasNoClobbersOnPath</a> =</div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span>      [&amp;L, &amp;AA, &amp;<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AccessedLocs</a>, &amp;<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ExitingBlocks</a>, &amp;InstToDuplicate,</div>
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"> 1694</span>       <a class="code hl_variable" href="LoopUnswitch_8cpp.html#ab3c5fb05a050c3fcd4a0c144ca061e63">MSSAThreshold</a>](<a class="code hl_class" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Succ, <a class="code hl_class" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Header,</div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"> 1695</span>                      <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;MemoryAccess *, 4&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AccessesToCheck</a>)</div>
<div class="line"><a id="l01696" name="l01696"></a><span class="lineno"> 1696</span>      -&gt; <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Optional&lt;IVConditionInfo&gt;</a> {</div>
<div class="line"><a id="l01697" name="l01697"></a><span class="lineno"> 1697</span>    <a class="code hl_struct" href="structllvm_1_1IVConditionInfo.html">IVConditionInfo</a> <a class="code hl_variable" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>;</div>
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"> 1698</span>    <span class="comment">// First, collect all blocks in the loop that are on a patch from Succ</span></div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span>    <span class="comment">// to the header.</span></div>
<div class="line"><a id="l01700" name="l01700"></a><span class="lineno"> 1700</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;BasicBlock *, 4&gt;</a> WorkList;</div>
<div class="line"><a id="l01701" name="l01701"></a><span class="lineno"> 1701</span>    WorkList.push_back(Succ);</div>
<div class="line"><a id="l01702" name="l01702"></a><span class="lineno"> 1702</span>    WorkList.push_back(Header);</div>
<div class="line"><a id="l01703" name="l01703"></a><span class="lineno"> 1703</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallPtrSet&lt;BasicBlock *, 4&gt;</a> Seen;</div>
<div class="line"><a id="l01704" name="l01704"></a><span class="lineno"> 1704</span>    Seen.insert(Header);</div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"> 1705</span>    Info.PathIsNoop &amp;=</div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span>        <a class="code hl_function" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(*Header, [](<a class="code hl_class" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) { <span class="keywordflow">return</span> !<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.mayHaveSideEffects(); });</div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span> </div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>    <span class="keywordflow">while</span> (!WorkList.empty()) {</div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span>      <a class="code hl_class" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Current = WorkList.pop_back_val();</div>
<div class="line"><a id="l01710" name="l01710"></a><span class="lineno"> 1710</span>      <span class="keywordflow">if</span> (!L.<a class="code hl_function" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(Current))</div>
<div class="line"><a id="l01711" name="l01711"></a><span class="lineno"> 1711</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01712" name="l01712"></a><span class="lineno"> 1712</span>      <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SeenIns</a> = Seen.insert(Current);</div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span>      <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SeenIns</a>.second)</div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span> </div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span>      Info.PathIsNoop &amp;= <a class="code hl_function" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(</div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span>          *Current, [](<a class="code hl_class" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) { <span class="keywordflow">return</span> !<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.mayHaveSideEffects(); });</div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span>      WorkList.append(<a class="code hl_function" href="namespacellvm.html#a3720211f6e6389ab53734b989bfb6fce">succ_begin</a>(Current), <a class="code hl_function" href="namespacellvm.html#a069c4ae2290101bde0f8d6a5074dc72b">succ_end</a>(Current));</div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span>    }</div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span> </div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"> 1721</span>    <span class="comment">// Require at least 2 blocks on a path through the loop. This skips</span></div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"> 1722</span>    <span class="comment">// paths that directly exit the loop.</span></div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span>    <span class="keywordflow">if</span> (Seen.size() &lt; 2)</div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span>      <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span> </div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span>    <span class="comment">// Next, check if there are any MemoryDefs that are on the path through</span></div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span>    <span class="comment">// the loop (in the Seen set) and they may-alias any of the locations in</span></div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span>    <span class="comment">// AccessedLocs. If that is the case, they may modify the condition and</span></div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span>    <span class="comment">// partial unswitching is not possible.</span></div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallPtrSet&lt;MemoryAccess *, 4&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SeenAccesses</a>;</div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span>    <span class="keywordflow">while</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AccessesToCheck</a>.empty()) {</div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span>      <a class="code hl_class" href="classllvm_1_1MemoryAccess.html">MemoryAccess</a> *Current = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AccessesToCheck</a>.pop_back_val();</div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span>      <span class="keyword">auto</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SeenI</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SeenAccesses</a>.insert(Current);</div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span>      <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SeenI</a>.second || !Seen.contains(Current-&gt;<a class="code hl_function" href="classllvm_1_1MemoryAccess.html#a9a9c59da949d32a269725b6e254d426f">getBlock</a>()))</div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span> </div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span>      <span class="comment">// Bail out if exceeded the threshold.</span></div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>      <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SeenAccesses</a>.size() &gt;= <a class="code hl_variable" href="LoopUnswitch_8cpp.html#ab3c5fb05a050c3fcd4a0c144ca061e63">MSSAThreshold</a>)</div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span>        <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span> </div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span>      <span class="comment">// MemoryUse are read-only accesses.</span></div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span>      <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">isa&lt;MemoryUse&gt;</a>(Current))</div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span> </div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span>      <span class="comment">// For a MemoryDef, check if is aliases any of the location feeding</span></div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"> 1746</span>      <span class="comment">// the original condition.</span></div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span>      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CurrentDef</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;MemoryDef&gt;</a>(Current)) {</div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AccessedLocs</a>, [&amp;AA, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CurrentDef</a>](<a class="code hl_class" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;Loc) {</div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"> 1749</span>              <span class="keywordflow">return</span> <a class="code hl_function" href="namespacellvm.html#a9c9d20fe1eea1c539518762e7d822d69">isModSet</a>(</div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span>                  AA.<a class="code hl_function" href="classllvm_1_1AAResults.html#a127b92b584580c39d0050975446d77dc">getModRefInfo</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CurrentDef</a>-&gt;getMemoryInst(), Loc));</div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span>            }))</div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span>          <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span>      }</div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span> </div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span>      <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1Use.html">Use</a> &amp;U : Current-&gt;<a class="code hl_function" href="classllvm_1_1Value.html#abf855b7cd63a0cd7f73759e396f280c9">uses</a>())</div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>        <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AccessesToCheck</a>.push_back(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">cast&lt;MemoryAccess&gt;</a>(U.getUser()));</div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span>    }</div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span> </div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span>    <span class="comment">// We could also allow loops with known trip counts without mustprogress,</span></div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span>    <span class="comment">// but ScalarEvolution may not be available.</span></div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span>    Info.PathIsNoop &amp;= <a class="code hl_function" href="namespacellvm.html#a6de4882dde0c939a449377f8f8abb8a8">isMustProgress</a>(&amp;L);</div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span> </div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span>    <span class="comment">// If the path is considered a no-op so far, check if it reaches a</span></div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span>    <span class="comment">// single exit block without any phis. This ensures no values from the</span></div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"> 1765</span>    <span class="comment">// loop are used outside of the loop.</span></div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span>    <span class="keywordflow">if</span> (Info.PathIsNoop) {</div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> *Exiting : <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ExitingBlocks</a>) {</div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span>        <span class="keywordflow">if</span> (!Seen.contains(Exiting))</div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> *Succ : <a class="code hl_function" href="namespacellvm.html#a3493591c859b8ae672dfa20950608c86">successors</a>(Exiting)) {</div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span>          <span class="keywordflow">if</span> (L.<a class="code hl_function" href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">contains</a>(Succ))</div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span> </div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span>          Info.PathIsNoop &amp;= <a class="code hl_function" href="namespacellvm.html#a824f3e0d9eb261d9345fcc96b36852f5">llvm::empty</a>(Succ-&gt;phis()) &amp;&amp;</div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span>                             (!Info.ExitForPath || Info.ExitForPath == Succ);</div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"> 1776</span>          <span class="keywordflow">if</span> (!Info.PathIsNoop)</div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span>          <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!Info.ExitForPath || Info.ExitForPath == Succ) &amp;&amp;</div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span>                 <span class="stringliteral">&quot;cannot have multiple exit blocks&quot;</span>);</div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span>          Info.ExitForPath = Succ;</div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span>        }</div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span>      }</div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span>    }</div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>    <span class="keywordflow">if</span> (!Info.ExitForPath)</div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span>      Info.PathIsNoop = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span> </div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>    Info.InstToDuplicate = InstToDuplicate;</div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>;</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span>  };</div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span> </div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span>  <span class="comment">// If we branch to the same successor, partial unswitching will not be</span></div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span>  <span class="comment">// beneficial.</span></div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span>  <span class="keywordflow">if</span> (TI-&gt;getSuccessor(0) == TI-&gt;getSuccessor(1))</div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span>    <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span> </div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span>  <span class="keywordflow">if</span> (<span class="keyword">auto</span> Info = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">HasNoClobbersOnPath</a>(TI-&gt;getSuccessor(0), L.<a class="code hl_function" href="classllvm_1_1LoopBase.html#a4a75755081e9a3803d2f4ccf6f0cb1f8">getHeader</a>(),</div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span>                                      <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AccessesToCheck</a>)) {</div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span>    Info-&gt;KnownValue = <a class="code hl_function" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(TI-&gt;getContext());</div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>;</div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span>  }</div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span>  <span class="keywordflow">if</span> (<span class="keyword">auto</span> Info = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">HasNoClobbersOnPath</a>(TI-&gt;getSuccessor(1), L.<a class="code hl_function" href="classllvm_1_1LoopBase.html#a4a75755081e9a3803d2f4ccf6f0cb1f8">getHeader</a>(),</div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span>                                      <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AccessesToCheck</a>)) {</div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span>    Info-&gt;KnownValue = <a class="code hl_function" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(TI-&gt;getContext());</div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>;</div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span>  }</div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span> </div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span>  <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span>}</div>
</div>
<div class="ttc" id="aAliasAnalysis_8h_html"><div class="ttname"><a href="AliasAnalysis_8h.html">AliasAnalysis.h</a></div></div>
<div class="ttc" id="aAssumeBundleBuilder_8cpp_html_afb136e0532bcaed86521b462e6538d62"><div class="ttname"><a href="AssumeBundleBuilder_8cpp.html#afb136e0532bcaed86521b462e6538d62">Builder</a></div><div class="ttdeci">assume Assume Builder</div><div class="ttdef"><b>Definition</b> <a href="AssumeBundleBuilder_8cpp_source.html#l00651">AssumeBundleBuilder.cpp:651</a></div></div>
<div class="ttc" id="aBasicAliasAnalysis_8h_html"><div class="ttname"><a href="BasicAliasAnalysis_8h.html">BasicAliasAnalysis.h</a></div><div class="ttdoc">This is the interface for LLVM's primary stateless and local alias analysis.</div></div>
<div class="ttc" id="aBasicBlockUtils_8h_html"><div class="ttname"><a href="BasicBlockUtils_8h.html">BasicBlockUtils.h</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a11d755651840a5529d15260aacde92f3"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a3545a9491d4dcf823feb79f6eb37e3ee"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a3545a9491d4dcf823feb79f6eb37e3ee">A</a></div><div class="ttdeci">static GCRegistry::Add&lt; ErlangGC &gt; A(&quot;erlang&quot;, &quot;erlang-compatible garbage collector&quot;)</div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_ab5899ca200d34e3cc6bb09ebce5e5b3c"><div class="ttname"><a href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aCSEInfo_8cpp_html_a75f8a8519c2c9b30e7c06dc5e256fffa"><div class="ttname"><a href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a></div><div class="ttdeci">Analysis containing CSE Info</div><div class="ttdef"><b>Definition</b> <a href="CSEInfo_8cpp_source.html#l00027">CSEInfo.cpp:27</a></div></div>
<div class="ttc" id="aCoroSplit_8cpp_html_a1b7259e431066a500b6b6e7267fad8c3"><div class="ttname"><a href="CoroSplit_8cpp.html#a1b7259e431066a500b6b6e7267fad8c3">Changed</a></div><div class="ttdeci">return Changed</div><div class="ttdef"><b>Definition</b> <a href="CoroSplit_8cpp_source.html#l02088">CoroSplit.cpp:2088</a></div></div>
<div class="ttc" id="aCoroSplit_8cpp_html_a870dde7776fd5695fbfa39d3c6396fc6"><div class="ttname"><a href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a></div><div class="ttdeci">Remove calls to llvm coro prepare a barrier meant to prevent IPO from operating on calls to a retcon coroutine before it s been split This is only safe to do after we ve split all retcon coroutines in the module We can do that this in this pass because this pass does promise to split all retcon CallGraph &amp; CG</div><div class="ttdef"><b>Definition</b> <a href="CoroSplit_8cpp_source.html#l02078">CoroSplit.cpp:2078</a></div></div>
<div class="ttc" id="aDIBuilder_8h_html"><div class="ttname"><a href="DIBuilder_8h.html">DIBuilder.h</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition</b> <a href="Debug_8h_source.html#l00122">Debug.h:122</a></div></div>
<div class="ttc" id="aDenseSet_8h_html"><div class="ttname"><a href="DenseSet_8h.html">DenseSet.h</a></div></div>
<div class="ttc" id="aDomTreeUpdater_8h_html"><div class="ttname"><a href="DomTreeUpdater_8h.html">DomTreeUpdater.h</a></div></div>
<div class="ttc" id="aDominators_8h_html"><div class="ttname"><a href="Dominators_8h.html">Dominators.h</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_adc852f586959ce13117d737cf3f14899"><div class="ttname"><a href="ELFObjHandler_8cpp.html#adc852f586959ce13117d737cf3f14899">Name</a></div><div class="ttdeci">std::string Name</div><div class="ttdef"><b>Definition</b> <a href="ELFObjHandler_8cpp_source.html#l00078">ELFObjHandler.cpp:78</a></div></div>
<div class="ttc" id="aGlobalsModRef_8h_html"><div class="ttname"><a href="GlobalsModRef_8h.html">GlobalsModRef.h</a></div><div class="ttdoc">This is the interface for a simple mod/ref and alias analysis over globals.</div></div>
<div class="ttc" id="aHexagonCommonGEP_8cpp_html_ad532e8710e50302e0a376b61c91fa91d"><div class="ttname"><a href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a></div><div class="ttdeci">Hexagon Common GEP</div><div class="ttdef"><b>Definition</b> <a href="HexagonCommonGEP_8cpp_source.html#l00172">HexagonCommonGEP.cpp:172</a></div></div>
<div class="ttc" id="aHexagonHardwareLoops_8cpp_html_ada7c1594a393ede3ce32602d64d7ddb2"><div class="ttname"><a href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a></div><div class="ttdeci">Hexagon Hardware Loops</div><div class="ttdef"><b>Definition</b> <a href="HexagonHardwareLoops_8cpp_source.html#l00372">HexagonHardwareLoops.cpp:372</a></div></div>
<div class="ttc" id="aIVUsers_8cpp_html_a4e5b9edb51eec9dbca592075eb64dfcb"><div class="ttname"><a href="IVUsers_8cpp.html#a4e5b9edb51eec9dbca592075eb64dfcb">Users</a></div><div class="ttdeci">iv Induction Variable Users</div><div class="ttdef"><b>Definition</b> <a href="IVUsers_8cpp_source.html#l00052">IVUsers.cpp:52</a></div></div>
<div class="ttc" id="aIndVarSimplify_8cpp_html_acdf1297fdd8e909949462e279e8840ff"><div class="ttname"><a href="IndVarSimplify_8cpp.html#acdf1297fdd8e909949462e279e8840ff">ReplaceExitValue</a></div><div class="ttdeci">static cl::opt&lt; ReplaceExitVal &gt; ReplaceExitValue(&quot;replexitval&quot;, cl::Hidden, cl::init(OnlyCheapRepl), cl::desc(&quot;Choose the strategy to replace exit value in IndVarSimplify&quot;), cl::values(clEnumValN(NeverRepl, &quot;never&quot;, &quot;never replace exit value&quot;), clEnumValN(OnlyCheapRepl, &quot;cheap&quot;, &quot;only replace exit value when the cost is cheap&quot;), clEnumValN(NoHardUse, &quot;noharduse&quot;, &quot;only replace exit values when loop def likely dead&quot;), clEnumValN(AlwaysRepl, &quot;always&quot;, &quot;always replace exit value whenever possible&quot;)))</div></div>
<div class="ttc" id="aInitializePasses_8h_html"><div class="ttname"><a href="InitializePasses_8h.html">InitializePasses.h</a></div></div>
<div class="ttc" id="aInstructionSimplify_8h_html"><div class="ttname"><a href="InstructionSimplify_8h.html">InstructionSimplify.h</a></div></div>
<div class="ttc" id="aInstructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="aIntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="aKnownBits_8h_html"><div class="ttname"><a href="KnownBits_8h.html">KnownBits.h</a></div></div>
<div class="ttc" id="aLoopAccessAnalysis_8h_html"><div class="ttname"><a href="LoopAccessAnalysis_8h.html">LoopAccessAnalysis.h</a></div></div>
<div class="ttc" id="aLoopInfo_8h_html"><div class="ttname"><a href="LoopInfo_8h.html">LoopInfo.h</a></div></div>
<div class="ttc" id="aLoopPass_8h_html"><div class="ttname"><a href="LoopPass_8h.html">LoopPass.h</a></div></div>
<div class="ttc" id="aLoopUnswitch_8cpp_html_ab3c5fb05a050c3fcd4a0c144ca061e63"><div class="ttname"><a href="LoopUnswitch_8cpp.html#ab3c5fb05a050c3fcd4a0c144ca061e63">MSSAThreshold</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; MSSAThreshold(&quot;loop-unswitch-memoryssa-threshold&quot;, cl::desc(&quot;Max number of memory uses to explore during &quot; &quot;partial unswitching analysis&quot;), cl::init(100), cl::Hidden)</div></div>
<div class="ttc" id="aLoopUtils_8cpp_html_a0f31e8ea7a0fea18c2df924e7d6e8de8"><div class="ttname"><a href="LoopUtils_8cpp.html#a0f31e8ea7a0fea18c2df924e7d6e8de8">hasHardUserWithinLoop</a></div><div class="ttdeci">static bool hasHardUserWithinLoop(const Loop *L, const Instruction *I)</div><div class="ttdef"><b>Definition</b> <a href="#l01136">LoopUtils.cpp:1136</a></div></div>
<div class="ttc" id="aLoopUtils_8cpp_html_a2d76a4b8b8658e3e15bca3a21271e7b0"><div class="ttname"><a href="LoopUtils_8cpp.html#a2d76a4b8b8658e3e15bca3a21271e7b0">LLVMLoopDisableLICM</a></div><div class="ttdeci">static const char * LLVMLoopDisableLICM</div><div class="ttdef"><b>Definition</b> <a href="#l00060">LoopUtils.cpp:60</a></div></div>
<div class="ttc" id="aLoopUtils_8cpp_html_a34ce38f59da0be8985b96ac094fd2d86"><div class="ttname"><a href="LoopUtils_8cpp.html#a34ce38f59da0be8985b96ac094fd2d86">isValidRewrite</a></div><div class="ttdeci">static bool isValidRewrite(ScalarEvolution *SE, Value *FromVal, Value *ToVal)</div><div class="ttdef"><b>Definition</b> <a href="#l01088">LoopUtils.cpp:1088</a></div></div>
<div class="ttc" id="aLoopUtils_8cpp_html_a4fc6667c0f14f4e871d21234a6726246"><div class="ttname"><a href="LoopUtils_8cpp.html#a4fc6667c0f14f4e871d21234a6726246">canLoopBeDeleted</a></div><div class="ttdeci">static bool canLoopBeDeleted(Loop *L, SmallVector&lt; RewritePhi, 8 &gt; &amp;RewritePhiSet)</div><div class="ttdef"><b>Definition</b> <a href="#l01180">LoopUtils.cpp:1180</a></div></div>
<div class="ttc" id="aLoopUtils_8cpp_html_a64a432c98ab18135133952dacc1ddbb6"><div class="ttname"><a href="LoopUtils_8cpp.html#a64a432c98ab18135133952dacc1ddbb6">LLVMLoopDisableNonforced</a></div><div class="ttdeci">static const char * LLVMLoopDisableNonforced</div><div class="ttdef"><b>Definition</b> <a href="#l00059">LoopUtils.cpp:59</a></div></div>
<div class="ttc" id="aLoopUtils_8cpp_html_a6bfe058b12abe3443b07d4f4d55d863f"><div class="ttname"><a href="LoopUtils_8cpp.html#a6bfe058b12abe3443b07d4f4d55d863f">createStringMetadata</a></div><div class="ttdeci">static MDNode * createStringMetadata(Loop *TheLoop, StringRef Name, unsigned V)</div><div class="ttdoc">Create MDNode for input string.</div><div class="ttdef"><b>Definition</b> <a href="#l00211">LoopUtils.cpp:211</a></div></div>
<div class="ttc" id="aLoopUtils_8cpp_html_a74712012450beeec949c228fd21d10a6"><div class="ttname"><a href="LoopUtils_8cpp.html#a74712012450beeec949c228fd21d10a6">getExpectedExitLoopLatchBranch</a></div><div class="ttdeci">static BranchInst * getExpectedExitLoopLatchBranch(Loop *L)</div><div class="ttdoc">Checks if L has single exit through latch block except possibly &quot;deoptimizing&quot; exits.</div><div class="ttdef"><b>Definition</b> <a href="#l00746">LoopUtils.cpp:746</a></div></div>
<div class="ttc" id="aLoopUtils_8cpp_html_a7cc325d24ab8c9d2b30b1758a60132b2"><div class="ttname"><a href="LoopUtils_8cpp.html#a7cc325d24ab8c9d2b30b1758a60132b2">getOutermostLoop</a></div><div class="ttdeci">static Loop * getOutermostLoop(Loop *L)</div><div class="ttdef"><b>Definition</b> <a href="#l00698">LoopUtils.cpp:698</a></div></div>
<div class="ttc" id="aLoopUtils_8cpp_html_af4661847cca3af662aa9090f0ee93058"><div class="ttname"><a href="LoopUtils_8cpp.html#af4661847cca3af662aa9090f0ee93058">expandBounds</a></div><div class="ttdeci">static PointerBounds expandBounds(const RuntimeCheckingPtrGroup *CG, Loop *TheLoop, Instruction *Loc, SCEVExpander &amp;Exp)</div><div class="ttdoc">Expand code for the lower and upper bound of the pointer group CG in TheLoop.</div><div class="ttdef"><b>Definition</b> <a href="#l01524">LoopUtils.cpp:1524</a></div></div>
<div class="ttc" id="aLoopUtils_8h_html"><div class="ttname"><a href="LoopUtils_8h.html">LoopUtils.h</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition</b> <a href="MD5_8cpp_source.html#l00059">MD5.cpp:59</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ae42219072d798876e6b08e6b78614ff6"><div class="ttname"><a href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a></div><div class="ttdeci">#define H(x, y, z)</div><div class="ttdef"><b>Definition</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aMDBuilder_8h_html"><div class="ttname"><a href="MDBuilder_8h.html">MDBuilder.h</a></div></div>
<div class="ttc" id="aMemorySSAUpdater_8h_html"><div class="ttname"><a href="MemorySSAUpdater_8h.html">MemorySSAUpdater.h</a></div></div>
<div class="ttc" id="aMemorySSA_8h_html"><div class="ttname"><a href="MemorySSA_8h.html">MemorySSA.h</a></div><div class="ttdoc">This file exposes an interface to building/using memory SSA to walk memory instructions using a use/d...</div></div>
<div class="ttc" id="aModule_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div><div class="ttdoc">Module.h This file contains the declarations for the Module class.</div></div>
<div class="ttc" id="aMustExecute_8h_html"><div class="ttname"><a href="MustExecute_8h.html">MustExecute.h</a></div><div class="ttdoc">Contains a collection of routines for determining if a given instruction is guaranteed to execute if ...</div></div>
<div class="ttc" id="aNVPTXISelLowering_8cpp_html_ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246"><div class="ttname"><a href="NVPTXISelLowering_8cpp.html#ae1a90b5d85643644483b2ca70da4d13faed3fa7a5efe80dad3ea3d86cc14be246">Signed</a></div><div class="ttdeci">@ Signed</div><div class="ttdef"><b>Definition</b> <a href="NVPTXISelLowering_8cpp_source.html#l04630">NVPTXISelLowering.cpp:4630</a></div></div>
<div class="ttc" id="aOperator_8h_html"><div class="ttname"><a href="Operator_8h.html">Operator.h</a></div></div>
<div class="ttc" id="aOption_8cpp_html_a04665169063c8ca1f2ea96c27fc7c2b2"><div class="ttname"><a href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a></div><div class="ttdeci">#define P(N)</div></div>
<div class="ttc" id="aOptional_8h_html"><div class="ttname"><a href="Optional_8h.html">Optional.h</a></div></div>
<div class="ttc" id="aPassSupport_8h_html_a14724f1ccf528e73bb29bc9230737967"><div class="ttname"><a href="PassSupport_8h.html#a14724f1ccf528e73bb29bc9230737967">INITIALIZE_PASS_DEPENDENCY</a></div><div class="ttdeci">#define INITIALIZE_PASS_DEPENDENCY(depName)</div><div class="ttdef"><b>Definition</b> <a href="PassSupport_8h_source.html#l00054">PassSupport.h:54</a></div></div>
<div class="ttc" id="aPass_8h_html"><div class="ttname"><a href="Pass_8h.html">Pass.h</a></div></div>
<div class="ttc" id="aPatternMatch_8h_html"><div class="ttname"><a href="PatternMatch_8h.html">PatternMatch.h</a></div></div>
<div class="ttc" id="aPriorityWorklist_8h_html"><div class="ttname"><a href="PriorityWorklist_8h.html">PriorityWorklist.h</a></div><div class="ttdoc">This file provides a priority worklist.</div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aScalarEvolutionAliasAnalysis_8h_html"><div class="ttname"><a href="ScalarEvolutionAliasAnalysis_8h.html">ScalarEvolutionAliasAnalysis.h</a></div><div class="ttdoc">This is the interface for a SCEV-based alias analysis.</div></div>
<div class="ttc" id="aScalarEvolutionExpander_8h_html"><div class="ttname"><a href="ScalarEvolutionExpander_8h.html">ScalarEvolutionExpander.h</a></div></div>
<div class="ttc" id="aScalarEvolutionExpressions_8h_html"><div class="ttname"><a href="ScalarEvolutionExpressions_8h.html">ScalarEvolutionExpressions.h</a></div></div>
<div class="ttc" id="aScalarEvolution_8h_html"><div class="ttname"><a href="ScalarEvolution_8h.html">ScalarEvolution.h</a></div></div>
<div class="ttc" id="aScopeExit_8h_html"><div class="ttname"><a href="ScopeExit_8h.html">ScopeExit.h</a></div></div>
<div class="ttc" id="aSetVector_8h_html"><div class="ttname"><a href="SetVector_8h.html">SetVector.h</a></div></div>
<div class="ttc" id="aSmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aTargetTransformInfo_8h_html"><div class="ttname"><a href="TargetTransformInfo_8h.html">TargetTransformInfo.h</a></div><div class="ttdoc">This pass exposes codegen information to IR-level passes.</div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8h_html"><div class="ttname"><a href="Transforms_2Utils_2Local_8h.html">Local.h</a></div></div>
<div class="ttc" id="aValueHandle_8h_html"><div class="ttname"><a href="ValueHandle_8h.html">ValueHandle.h</a></div></div>
<div class="ttc" id="aValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAResultsWrapperPass_html"><div class="ttname"><a href="classllvm_1_1AAResultsWrapperPass.html">llvm::AAResultsWrapperPass</a></div><div class="ttdoc">A wrapper pass to provide the legacy pass manager access to a suitably prepared AAResults object.</div><div class="ttdef"><b>Definition</b> <a href="AliasAnalysis_8h_source.html#l01281">AliasAnalysis.h:1281</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAResults_html"><div class="ttname"><a href="classllvm_1_1AAResults.html">llvm::AAResults</a></div><div class="ttdef"><b>Definition</b> <a href="AliasAnalysis_8h_source.html#l00456">AliasAnalysis.h:456</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAResults_html_a127b92b584580c39d0050975446d77dc"><div class="ttname"><a href="classllvm_1_1AAResults.html#a127b92b584580c39d0050975446d77dc">llvm::AAResults::getModRefInfo</a></div><div class="ttdeci">ModRefInfo getModRefInfo(const CallBase *Call, const MemoryLocation &amp;Loc)</div><div class="ttdoc">getModRefInfo (for call sites) - Return information about whether a particular call site modifies or ...</div><div class="ttdef"><b>Definition</b> <a href="AliasAnalysis_8cpp_source.html#l00219">AliasAnalysis.cpp:219</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers.</div><div class="ttdef"><b>Definition</b> <a href="APInt_8h_source.html#l00070">APInt.h:70</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a331d69b5f93e47e7c596062b77dd5913"><div class="ttname"><a href="classllvm_1_1APInt.html#a331d69b5f93e47e7c596062b77dd5913">llvm::APInt::getMaxValue</a></div><div class="ttdeci">static APInt getMaxValue(unsigned numBits)</div><div class="ttdoc">Gets maximum unsigned value of APInt for specific bit width.</div><div class="ttdef"><b>Definition</b> <a href="APInt_8h_source.html#l00535">APInt.h:535</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a562c9513409b74f02cb3a5c9bae672ea"><div class="ttname"><a href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">llvm::APInt::getSignedMaxValue</a></div><div class="ttdeci">static APInt getSignedMaxValue(unsigned numBits)</div><div class="ttdoc">Gets maximum signed value of APInt for a specific bit width.</div><div class="ttdef"><b>Definition</b> <a href="APInt_8h_source.html#l00540">APInt.h:540</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a65a6479206acd4113b8aa1c0fbc2158c"><div class="ttname"><a href="classllvm_1_1APInt.html#a65a6479206acd4113b8aa1c0fbc2158c">llvm::APInt::getMinValue</a></div><div class="ttdeci">static APInt getMinValue(unsigned numBits)</div><div class="ttdoc">Gets minimum unsigned value of APInt for a specific bit width.</div><div class="ttdef"><b>Definition</b> <a href="APInt_8h_source.html#l00547">APInt.h:547</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a8f877403433892e14ff0c692cbe9efdf"><div class="ttname"><a href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">llvm::APInt::getSignedMinValue</a></div><div class="ttdeci">static APInt getSignedMinValue(unsigned numBits)</div><div class="ttdoc">Gets minimum signed value of APInt for a specific bit width.</div><div class="ttdef"><b>Definition</b> <a href="APInt_8h_source.html#l00550">APInt.h:550</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdoc">Represent the analysis usage information of a pass.</div><div class="ttdef"><b>Definition</b> <a href="PassAnalysisSupport_8h_source.html#l00047">PassAnalysisSupport.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_a053677ebc731b47a534f841b11b5cf0c"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#a053677ebc731b47a534f841b11b5cf0c">llvm::AnalysisUsage::addRequiredID</a></div><div class="ttdeci">AnalysisUsage &amp; addRequiredID(const void *ID)</div><div class="ttdef"><b>Definition</b> <a href="Pass_8cpp_source.html#l00267">Pass.cpp:267</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_a573df5c9c3024ebb646e15cc7450bf91"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#a573df5c9c3024ebb646e15cc7450bf91">llvm::AnalysisUsage::addPreservedID</a></div><div class="ttdeci">AnalysisUsage &amp; addPreservedID(const void *ID)</div><div class="ttdef"><b>Definition</b> <a href="PassAnalysisSupport_8h_source.html#l00088">PassAnalysisSupport.h:88</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_ae0adcccca08fb686c9ce00f9397b660c"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ae0adcccca08fb686c9ce00f9397b660c">llvm::AnalysisUsage::addRequired</a></div><div class="ttdeci">AnalysisUsage &amp; addRequired()</div><div class="ttdef"><b>Definition</b> <a href="PassAnalysisSupport_8h_source.html#l00075">PassAnalysisSupport.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_ae9356b720f6fbab112d809738dcc4f2a"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ae9356b720f6fbab112d809738dcc4f2a">llvm::AnalysisUsage::addPreserved</a></div><div class="ttdeci">AnalysisUsage &amp; addPreserved()</div><div class="ttdoc">Add the specified Pass class to the set of analyses preserved by this pass.</div><div class="ttdef"><b>Definition</b> <a href="PassAnalysisSupport_8h_source.html#l00098">PassAnalysisSupport.h:98</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicAAWrapperPass_html"><div class="ttname"><a href="classllvm_1_1BasicAAWrapperPass.html">llvm::BasicAAWrapperPass</a></div><div class="ttdoc">Legacy wrapper pass to provide the BasicAAResult object.</div><div class="ttdef"><b>Definition</b> <a href="BasicAliasAnalysis_8h_source.html#l00248">BasicAliasAnalysis.h:248</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition</b> <a href="BasicBlock_8h_source.html#l00058">BasicBlock.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a0ed5f3ab3c2e4196ee0cffffa080c062"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">llvm::BasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdoc">Instruction iterator methods.</div><div class="ttdef"><b>Definition</b> <a href="BasicBlock_8h_source.html#l00296">BasicBlock.h:296</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a6796a84f02394ce6ebef227c866cd5eb"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a6796a84f02394ce6ebef227c866cd5eb">llvm::BasicBlock::getTerminatingDeoptimizeCall</a></div><div class="ttdeci">const CallInst * getTerminatingDeoptimizeCall() const</div><div class="ttdoc">Returns the call instruction calling @llvm.experimental.deoptimize prior to the terminating return in...</div><div class="ttdef"><b>Definition</b> <a href="BasicBlock_8cpp_source.html#l00185">BasicBlock.cpp:185</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a71a9eabc4318b2fc34f83b01dfee484b"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a71a9eabc4318b2fc34f83b01dfee484b">llvm::BasicBlock::getTerminator</a></div><div class="ttdeci">const Instruction * getTerminator() const LLVM_READONLY</div><div class="ttdoc">Returns the terminator instruction if the block is well formed or null if the block is not well forme...</div><div class="ttdef"><b>Definition</b> <a href="BasicBlock_8cpp_source.html#l00148">BasicBlock.cpp:148</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a80069e261aca5e34cffcc2ef67cfa29b"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a80069e261aca5e34cffcc2ef67cfa29b">llvm::BasicBlock::getParent</a></div><div class="ttdeci">const Function * getParent() const</div><div class="ttdoc">Return the enclosing method, or null if none.</div><div class="ttdef"><b>Definition</b> <a href="BasicBlock_8h_source.html#l00107">BasicBlock.h:107</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a98c0a84a5dfa8bce341c829709f171e5"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a98c0a84a5dfa8bce341c829709f171e5">llvm::BasicBlock::iterator</a></div><div class="ttdeci">InstListType::iterator iterator</div><div class="ttdoc">Instruction iterators...</div><div class="ttdef"><b>Definition</b> <a href="BasicBlock_8h_source.html#l00090">BasicBlock.h:90</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_aa286a0f7f5d38488d593bb7ef0ba183e"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#aa286a0f7f5d38488d593bb7ef0ba183e">llvm::BasicBlock::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">Get the context in which this basic block lives.</div><div class="ttdef"><b>Definition</b> <a href="BasicBlock_8cpp_source.html#l00032">BasicBlock.cpp:32</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchInst_html"><div class="ttname"><a href="classllvm_1_1BranchInst.html">llvm::BranchInst</a></div><div class="ttdoc">Conditional or Unconditional Branch instruction.</div><div class="ttdef"><b>Definition</b> <a href="Instructions_8h_source.html#l03032">Instructions.h:3032</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78b"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78b">llvm::CmpInst::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdoc">This enumeration lists the possible predicates for CmpInst subclasses.</div><div class="ttdef"><b>Definition</b> <a href="InstrTypes_8h_source.html#l00720">InstrTypes.h:720</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba15ae464950ac676919c2f0c7aafc706c">llvm::CmpInst::ICMP_SLT</a></div><div class="ttdeci">@ ICMP_SLT</div><div class="ttdoc">signed less than</div><div class="ttdef"><b>Definition</b> <a href="InstrTypes_8h_source.html#l00749">InstrTypes.h:749</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba326bee0a4a424cef21c1cf8adb8b8dd8"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba326bee0a4a424cef21c1cf8adb8b8dd8">llvm::CmpInst::FCMP_OLT</a></div><div class="ttdeci">@ FCMP_OLT</div><div class="ttdoc">0 1 0 0 True if ordered and less than</div><div class="ttdef"><b>Definition</b> <a href="InstrTypes_8h_source.html#l00726">InstrTypes.h:726</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba4c399f525bbcf03d72af4b303e6eeca8"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba4c399f525bbcf03d72af4b303e6eeca8">llvm::CmpInst::FCMP_OGT</a></div><div class="ttdeci">@ FCMP_OGT</div><div class="ttdoc">0 0 1 0 True if ordered and greater than</div><div class="ttdef"><b>Definition</b> <a href="InstrTypes_8h_source.html#l00724">InstrTypes.h:724</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba607cecdc5172814382033e001ed11fad">llvm::CmpInst::ICMP_UGT</a></div><div class="ttdeci">@ ICMP_UGT</div><div class="ttdoc">unsigned greater than</div><div class="ttdef"><b>Definition</b> <a href="InstrTypes_8h_source.html#l00743">InstrTypes.h:743</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba720a42e85f7e981afd61e28473b0000a">llvm::CmpInst::ICMP_SGT</a></div><div class="ttdeci">@ ICMP_SGT</div><div class="ttdoc">signed greater than</div><div class="ttdef"><b>Definition</b> <a href="InstrTypes_8h_source.html#l00747">InstrTypes.h:747</a></div></div>
<div class="ttc" id="aclassllvm_1_1CmpInst_html_a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a2be3583dac92a031fa1458d4d992c78ba91d86a4753c8bd7624e01bf565d87f8e">llvm::CmpInst::ICMP_ULT</a></div><div class="ttdeci">@ ICMP_ULT</div><div class="ttdoc">unsigned less than</div><div class="ttdef"><b>Definition</b> <a href="InstrTypes_8h_source.html#l00745">InstrTypes.h:745</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantAsMetadata_html_a4c720c398a263087e00d7358b05636d5"><div class="ttname"><a href="classllvm_1_1ConstantAsMetadata.html#a4c720c398a263087e00d7358b05636d5">llvm::ConstantAsMetadata::get</a></div><div class="ttdeci">static ConstantAsMetadata * get(Constant *C)</div><div class="ttdef"><b>Definition</b> <a href="Metadata_8h_source.html#l00419">Metadata.h:419</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantFP_html_a5eb8f7a5d3cfdd127ad9db2e425e14eb"><div class="ttname"><a href="classllvm_1_1ConstantFP.html#a5eb8f7a5d3cfdd127ad9db2e425e14eb">llvm::ConstantFP::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, double V)</div><div class="ttdoc">This returns a ConstantFP, or a vector containing a splat of a ConstantFP, for the specified value in...</div><div class="ttdef"><b>Definition</b> <a href="Constants_8cpp_source.html#l00948">Constants.cpp:948</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantFP_html_aac74ea960aaa245b9ad883c03805997b"><div class="ttname"><a href="classllvm_1_1ConstantFP.html#aac74ea960aaa245b9ad883c03805997b">llvm::ConstantFP::getNegativeZero</a></div><div class="ttdeci">static Constant * getNegativeZero(Type *Ty)</div><div class="ttdef"><b>Definition</b> <a href="Constants_8cpp_source.html#l01022">Constants.cpp:1022</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html"><div class="ttname"><a href="classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">This is the shared class of boolean and integer constants.</div><div class="ttdef"><b>Definition</b> <a href="Constants_8h_source.html#l00079">Constants.h:79</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a82dbbd8e3688b0bc1eedb338864d0d0c"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">llvm::ConstantInt::getTrue</a></div><div class="ttdeci">static ConstantInt * getTrue(LLVMContext &amp;Context)</div><div class="ttdef"><b>Definition</b> <a href="Constants_8cpp_source.html#l00849">Constants.cpp:849</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a969709dd49c28865a482d8b870f87c46"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool IsSigned=false)</div><div class="ttdoc">If Ty is a vector type, return a Constant with a splat of the given value.</div><div class="ttdef"><b>Definition</b> <a href="Constants_8cpp_source.html#l00901">Constants.cpp:901</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_aa7cce62ac5cc6df09cce0535874336b7"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">llvm::ConstantInt::getFalse</a></div><div class="ttdeci">static ConstantInt * getFalse(LLVMContext &amp;Context)</div><div class="ttdef"><b>Definition</b> <a href="Constants_8cpp_source.html#l00856">Constants.cpp:856</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIBuilder_html"><div class="ttname"><a href="classllvm_1_1DIBuilder.html">llvm::DIBuilder</a></div><div class="ttdef"><b>Definition</b> <a href="DIBuilder_8h_source.html#l00041">DIBuilder.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1DomTreeNodeBase_html"><div class="ttname"><a href="classllvm_1_1DomTreeNodeBase.html">llvm::DomTreeNodeBase&lt; BasicBlock &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1DomTreeUpdater_html"><div class="ttname"><a href="classllvm_1_1DomTreeUpdater.html">llvm::DomTreeUpdater</a></div><div class="ttdef"><b>Definition</b> <a href="DomTreeUpdater_8h_source.html#l00028">DomTreeUpdater.h:28</a></div></div>
<div class="ttc" id="aclassllvm_1_1DomTreeUpdater_html_aae522cd1928cfac6850b50c7a3e22185"><div class="ttname"><a href="classllvm_1_1DomTreeUpdater.html#aae522cd1928cfac6850b50c7a3e22185">llvm::DomTreeUpdater::applyUpdates</a></div><div class="ttdeci">void applyUpdates(ArrayRef&lt; DominatorTree::UpdateType &gt; Updates)</div><div class="ttdoc">Submit updates to all available trees.</div><div class="ttdef"><b>Definition</b> <a href="DomTreeUpdater_8cpp_source.html#l00230">DomTreeUpdater.cpp:230</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTreeWrapperPass_html"><div class="ttname"><a href="classllvm_1_1DominatorTreeWrapperPass.html">llvm::DominatorTreeWrapperPass</a></div><div class="ttdoc">Legacy analysis pass which computes a DominatorTree.</div><div class="ttdef"><b>Definition</b> <a href="Dominators_8h_source.html#l00281">Dominators.h:281</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html"><div class="ttname"><a href="classllvm_1_1DominatorTree.html">llvm::DominatorTree</a></div><div class="ttdoc">Concrete subclass of DominatorTreeBase that is used to compute a normal dominator tree.</div><div class="ttdef"><b>Definition</b> <a href="Dominators_8h_source.html#l00151">Dominators.h:151</a></div></div>
<div class="ttc" id="aclassllvm_1_1DominatorTree_html_a1a70f2c359aadd76a72aaaede16aca4a"><div class="ttname"><a href="classllvm_1_1DominatorTree.html#a1a70f2c359aadd76a72aaaede16aca4a">llvm::DominatorTree::isReachableFromEntry</a></div><div class="ttdeci">bool isReachableFromEntry(const Use &amp;U) const</div><div class="ttdoc">Provide an overload for a Use.</div><div class="ttdef"><b>Definition</b> <a href="Dominators_8cpp_source.html#l00328">Dominators.cpp:328</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalsAAWrapperPass_html"><div class="ttname"><a href="classllvm_1_1GlobalsAAWrapperPass.html">llvm::GlobalsAAWrapperPass</a></div><div class="ttdoc">Legacy wrapper pass to provide the GlobalsAAResult object.</div><div class="ttdef"><b>Definition</b> <a href="GlobalsModRef_8h_source.html#l00143">GlobalsModRef.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_1_1FastMathFlagGuard_html"><div class="ttname"><a href="classllvm_1_1IRBuilderBase_1_1FastMathFlagGuard.html">llvm::IRBuilderBase::FastMathFlagGuard</a></div><div class="ttdef"><b>Definition</b> <a href="IRBuilder_8h_source.html#l00389">IRBuilder.h:389</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html">llvm::IRBuilderBase</a></div><div class="ttdoc">Common base class shared among various IRBuilders.</div><div class="ttdef"><b>Definition</b> <a href="IRBuilder_8h_source.html#l00095">IRBuilder.h:95</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition</b> <a href="IR_2Instruction_8h_source.html#l00045">Instruction.h:46</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a5e6364c710de3afb5449588baab260fd"><div class="ttname"><a href="classllvm_1_1Instruction.html#a5e6364c710de3afb5449588baab260fd">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const</div><div class="ttdef"><b>Definition</b> <a href="IR_2Instruction_8h_source.html#l00094">Instruction.h:94</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ac26154a24f393f523c87cc5f8239f36c"><div class="ttname"><a href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">llvm::Instruction::BinaryOps</a></div><div class="ttdeci">BinaryOps</div><div class="ttdef"><b>Definition</b> <a href="IR_2Instruction_8h_source.html#l00787">Instruction.h:787</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ae6b978645b8ac72d1a35e1298ffdd4f0"><div class="ttname"><a href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">llvm::Instruction::eraseFromParent</a></div><div class="ttdeci">SymbolTableList&lt; Instruction &gt;::iterator eraseFromParent()</div><div class="ttdoc">This method unlinks 'this' from the containing basic block and deletes it.</div><div class="ttdef"><b>Definition</b> <a href="IR_2Instruction_8cpp_source.html#l00078">Instruction.cpp:78</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContext_html"><div class="ttname"><a href="classllvm_1_1LLVMContext.html">llvm::LLVMContext</a></div><div class="ttdoc">This is an important class for using LLVM in a threaded context.</div><div class="ttdef"><b>Definition</b> <a href="LLVMContext_8h_source.html#l00068">LLVMContext.h:68</a></div></div>
<div class="ttc" id="aclassllvm_1_1LPPassManager_html"><div class="ttname"><a href="classllvm_1_1LPPassManager.html">llvm::LPPassManager</a></div><div class="ttdef"><b>Definition</b> <a href="LoopPass_8h_source.html#l00075">LoopPass.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1LPPassManager_html_ac8f0da3d3400c893b1d8142685ccdc9e"><div class="ttname"><a href="classllvm_1_1LPPassManager.html#ac8f0da3d3400c893b1d8142685ccdc9e">llvm::LPPassManager::addLoop</a></div><div class="ttdeci">void addLoop(Loop &amp;L)</div><div class="ttdef"><b>Definition</b> <a href="LoopPass_8cpp_source.html#l00079">LoopPass.cpp:79</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a04337b572d34ea413c35dbac5d75530b"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a04337b572d34ea413c35dbac5d75530b">llvm::LoopBase::contains</a></div><div class="ttdeci">bool contains(const LoopT *L) const</div><div class="ttdoc">Return true if the specified loop is contained within in this loop.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8h_source.html#l00122">LoopInfo.h:122</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a1230fd674d2609b96527fe65eaf40b1b"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a1230fd674d2609b96527fe65eaf40b1b">llvm::LoopBase::getLoopLatch</a></div><div class="ttdeci">BlockT * getLoopLatch() const</div><div class="ttdoc">If there is a single latch block for this loop, return it.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfoImpl_8h_source.html#l00216">LoopInfoImpl.h:216</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a46880fab7a9d5bd439725f2acc59b80d"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a46880fab7a9d5bd439725f2acc59b80d">llvm::LoopBase::getExitingBlocks</a></div><div class="ttdeci">void getExitingBlocks(SmallVectorImpl&lt; BlockT * &gt; &amp;ExitingBlocks) const</div><div class="ttdoc">Return all blocks inside the loop that have successors outside of the loop.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfoImpl_8h_source.html#l00034">LoopInfoImpl.h:34</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a4a75755081e9a3803d2f4ccf6f0cb1f8"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a4a75755081e9a3803d2f4ccf6f0cb1f8">llvm::LoopBase::getHeader</a></div><div class="ttdeci">BlockT * getHeader() const</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8h_source.html#l00104">LoopInfo.h:104</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a72e879f0ce9d0a27682764a646e4e39b"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a72e879f0ce9d0a27682764a646e4e39b">llvm::LoopBase&lt; BasicBlock, Loop &gt;::iterator</a></div><div class="ttdeci">std::vector&lt; Loop * &gt;::const_iterator iterator</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8h_source.html#l00151">LoopInfo.h:151</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a78bec3084b9a47ee11cc2e56f9004717"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a78bec3084b9a47ee11cc2e56f9004717">llvm::LoopBase::blocks</a></div><div class="ttdeci">iterator_range&lt; block_iterator &gt; blocks() const</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8h_source.html#l00178">LoopInfo.h:178</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a7a7815ad3e094df37f2312a4bba8c13e"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a7a7815ad3e094df37f2312a4bba8c13e">llvm::LoopBase::block_end</a></div><div class="ttdeci">block_iterator block_end() const</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8h_source.html#l00177">LoopInfo.h:177</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a98eb0888f30e7a27151a7b02fa053205"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a98eb0888f30e7a27151a7b02fa053205">llvm::LoopBase::end</a></div><div class="ttdeci">iterator end() const</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8h_source.html#l00155">LoopInfo.h:155</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_ab24de043c5c57a0d0dbb2adf902e8db1"><div class="ttname"><a href="classllvm_1_1LoopBase.html#ab24de043c5c57a0d0dbb2adf902e8db1">llvm::LoopBase&lt; BasicBlock, Loop &gt;::block_iterator</a></div><div class="ttdeci">ArrayRef&lt; BasicBlock * &gt;::const_iterator block_iterator</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8h_source.html#l00175">LoopInfo.h:175</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_ab5f6bd919ffbc45bfa5e083ab9f4cef0"><div class="ttname"><a href="classllvm_1_1LoopBase.html#ab5f6bd919ffbc45bfa5e083ab9f4cef0">llvm::LoopBase::hasNoExitBlocks</a></div><div class="ttdeci">bool hasNoExitBlocks() const</div><div class="ttdoc">Return true if this loop does not have any exit blocks.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfoImpl_8h_source.html#l00073">LoopInfoImpl.h:73</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_ac3280e7f76f955403fe17eacf126b90d"><div class="ttname"><a href="classllvm_1_1LoopBase.html#ac3280e7f76f955403fe17eacf126b90d">llvm::LoopBase::getLoopPreheader</a></div><div class="ttdeci">BlockT * getLoopPreheader() const</div><div class="ttdoc">If there is a preheader for this loop, return it.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfoImpl_8h_source.html#l00167">LoopInfoImpl.h:167</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_ac94e1f7398df9df2508957f58a82279a"><div class="ttname"><a href="classllvm_1_1LoopBase.html#ac94e1f7398df9df2508957f58a82279a">llvm::LoopBase::getBlocks</a></div><div class="ttdeci">ArrayRef&lt; BlockT * &gt; getBlocks() const</div><div class="ttdoc">Get a list of the basic blocks which make up this loop.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8h_source.html#l00171">LoopInfo.h:171</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_ae069a12f0a2d2deb69e30b439a91190e"><div class="ttname"><a href="classllvm_1_1LoopBase.html#ae069a12f0a2d2deb69e30b439a91190e">llvm::LoopBase::getUniqueExitBlocks</a></div><div class="ttdeci">void getUniqueExitBlocks(SmallVectorImpl&lt; BlockT * &gt; &amp;ExitBlocks) const</div><div class="ttdoc">Return all unique successor blocks of this loop.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfoImpl_8h_source.html#l00122">LoopInfoImpl.h:122</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_ae34bcd53f75fab0c03b509ecccb4cfaf"><div class="ttname"><a href="classllvm_1_1LoopBase.html#ae34bcd53f75fab0c03b509ecccb4cfaf">llvm::LoopBase::getParentLoop</a></div><div class="ttdeci">LoopT * getParentLoop() const</div><div class="ttdoc">Return the parent loop if it exists or nullptr for top level loops.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8h_source.html#l00113">LoopInfo.h:113</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_ae7ebc88c9b32b51b749bd5bbcfaa5fb8"><div class="ttname"><a href="classllvm_1_1LoopBase.html#ae7ebc88c9b32b51b749bd5bbcfaa5fb8">llvm::LoopBase::hasDedicatedExits</a></div><div class="ttdeci">bool hasDedicatedExits() const</div><div class="ttdoc">Return true if no exit block for the loop has a predecessor that is outside the loop.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfoImpl_8h_source.html#l00092">LoopInfoImpl.h:92</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_aed67883fd0d5f8356bb709b4d16ebe70"><div class="ttname"><a href="classllvm_1_1LoopBase.html#aed67883fd0d5f8356bb709b4d16ebe70">llvm::LoopBase::getUniqueNonLatchExitBlocks</a></div><div class="ttdeci">void getUniqueNonLatchExitBlocks(SmallVectorImpl&lt; BlockT * &gt; &amp;ExitBlocks) const</div><div class="ttdoc">Return all unique successor blocks of this loop except successors from Latch block are not considered...</div><div class="ttdef"><b>Definition</b> <a href="LoopInfoImpl_8h_source.html#l00129">LoopInfoImpl.h:129</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_af2f81059dc7566164b018aac6555eb1a"><div class="ttname"><a href="classllvm_1_1LoopBase.html#af2f81059dc7566164b018aac6555eb1a">llvm::LoopBase::begin</a></div><div class="ttdeci">iterator begin() const</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8h_source.html#l00154">LoopInfo.h:154</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_af691775d5a45e28afbdb3e97cab22eee"><div class="ttname"><a href="classllvm_1_1LoopBase.html#af691775d5a45e28afbdb3e97cab22eee">llvm::LoopBase::isLoopExiting</a></div><div class="ttdeci">bool isLoopExiting(const BlockT *BB) const</div><div class="ttdoc">True if terminator in the block can branch to another block that is outside of the current loop.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8h_source.html#l00225">LoopInfo.h:225</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_af9096a02aa326d9a55f4d16ba9f9d243"><div class="ttname"><a href="classllvm_1_1LoopBase.html#af9096a02aa326d9a55f4d16ba9f9d243">llvm::LoopBase::block_begin</a></div><div class="ttdeci">block_iterator block_begin() const</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8h_source.html#l00176">LoopInfo.h:176</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_afd50c2de451ac9fc0865dc747dd2d485"><div class="ttname"><a href="classllvm_1_1LoopBase.html#afd50c2de451ac9fc0865dc747dd2d485">llvm::LoopBase::getUniqueExitBlock</a></div><div class="ttdeci">BlockT * getUniqueExitBlock() const</div><div class="ttdoc">If getUniqueExitBlocks would return exactly one block, return that block.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfoImpl_8h_source.html#l00138">LoopInfoImpl.h:138</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfoBase_html_a06a95bafd64793ac54f06b40f4f93fb7"><div class="ttname"><a href="classllvm_1_1LoopInfoBase.html#a06a95bafd64793ac54f06b40f4f93fb7">llvm::LoopInfoBase::AllocateLoop</a></div><div class="ttdeci">LoopT * AllocateLoop(ArgsTy &amp;&amp;... Args)</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8h_source.html#l00931">LoopInfo.h:931</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfoBase_html_a1e4ac7b073d744d43f3cb1a3660c03c3"><div class="ttname"><a href="classllvm_1_1LoopInfoBase.html#a1e4ac7b073d744d43f3cb1a3660c03c3">llvm::LoopInfoBase::addTopLevelLoop</a></div><div class="ttdeci">void addTopLevelLoop(LoopT *New)</div><div class="ttdoc">This adds the specified loop to the collection of top-level loops.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8h_source.html#l01024">LoopInfo.h:1024</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfoBase_html_a4f728602e7d377829675f13446cf6647"><div class="ttname"><a href="classllvm_1_1LoopInfoBase.html#a4f728602e7d377829675f13446cf6647">llvm::LoopInfoBase::end</a></div><div class="ttdeci">iterator end() const</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8h_source.html#l00943">LoopInfo.h:943</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfoBase_html_a52cb018f4f53613b5369ddb5d9873286"><div class="ttname"><a href="classllvm_1_1LoopInfoBase.html#a52cb018f4f53613b5369ddb5d9873286">llvm::LoopInfoBase::removeBlock</a></div><div class="ttdeci">void removeBlock(BlockT *BB)</div><div class="ttdoc">This method completely removes BB from all data structures, including all of the Loop objects it is n...</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8h_source.html#l01032">LoopInfo.h:1032</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfoBase_html_a7bfb10fc99484961d5fac51621793aa6"><div class="ttname"><a href="classllvm_1_1LoopInfoBase.html#a7bfb10fc99484961d5fac51621793aa6">llvm::LoopInfoBase::removeLoop</a></div><div class="ttdeci">LoopT * removeLoop(iterator I)</div><div class="ttdoc">This removes the specified top-level loop from this loop info object.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8h_source.html#l00994">LoopInfo.h:994</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfoBase_html_ad61bd84d4988c90bf6c5cd62d8e7fb00"><div class="ttname"><a href="classllvm_1_1LoopInfoBase.html#ad61bd84d4988c90bf6c5cd62d8e7fb00">llvm::LoopInfoBase::getLoopFor</a></div><div class="ttdeci">LoopT * getLoopFor(const BlockT *BB) const</div><div class="ttdoc">Return the inner most loop that BB lives in.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8h_source.html#l00967">LoopInfo.h:967</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfoBase_html_ae98a33be737ade7a1f27130477b003f2"><div class="ttname"><a href="classllvm_1_1LoopInfoBase.html#ae98a33be737ade7a1f27130477b003f2">llvm::LoopInfoBase::destroy</a></div><div class="ttdeci">void destroy(LoopT *L)</div><div class="ttdoc">Destroy a loop that has been removed from the LoopInfo nest.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8h_source.html#l01071">LoopInfo.h:1071</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfoWrapperPass_html"><div class="ttname"><a href="classllvm_1_1LoopInfoWrapperPass.html">llvm::LoopInfoWrapperPass</a></div><div class="ttdoc">The legacy pass manager's analysis pass to compute loop information.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8h_source.html#l01261">LoopInfo.h:1261</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfo_html"><div class="ttname"><a href="classllvm_1_1LoopInfo.html">llvm::LoopInfo</a></div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8h_source.html#l01083">LoopInfo.h:1083</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfo_html_ab12b535502b86394c84bfd24d58e4657"><div class="ttname"><a href="classllvm_1_1LoopInfo.html#ab12b535502b86394c84bfd24d58e4657">llvm::LoopInfo::replacementPreservesLCSSAForm</a></div><div class="ttdeci">bool replacementPreservesLCSSAForm(Instruction *From, Value *To)</div><div class="ttdoc">Returns true if replacing From with To everywhere is guaranteed to preserve LCSSA form.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8h_source.html#l01115">LoopInfo.h:1115</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopInfo_html_ab508a6297bcb823ca9d561facc241470"><div class="ttname"><a href="classllvm_1_1LoopInfo.html#ab508a6297bcb823ca9d561facc241470">llvm::LoopInfo::erase</a></div><div class="ttdeci">void erase(Loop *L)</div><div class="ttdoc">Update LoopInfo after removing the last backedge from a loop.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8cpp_source.html#l00878">LoopInfo.cpp:878</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html"><div class="ttname"><a href="classllvm_1_1Loop.html">llvm::Loop</a></div><div class="ttdoc">Represents a single loop in the control flow graph.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8h_source.html#l00530">LoopInfo.h:530</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html_a54e82aea5fab8cf3a878003444f25ee7"><div class="ttname"><a href="classllvm_1_1Loop.html#a54e82aea5fab8cf3a878003444f25ee7">llvm::Loop::hasLoopInvariantOperands</a></div><div class="ttdeci">bool hasLoopInvariantOperands(const Instruction *I) const</div><div class="ttdoc">Return true if all the operands of the specified instruction are loop invariant.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8cpp_source.html#l00070">LoopInfo.cpp:70</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html_a6633de38a82ca61150d48f9860ab127d"><div class="ttname"><a href="classllvm_1_1Loop.html#a6633de38a82ca61150d48f9860ab127d">llvm::Loop::isLCSSAForm</a></div><div class="ttdeci">bool isLCSSAForm(const DominatorTree &amp;DT) const</div><div class="ttdoc">Return true if the Loop is in LCSSA form.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8cpp_source.html#l00461">LoopInfo.cpp:461</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html_ab0082134c31cebcbf970019dfec81c70"><div class="ttname"><a href="classllvm_1_1Loop.html#ab0082134c31cebcbf970019dfec81c70">llvm::Loop::isRecursivelyLCSSAForm</a></div><div class="ttdeci">bool isRecursivelyLCSSAForm(const DominatorTree &amp;DT, const LoopInfo &amp;LI) const</div><div class="ttdoc">Return true if this Loop and all inner subloops are in LCSSA form.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8cpp_source.html#l00468">LoopInfo.cpp:468</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html_adf4be757fa30ca7fe3e8b119438100f0"><div class="ttname"><a href="classllvm_1_1Loop.html#adf4be757fa30ca7fe3e8b119438100f0">llvm::Loop::setLoopID</a></div><div class="ttdeci">void setLoopID(MDNode *LoopID) const</div><div class="ttdoc">Set the llvm.loop loop id metadata for this loop.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8cpp_source.html#l00527">LoopInfo.cpp:527</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html_afbcd78588d5235f99698b5c30f591382"><div class="ttname"><a href="classllvm_1_1Loop.html#afbcd78588d5235f99698b5c30f591382">llvm::Loop::getLoopID</a></div><div class="ttdeci">MDNode * getLoopID() const</div><div class="ttdoc">Return the llvm.loop loop id metadata node for this loop if it is present.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8cpp_source.html#l00503">LoopInfo.cpp:503</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDBuilder_html"><div class="ttname"><a href="classllvm_1_1MDBuilder.html">llvm::MDBuilder</a></div><div class="ttdef"><b>Definition</b> <a href="MDBuilder_8h_source.html#l00035">MDBuilder.h:35</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html"><div class="ttname"><a href="classllvm_1_1MDNode.html">llvm::MDNode</a></div><div class="ttdoc">Metadata node.</div><div class="ttdef"><b>Definition</b> <a href="Metadata_8h_source.html#l00897">Metadata.h:897</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html_a7d10a7b9b7f40b04d27ed97c38ea1950"><div class="ttname"><a href="classllvm_1_1MDNode.html#a7d10a7b9b7f40b04d27ed97c38ea1950">llvm::MDNode::get</a></div><div class="ttdeci">static MDTuple * get(LLVMContext &amp;Context, ArrayRef&lt; Metadata * &gt; MDs)</div><div class="ttdef"><b>Definition</b> <a href="Metadata_8h_source.html#l01198">Metadata.h:1198</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDOperand_html"><div class="ttname"><a href="classllvm_1_1MDOperand.html">llvm::MDOperand</a></div><div class="ttdoc">Tracking metadata reference owned by Metadata.</div><div class="ttdef"><b>Definition</b> <a href="Metadata_8h_source.html#l00744">Metadata.h:744</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDString_html"><div class="ttname"><a href="classllvm_1_1MDString.html">llvm::MDString</a></div><div class="ttdoc">A single uniqued string.</div><div class="ttdef"><b>Definition</b> <a href="Metadata_8h_source.html#l00611">Metadata.h:611</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDString_html_ae44259d9edd71181ea8b89d18f27a967"><div class="ttname"><a href="classllvm_1_1MDString.html#ae44259d9edd71181ea8b89d18f27a967">llvm::MDString::getString</a></div><div class="ttdeci">StringRef getString() const</div><div class="ttdef"><b>Definition</b> <a href="Metadata_8cpp_source.html#l00483">Metadata.cpp:483</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDString_html_affbb7e2e9ad8d18114816f2443d672b9"><div class="ttname"><a href="classllvm_1_1MDString.html#affbb7e2e9ad8d18114816f2443d672b9">llvm::MDString::get</a></div><div class="ttdeci">static MDString * get(LLVMContext &amp;Context, StringRef Str)</div><div class="ttdef"><b>Definition</b> <a href="Metadata_8cpp_source.html#l00473">Metadata.cpp:473</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDTuple_html"><div class="ttname"><a href="classllvm_1_1MDTuple.html">llvm::MDTuple</a></div><div class="ttdoc">Tuple of metadata.</div><div class="ttdef"><b>Definition</b> <a href="Metadata_8h_source.html#l01139">Metadata.h:1139</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryAccess_html"><div class="ttname"><a href="classllvm_1_1MemoryAccess.html">llvm::MemoryAccess</a></div><div class="ttdef"><b>Definition</b> <a href="MemorySSA_8h_source.html#l00140">MemorySSA.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryAccess_html_a9a9c59da949d32a269725b6e254d426f"><div class="ttname"><a href="classllvm_1_1MemoryAccess.html#a9a9c59da949d32a269725b6e254d426f">llvm::MemoryAccess::getBlock</a></div><div class="ttdeci">BasicBlock * getBlock() const</div><div class="ttdef"><b>Definition</b> <a href="MemorySSA_8h_source.html#l00162">MemorySSA.h:162</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html">llvm::MemoryLocation</a></div><div class="ttdoc">Representation for a specific memory location.</div><div class="ttdef"><b>Definition</b> <a href="MemoryLocation_8h_source.html#l00209">MemoryLocation.h:209</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_a18e5a3f1d71ba10a624f2a8e5121cf1f"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#a18e5a3f1d71ba10a624f2a8e5121cf1f">llvm::MemoryLocation::get</a></div><div class="ttdeci">static MemoryLocation get(const LoadInst *LI)</div><div class="ttdoc">Return a location with information about the memory reference by the given instruction.</div><div class="ttdef"><b>Definition</b> <a href="MemoryLocation_8cpp_source.html#l00037">MemoryLocation.cpp:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAUpdater_html"><div class="ttname"><a href="classllvm_1_1MemorySSAUpdater.html">llvm::MemorySSAUpdater</a></div><div class="ttdef"><b>Definition</b> <a href="MemorySSAUpdater_8h_source.html#l00056">MemorySSAUpdater.h:56</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSAWrapperPass_html"><div class="ttname"><a href="classllvm_1_1MemorySSAWrapperPass.html">llvm::MemorySSAWrapperPass</a></div><div class="ttdoc">Legacy analysis pass which computes MemorySSA.</div><div class="ttdef"><b>Definition</b> <a href="MemorySSA_8h_source.html#l00965">MemorySSA.h:965</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html"><div class="ttname"><a href="classllvm_1_1MemorySSA.html">llvm::MemorySSA</a></div><div class="ttdoc">Encapsulates MemorySSA, including all data associated with memory accesses.</div><div class="ttdef"><b>Definition</b> <a href="MemorySSA_8h_source.html#l00708">MemorySSA.h:708</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_a1b675075f5fd5a025edeca069612042e"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#a1b675075f5fd5a025edeca069612042e">llvm::MemorySSA::verifyMemorySSA</a></div><div class="ttdeci">void verifyMemorySSA() const</div><div class="ttdoc">Verify that MemorySSA is self consistent (IE definitions dominate all uses, uses appear in the right ...</div><div class="ttdef"><b>Definition</b> <a href="MemorySSA_8cpp_source.html#l01867">MemorySSA.cpp:1867</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemorySSA_html_ab15de610fca1c900038bf3c333919e45"><div class="ttname"><a href="classllvm_1_1MemorySSA.html#ab15de610fca1c900038bf3c333919e45">llvm::MemorySSA::getMemoryAccess</a></div><div class="ttdeci">MemoryUseOrDef * getMemoryAccess(const Instruction *I) const</div><div class="ttdoc">Given a memory Mod/Ref'ing instruction, get the MemorySSA access associated with it.</div><div class="ttdef"><b>Definition</b> <a href="MemorySSA_8h_source.html#l00725">MemorySSA.h:725</a></div></div>
<div class="ttc" id="aclassllvm_1_1Metadata_html"><div class="ttname"><a href="classllvm_1_1Metadata.html">llvm::Metadata</a></div><div class="ttdoc">Root of the metadata hierarchy.</div><div class="ttdef"><b>Definition</b> <a href="Metadata_8h_source.html#l00062">Metadata.h:62</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html"><div class="ttname"><a href="classllvm_1_1PHINode.html">llvm::PHINode</a></div><div class="ttdef"><b>Definition</b> <a href="Instructions_8h_source.html#l02597">Instructions.h:2597</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_a88cdefb709309eddc6e5daca0be6a7b4"><div class="ttname"><a href="classllvm_1_1PHINode.html#a88cdefb709309eddc6e5daca0be6a7b4">llvm::PHINode::setIncomingValue</a></div><div class="ttdeci">void setIncomingValue(unsigned i, Value *V)</div><div class="ttdef"><b>Definition</b> <a href="Instructions_8h_source.html#l02696">Instructions.h:2696</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_ac53e1aabdf64e91b8b325bcac250d8a9"><div class="ttname"><a href="classllvm_1_1PHINode.html#ac53e1aabdf64e91b8b325bcac250d8a9">llvm::PHINode::getIncomingBlock</a></div><div class="ttdeci">BasicBlock * getIncomingBlock(unsigned i) const</div><div class="ttdoc">Return incoming basic block number i.</div><div class="ttdef"><b>Definition</b> <a href="Instructions_8h_source.html#l02713">Instructions.h:2713</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_aca1fd00f3ab63ec8f0f1ccc2093a9f6d"><div class="ttname"><a href="classllvm_1_1PHINode.html#aca1fd00f3ab63ec8f0f1ccc2093a9f6d">llvm::PHINode::getIncomingValue</a></div><div class="ttdeci">Value * getIncomingValue(unsigned i) const</div><div class="ttdoc">Return incoming value number x.</div><div class="ttdef"><b>Definition</b> <a href="Instructions_8h_source.html#l02693">Instructions.h:2693</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_aef51af4b490af6b3bf2dfbc8737a8f9f"><div class="ttname"><a href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">llvm::PHINode::getNumIncomingValues</a></div><div class="ttdeci">unsigned getNumIncomingValues() const</div><div class="ttdoc">Return the number of incoming edges.</div><div class="ttdef"><b>Definition</b> <a href="Instructions_8h_source.html#l02689">Instructions.h:2689</a></div></div>
<div class="ttc" id="aclassllvm_1_1PassRegistry_html"><div class="ttname"><a href="classllvm_1_1PassRegistry.html">llvm::PassRegistry</a></div><div class="ttdoc">PassRegistry - This class manages the registration and intitialization of the pass subsystem as appli...</div><div class="ttdef"><b>Definition</b> <a href="PassRegistry_8h_source.html#l00038">PassRegistry.h:38</a></div></div>
<div class="ttc" id="aclassllvm_1_1RecurrenceDescriptor_html"><div class="ttname"><a href="classllvm_1_1RecurrenceDescriptor.html">llvm::RecurrenceDescriptor</a></div><div class="ttdoc">The RecurrenceDescriptor is used to identify recurrences variables in a loop.</div><div class="ttdef"><b>Definition</b> <a href="IVDescriptors_8h_source.html#l00067">IVDescriptors.h:67</a></div></div>
<div class="ttc" id="aclassllvm_1_1RecurrenceDescriptor_html_a0d5c759e770c1c6032d077a1b9cf7172"><div class="ttname"><a href="classllvm_1_1RecurrenceDescriptor.html#a0d5c759e770c1c6032d077a1b9cf7172">llvm::RecurrenceDescriptor::getFastMathFlags</a></div><div class="ttdeci">FastMathFlags getFastMathFlags() const</div><div class="ttdef"><b>Definition</b> <a href="IVDescriptors_8h_source.html#l00185">IVDescriptors.h:185</a></div></div>
<div class="ttc" id="aclassllvm_1_1RecurrenceDescriptor_html_a89e9d5a5838c63159df1aed56f600ef1"><div class="ttname"><a href="classllvm_1_1RecurrenceDescriptor.html#a89e9d5a5838c63159df1aed56f600ef1">llvm::RecurrenceDescriptor::getRecurrenceKind</a></div><div class="ttdeci">RecurKind getRecurrenceKind() const</div><div class="ttdef"><b>Definition</b> <a href="IVDescriptors_8h_source.html#l00181">IVDescriptors.h:181</a></div></div>
<div class="ttc" id="aclassllvm_1_1RecurrenceDescriptor_html_af08d243545b64f4b77161992d0e2366e"><div class="ttname"><a href="classllvm_1_1RecurrenceDescriptor.html#af08d243545b64f4b77161992d0e2366e">llvm::RecurrenceDescriptor::isMinMaxRecurrenceKind</a></div><div class="ttdeci">static bool isMinMaxRecurrenceKind(RecurKind Kind)</div><div class="ttdoc">Returns true if the recurrence kind is any min/max kind.</div><div class="ttdef"><b>Definition</b> <a href="IVDescriptors_8h_source.html#l00219">IVDescriptors.h:219</a></div></div>
<div class="ttc" id="aclassllvm_1_1Registry_html"><div class="ttname"><a href="classllvm_1_1Registry.html">llvm::Registry</a></div><div class="ttdoc">A global registry used in conjunction with static constructors to make pluggable components (like tar...</div><div class="ttdef"><b>Definition</b> <a href="Registry_8h_source.html#l00044">Registry.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVAAWrapperPass_html"><div class="ttname"><a href="classllvm_1_1SCEVAAWrapperPass.html">llvm::SCEVAAWrapperPass</a></div><div class="ttdoc">Legacy wrapper pass to provide the SCEVAAResult object.</div><div class="ttdef"><b>Definition</b> <a href="ScalarEvolutionAliasAnalysis_8h_source.html#l00055">ScalarEvolutionAliasAnalysis.h:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEVExpander_html"><div class="ttname"><a href="classllvm_1_1SCEVExpander.html">llvm::SCEVExpander</a></div><div class="ttdoc">This class uses information about analyze scalars to rewrite expressions in canonical form.</div><div class="ttdef"><b>Definition</b> <a href="ScalarEvolutionExpander_8h_source.html#l00063">ScalarEvolutionExpander.h:63</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEV_html"><div class="ttname"><a href="classllvm_1_1SCEV.html">llvm::SCEV</a></div><div class="ttdoc">This class represents an analyzed expression in the program.</div><div class="ttdef"><b>Definition</b> <a href="ScalarEvolution_8h_source.html#l00078">ScalarEvolution.h:78</a></div></div>
<div class="ttc" id="aclassllvm_1_1SCEV_html_aefeda9454a5e8dfcec3deb106964832a"><div class="ttname"><a href="classllvm_1_1SCEV.html#aefeda9454a5e8dfcec3deb106964832a">llvm::SCEV::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdoc">Return the LLVM type of this SCEV expression.</div><div class="ttdef"><b>Definition</b> <a href="ScalarEvolution_8cpp_source.html#l00379">ScalarEvolution.cpp:379</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolutionWrapperPass_html"><div class="ttname"><a href="classllvm_1_1ScalarEvolutionWrapperPass.html">llvm::ScalarEvolutionWrapperPass</a></div><div class="ttdef"><b>Definition</b> <a href="ScalarEvolution_8h_source.html#l02144">ScalarEvolution.h:2144</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html">llvm::ScalarEvolution</a></div><div class="ttdoc">The main scalar evolution driver.</div><div class="ttdef"><b>Definition</b> <a href="ScalarEvolution_8h_source.html#l00443">ScalarEvolution.h:443</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a21d6ee82eed29080d911dbb548a8bb68"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">llvm::ScalarEvolution::getSCEVAtScope</a></div><div class="ttdeci">const SCEV * getSCEVAtScope(const SCEV *S, const Loop *L)</div><div class="ttdoc">Return a SCEV expression for the specified value at the specified scope in the program.</div><div class="ttdef"><b>Definition</b> <a href="ScalarEvolution_8cpp_source.html#l08709">ScalarEvolution.cpp:8709</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a2579491850c605c8b7cf3439a907fbed"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a2579491850c605c8b7cf3439a907fbed">llvm::ScalarEvolution::getZero</a></div><div class="ttdeci">const SCEV * getZero(Type *Ty)</div><div class="ttdoc">Return a SCEV for the constant 0 of a specific type.</div><div class="ttdef"><b>Definition</b> <a href="ScalarEvolution_8h_source.html#l00604">ScalarEvolution.h:604</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a2eb94d079d8416118f4aaed865ab05d7"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">llvm::ScalarEvolution::getConstant</a></div><div class="ttdeci">const SCEV * getConstant(ConstantInt *V)</div><div class="ttdef"><b>Definition</b> <a href="ScalarEvolution_8cpp_source.html#l00446">ScalarEvolution.cpp:446</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a30bd18ac905eacf3601bc6a553a9ff49"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">llvm::ScalarEvolution::getSCEV</a></div><div class="ttdeci">const SCEV * getSCEV(Value *V)</div><div class="ttdoc">Return a SCEV expression for the full generality of the specified expression.</div><div class="ttdef"><b>Definition</b> <a href="ScalarEvolution_8cpp_source.html#l04048">ScalarEvolution.cpp:4048</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a592bdd7731b14ff4ff5d646f6f399900"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a592bdd7731b14ff4ff5d646f6f399900">llvm::ScalarEvolution::forgetLoop</a></div><div class="ttdeci">void forgetLoop(const Loop *L)</div><div class="ttdoc">This method should be called by the client when it has changed a loop in a way that may effect Scalar...</div><div class="ttdef"><b>Definition</b> <a href="ScalarEvolution_8cpp_source.html#l07440">ScalarEvolution.cpp:7440</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a5a19768af81df7e5fe571bc08dcd48b3"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">llvm::ScalarEvolution::isLoopInvariant</a></div><div class="ttdeci">bool isLoopInvariant(const SCEV *S, const Loop *L)</div><div class="ttdoc">Return true if the value of the given SCEV is unchanging in the specified loop.</div><div class="ttdef"><b>Definition</b> <a href="ScalarEvolution_8cpp_source.html#l13027">ScalarEvolution.cpp:13027</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a61f5098e98f972466ae233e6d01f9f9c"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a61f5098e98f972466ae233e6d01f9f9c">llvm::ScalarEvolution::getLoopDisposition</a></div><div class="ttdeci">LoopDisposition getLoopDisposition(const SCEV *S, const Loop *L)</div><div class="ttdoc">Return the &quot;disposition&quot; of the given SCEV with respect to the given loop.</div><div class="ttdef"><b>Definition</b> <a href="ScalarEvolution_8cpp_source.html#l12928">ScalarEvolution.cpp:12928</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a6d8769a72303e2b06ef63129cb231855"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a6d8769a72303e2b06ef63129cb231855">llvm::ScalarEvolution::isSCEVable</a></div><div class="ttdeci">bool isSCEVable(Type *Ty) const</div><div class="ttdoc">Test if values of the given type are analyzable within the SCEV framework.</div><div class="ttdef"><b>Definition</b> <a href="ScalarEvolution_8cpp_source.html#l03914">ScalarEvolution.cpp:3914</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a804545e5b568edec8b970da32cd37359"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a804545e5b568edec8b970da32cd37359">llvm::ScalarEvolution::forgetValue</a></div><div class="ttdeci">void forgetValue(Value *V)</div><div class="ttdoc">This method should be called by the client when it has changed a value in a way that may effect its v...</div><div class="ttdef"><b>Definition</b> <a href="ScalarEvolution_8cpp_source.html#l07503">ScalarEvolution.cpp:7503</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a9f7c88892cfe1646082bf6174a4b912c"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912c">llvm::ScalarEvolution::LoopDisposition</a></div><div class="ttdeci">LoopDisposition</div><div class="ttdoc">An enum describing the relationship between a SCEV and a loop.</div><div class="ttdef"><b>Definition</b> <a href="ScalarEvolution_8h_source.html#l00448">ScalarEvolution.h:448</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_a9f7c88892cfe1646082bf6174a4b912ca1b7d4316c0866b0b0b7a510e1800f4a8"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca1b7d4316c0866b0b0b7a510e1800f4a8">llvm::ScalarEvolution::LoopInvariant</a></div><div class="ttdeci">@ LoopInvariant</div><div class="ttdoc">The SCEV is loop-invariant.</div><div class="ttdef"><b>Definition</b> <a href="ScalarEvolution_8h_source.html#l00450">ScalarEvolution.h:450</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_aadf992d0faba329a1b5315dcde978e85"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aadf992d0faba329a1b5315dcde978e85">llvm::ScalarEvolution::isAvailableAtLoopEntry</a></div><div class="ttdeci">bool isAvailableAtLoopEntry(const SCEV *S, const Loop *L)</div><div class="ttdoc">Determine if the SCEV can be evaluated at loop's entry.</div><div class="ttdef"><b>Definition</b> <a href="ScalarEvolution_8cpp_source.html#l02396">ScalarEvolution.cpp:2396</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ab24add5df0874cdfa47b47b1d9926e9e"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ab24add5df0874cdfa47b47b1d9926e9e">llvm::ScalarEvolution::getExitCount</a></div><div class="ttdeci">const SCEV * getExitCount(const Loop *L, const BasicBlock *ExitingBlock, ExitCountKind Kind=Exact)</div><div class="ttdoc">Return the number of times the backedge executes before the given exit would be taken; if not exactly...</div><div class="ttdef"><b>Definition</b> <a href="ScalarEvolution_8cpp_source.html#l07253">ScalarEvolution.cpp:7253</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_ac276ea1907c780c43d3637ae9bd1989e"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ac276ea1907c780c43d3637ae9bd1989e">llvm::ScalarEvolution::getPointerBase</a></div><div class="ttdeci">const SCEV * getPointerBase(const SCEV *V)</div><div class="ttdoc">Transitively follow the chain of pointer-type operands until reaching a SCEV that does not have a sin...</div><div class="ttdef"><b>Definition</b> <a href="ScalarEvolution_8cpp_source.html#l04350">ScalarEvolution.cpp:4350</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScalarEvolution_html_adc8cf3b4b56f754b02ea30263bd4561e"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#adc8cf3b4b56f754b02ea30263bd4561e">llvm::ScalarEvolution::isLoopEntryGuardedByCond</a></div><div class="ttdeci">bool isLoopEntryGuardedByCond(const Loop *L, ICmpInst::Predicate Pred, const SCEV *LHS, const SCEV *RHS)</div><div class="ttdoc">Test whether entry to the loop is protected by a conditional between LHS and RHS.</div><div class="ttdef"><b>Definition</b> <a href="ScalarEvolution_8cpp_source.html#l10504">ScalarEvolution.cpp:10504</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition</b> <a href="StringRef_8h_source.html#l00058">StringRef.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_aec5c723a077f34100bba97e1df17c6b2"><div class="ttname"><a href="classllvm_1_1StringRef.html#aec5c723a077f34100bba97e1df17c6b2">llvm::StringRef::equals</a></div><div class="ttdeci">LLVM_NODISCARD bool equals(StringRef RHS) const</div><div class="ttdoc">equals - Check for string equality, this is more efficient than compare() when the relative ordering ...</div><div class="ttdef"><b>Definition</b> <a href="StringRef_8h_source.html#l00187">StringRef.h:187</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfo_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html">llvm::TargetLibraryInfo</a></div><div class="ttdoc">Provides information about what library functions are available for the current target.</div><div class="ttdef"><b>Definition</b> <a href="TargetLibraryInfo_8h_source.html#l00219">TargetLibraryInfo.h:219</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetTransformInfo_html"><div class="ttname"><a href="classllvm_1_1TargetTransformInfo.html">llvm::TargetTransformInfo</a></div><div class="ttdoc">This pass provides access to the codegen interfaces that are needed for IR-level transformations.</div><div class="ttdef"><b>Definition</b> <a href="TargetTransformInfo_8h_source.html#l00167">TargetTransformInfo.h:167</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a1bc022868b23918efa44df511f4d5b61"><div class="ttname"><a href="classllvm_1_1Type.html#a1bc022868b23918efa44df511f4d5b61">llvm::Type::isVectorTy</a></div><div class="ttdeci">bool isVectorTy() const</div><div class="ttdoc">True if this is an instance of VectorType.</div><div class="ttdef"><b>Definition</b> <a href="Type_8h_source.html#l00237">Type.h:237</a></div></div>
<div class="ttc" id="aclassllvm_1_1UndefValue_html_a4ae5ff22b700a42bcc5d889233721335"><div class="ttname"><a href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">llvm::UndefValue::get</a></div><div class="ttdeci">static UndefValue * get(Type *T)</div><div class="ttdoc">Static factory methods - Return an 'undef' object of the specified type.</div><div class="ttdef"><b>Definition</b> <a href="Constants_8cpp_source.html#l01786">Constants.cpp:1786</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users.</div><div class="ttdef"><b>Definition</b> <a href="Use_8h_source.html#l00044">Use.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html"><div class="ttname"><a href="classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition</b> <a href="User_8h_source.html#l00044">User.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_a48ec5fcee6d2c17c723e8e67f169f948"><div class="ttname"><a href="classllvm_1_1User.html#a48ec5fcee6d2c17c723e8e67f169f948">llvm::User::dropAllReferences</a></div><div class="ttdeci">void dropAllReferences()</div><div class="ttdoc">Drop all references to operands.</div><div class="ttdef"><b>Definition</b> <a href="User_8h_source.html#l00299">User.h:299</a></div></div>
<div class="ttc" id="aclassllvm_1_1ValueMap_html"><div class="ttname"><a href="classllvm_1_1ValueMap.html">llvm::ValueMap&lt; const Value *, WeakTrackingVH &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition</b> <a href="Value_8h_source.html#l00075">Value.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a0344a49526443edf90cc0aef3abd3337"><div class="ttname"><a href="classllvm_1_1Value.html#a0344a49526443edf90cc0aef3abd3337">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdoc">All values are typed, get the type of this value.</div><div class="ttdef"><b>Definition</b> <a href="Value_8h_source.html#l00256">Value.h:256</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a3ab5fc45117b450e8bb04e564cb6e5f2"><div class="ttname"><a href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">llvm::Value::replaceAllUsesWith</a></div><div class="ttdeci">void replaceAllUsesWith(Value *V)</div><div class="ttdoc">Change all uses of this to point to a new Value.</div><div class="ttdef"><b>Definition</b> <a href="Value_8cpp_source.html#l00520">Value.cpp:520</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a9d7de807ebdfe1819df3ff6cb0f16158"><div class="ttname"><a href="classllvm_1_1Value.html#a9d7de807ebdfe1819df3ff6cb0f16158">llvm::Value::use_empty</a></div><div class="ttdeci">bool use_empty() const</div><div class="ttdef"><b>Definition</b> <a href="Value_8h_source.html#l00345">Value.h:345</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_abf855b7cd63a0cd7f73759e396f280c9"><div class="ttname"><a href="classllvm_1_1Value.html#abf855b7cd63a0cd7f73759e396f280c9">llvm::Value::uses</a></div><div class="ttdeci">iterator_range&lt; use_iterator &gt; uses()</div><div class="ttdef"><b>Definition</b> <a href="Value_8h_source.html#l00377">Value.h:377</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__node__impl_html"><div class="ttname"><a href="classllvm_1_1ilist__node__impl.html">llvm::ilist_node_impl</a></div><div class="ttdoc">Implementation for an ilist node.</div><div class="ttdef"><b>Definition</b> <a href="ilist__node_8h_source.html#l00039">ilist_node.h:39</a></div></div>
<div class="ttc" id="aclassvoid_html"><div class="ttname"><a href="classvoid.html">void</a></div></div>
<div class="ttc" id="allvm_2Support_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="llvm_2Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition</b> <a href="llvm_2Support_2ErrorHandling_8h_source.html#l00136">ErrorHandling.h:136</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PatternMatch_html"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html">llvm::PatternMatch</a></div><div class="ttdef"><b>Definition</b> <a href="PatternMatch_8h_source.html#l00047">PatternMatch.h:47</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">---------------------— PointerInfo ------------------------------------—</div><div class="ttdef"><b>Definition</b> <a href="AllocatorList_8h_source.html#l00023">AllocatorList.h:23</a></div></div>
<div class="ttc" id="anamespacellvm_html_a02981de53fb6ffd384d39addc4d25f37"><div class="ttname"><a href="namespacellvm.html#a02981de53fb6ffd384d39addc4d25f37">llvm::drop_begin</a></div><div class="ttdeci">auto drop_begin(T &amp;&amp;RangeOrContainer, size_t N=1)</div><div class="ttdoc">Return a range covering RangeOrContainer with the first N elements excluded.</div><div class="ttdef"><b>Definition</b> <a href="STLExtras_8h_source.html#l00266">STLExtras.h:266</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0690f49d8a34d0f21d523c6ad489028e"><div class="ttname"><a href="namespacellvm.html#a0690f49d8a34d0f21d523c6ad489028e">llvm::collectChildrenInLoop</a></div><div class="ttdeci">SmallVector&lt; DomTreeNode *, 16 &gt; collectChildrenInLoop(DomTreeNode *N, const Loop *CurLoop)</div><div class="ttdoc">Does a BFS from a given node to all of its children inside a given loop.</div><div class="ttdef"><b>Definition</b> <a href="#l00458">LoopUtils.cpp:458</a></div></div>
<div class="ttc" id="anamespacellvm_html_a069c4ae2290101bde0f8d6a5074dc72b"><div class="ttname"><a href="namespacellvm.html#a069c4ae2290101bde0f8d6a5074dc72b">llvm::succ_end</a></div><div class="ttdeci">Interval::succ_iterator succ_end(Interval *I)</div><div class="ttdef"><b>Definition</b> <a href="Interval_8h_source.html#l00102">Interval.h:102</a></div></div>
<div class="ttc" id="anamespacellvm_html_a086e9fbdb06276db7753101a08a63adf"><div class="ttname"><a href="namespacellvm.html#a086e9fbdb06276db7753101a08a63adf">llvm::find</a></div><div class="ttdeci">auto find(R &amp;&amp;Range, const T &amp;Val)</div><div class="ttdoc">Provide wrappers to std::find which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition</b> <a href="STLExtras_8h_source.html#l01554">STLExtras.h:1554</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0d10fe510ced2849a8074fe81e5d04ce"><div class="ttname"><a href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">llvm::all_of</a></div><div class="ttdeci">bool all_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::all_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition</b> <a href="STLExtras_8h_source.html#l01534">STLExtras.h:1534</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0e00fad9c34de40b1e31f3aa6f8e024cae1e4c8c9ccd9fc39c391da4bcd093fb2"><div class="ttname"><a href="namespacellvm.html#a0e00fad9c34de40b1e31f3aa6f8e024cae1e4c8c9ccd9fc39c391da4bcd093fb2">llvm::PseudoProbeType::Block</a></div><div class="ttdeci">@ Block</div></div>
<div class="ttc" id="anamespacellvm_html_a0f1b9a9548b3b0a3ee017aa467aaff18"><div class="ttname"><a href="namespacellvm.html#a0f1b9a9548b3b0a3ee017aa467aaff18">llvm::getOptionalIntLoopAttribute</a></div><div class="ttdeci">llvm::Optional&lt; int &gt; getOptionalIntLoopAttribute(const Loop *TheLoop, StringRef Name)</div><div class="ttdoc">Find named metadata for a loop with an integer value.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8cpp_source.html#l01091">LoopInfo.cpp:1091</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0fe947e3b22138ff2803db9911c3665b"><div class="ttname"><a href="namespacellvm.html#a0fe947e3b22138ff2803db9911c3665b">llvm::getBooleanLoopAttribute</a></div><div class="ttdeci">bool getBooleanLoopAttribute(const Loop *TheLoop, StringRef Name)</div><div class="ttdoc">Returns true if Name is applied to TheLoop and enabled.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8cpp_source.html#l01087">LoopInfo.cpp:1087</a></div></div>
<div class="ttc" id="anamespacellvm_html_a12b6596f3de8ec2382209b04c2b5444c"><div class="ttname"><a href="namespacellvm.html#a12b6596f3de8ec2382209b04c2b5444c">llvm::RuntimePointerCheck</a></div><div class="ttdeci">std::pair&lt; const RuntimeCheckingPtrGroup *, const RuntimeCheckingPtrGroup * &gt; RuntimePointerCheck</div><div class="ttdoc">A memcheck which made up of a pair of grouped pointers.</div><div class="ttdef"><b>Definition</b> <a href="LoopAccessAnalysis_8h_source.html#l00374">LoopAccessAnalysis.h:374</a></div></div>
<div class="ttc" id="anamespacellvm_html_a253deb4046b74b2df2b5acd762b95d58"><div class="ttname"><a href="namespacellvm.html#a253deb4046b74b2df2b5acd762b95d58">llvm::appendReversedLoopsToWorklist</a></div><div class="ttdeci">void appendReversedLoopsToWorklist(RangeT &amp;&amp;, SmallPriorityWorklist&lt; Loop *, 4 &gt; &amp;)</div><div class="ttdoc">Utility that implements appending of loops onto a worklist given a range.</div><div class="ttdef"><b>Definition</b> <a href="#l01447">LoopUtils.cpp:1447</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2554a96c67bdd7d0a62855a844ec55b0a92b09c7c48c520c3c55e497875da437c"><div class="ttname"><a href="namespacellvm.html#a2554a96c67bdd7d0a62855a844ec55b0a92b09c7c48c520c3c55e497875da437c">llvm::AlignStyle::Right</a></div><div class="ttdeci">@ Right</div></div>
<div class="ttc" id="anamespacellvm_html_a2554a96c67bdd7d0a62855a844ec55b0a945d5e233cf7d6240f6b783b36a374ff"><div class="ttname"><a href="namespacellvm.html#a2554a96c67bdd7d0a62855a844ec55b0a945d5e233cf7d6240f6b783b36a374ff">llvm::AlignStyle::Left</a></div><div class="ttdeci">@ Left</div></div>
<div class="ttc" id="anamespacellvm_html_a2aa73880de517c04ff09f5bc0f48b3ba"><div class="ttname"><a href="namespacellvm.html#a2aa73880de517c04ff09f5bc0f48b3ba">llvm::initializeLoopPassPass</a></div><div class="ttdeci">void initializeLoopPassPass(PassRegistry &amp;)</div><div class="ttdoc">Manually defined generic &quot;LoopPass&quot; dependency initialization.</div><div class="ttdef"><b>Definition</b> <a href="#l00197">LoopUtils.cpp:197</a></div></div>
<div class="ttc" id="anamespacellvm_html_a30e47ae014eb35bea24e45097c2bd731"><div class="ttname"><a href="namespacellvm.html#a30e47ae014eb35bea24e45097c2bd731">llvm::formLCSSARecursively</a></div><div class="ttdeci">bool formLCSSARecursively(Loop &amp;L, const DominatorTree &amp;DT, const LoopInfo *LI, ScalarEvolution *SE)</div><div class="ttdoc">Put a loop nest into LCSSA form.</div><div class="ttdef"><b>Definition</b> <a href="LCSSA_8cpp_source.html#l00403">LCSSA.cpp:403</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3146c79023e06fc8c07e08bf903eafa6"><div class="ttname"><a href="namespacellvm.html#a3146c79023e06fc8c07e08bf903eafa6">llvm::getShuffleReduction</a></div><div class="ttdeci">Value * getShuffleReduction(IRBuilderBase &amp;Builder, Value *Src, unsigned Op, RecurKind MinMaxKind=RecurKind::None, ArrayRef&lt; Value * &gt; RedOps=None)</div><div class="ttdoc">Generates a vector reduction using shufflevectors to reduce the value.</div><div class="ttdef"><b>Definition</b> <a href="#l00916">LoopUtils.cpp:916</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3493591c859b8ae672dfa20950608c86"><div class="ttname"><a href="namespacellvm.html#a3493591c859b8ae672dfa20950608c86">llvm::successors</a></div><div class="ttdeci">succ_range successors(Instruction *I)</div><div class="ttdef"><b>Definition</b> <a href="IR_2CFG_8h_source.html#l00262">CFG.h:262</a></div></div>
<div class="ttc" id="anamespacellvm_html_a364d6ca7dc2c6348ada7f23c58b14264"><div class="ttname"><a href="namespacellvm.html#a364d6ca7dc2c6348ada7f23c58b14264">llvm::createSimpleTargetReduction</a></div><div class="ttdeci">Value * createSimpleTargetReduction(IRBuilderBase &amp;B, const TargetTransformInfo *TTI, Value *Src, RecurKind RdxKind, ArrayRef&lt; Value * &gt; RedOps=None)</div><div class="ttdoc">Create a target reduction of the given vector.</div><div class="ttdef"><b>Definition</b> <a href="#l00958">LoopUtils.cpp:958</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3720211f6e6389ab53734b989bfb6fce"><div class="ttname"><a href="namespacellvm.html#a3720211f6e6389ab53734b989bfb6fce">llvm::succ_begin</a></div><div class="ttdeci">Interval::succ_iterator succ_begin(Interval *I)</div><div class="ttdoc">succ_begin/succ_end - define methods so that Intervals may be used just like BasicBlocks can with the...</div><div class="ttdef"><b>Definition</b> <a href="Interval_8h_source.html#l00099">Interval.h:99</a></div></div>
<div class="ttc" id="anamespacellvm_html_a38e7976693c7a0420a3c5e912b819fb7"><div class="ttname"><a href="namespacellvm.html#a38e7976693c7a0420a3c5e912b819fb7">llvm::propagateIRFlags</a></div><div class="ttdeci">void propagateIRFlags(Value *I, ArrayRef&lt; Value * &gt; VL, Value *OpValue=nullptr)</div><div class="ttdoc">Get the intersection (logical and) of all of the potential IR flags of each scalar operation (VL) tha...</div><div class="ttdef"><b>Definition</b> <a href="#l01024">LoopUtils.cpp:1024</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3e3d3c6d4e33a4f5ca579ee7939f0349"><div class="ttname"><a href="namespacellvm.html#a3e3d3c6d4e33a4f5ca579ee7939f0349">llvm::LCSSAID</a></div><div class="ttdeci">char &amp; LCSSAID</div><div class="ttdef"><b>Definition</b> <a href="LCSSA_8cpp_source.html#l00485">LCSSA.cpp:485</a></div></div>
<div class="ttc" id="anamespacellvm_html_a40b448eb29770bce68ab118d5570f28f"><div class="ttname"><a href="namespacellvm.html#a40b448eb29770bce68ab118d5570f28f">llvm::hasPartialIVCondition</a></div><div class="ttdeci">Optional&lt; IVConditionInfo &gt; hasPartialIVCondition(Loop &amp;L, unsigned MSSAThreshold, MemorySSA &amp;MSSA, AAResults &amp;AA)</div><div class="ttdoc">Check if the loop header has a conditional branch that is not loop-invariant, because it involves loa...</div><div class="ttdef"><b>Definition</b> <a href="#l01636">LoopUtils.cpp:1636</a></div></div>
<div class="ttc" id="anamespacellvm_html_a469101ea87b8b432a1b4f7935c97f35c"><div class="ttname"><a href="namespacellvm.html#a469101ea87b8b432a1b4f7935c97f35c">llvm::reverse</a></div><div class="ttdeci">auto reverse(ContainerTy &amp;&amp;C, std::enable_if_t&lt; has_rbegin&lt; ContainerTy &gt;::value &gt; *=nullptr)</div><div class="ttdef"><b>Definition</b> <a href="STLExtras_8h_source.html#l00329">STLExtras.h:329</a></div></div>
<div class="ttc" id="anamespacellvm_html_a472515fc67a5fb572afeb00aa2609cca"><div class="ttname"><a href="namespacellvm.html#a472515fc67a5fb572afeb00aa2609cca">llvm::LoopSimplifyID</a></div><div class="ttdeci">char &amp; LoopSimplifyID</div><div class="ttdef"><b>Definition</b> <a href="LoopSimplify_8cpp_source.html#l00801">LoopSimplify.cpp:801</a></div></div>
<div class="ttc" id="anamespacellvm_html_a52fcded779c8029fdafaa9897cd3b238"><div class="ttname"><a href="namespacellvm.html#a52fcded779c8029fdafaa9897cd3b238">llvm::createMinMaxOp</a></div><div class="ttdeci">Value * createMinMaxOp(IRBuilderBase &amp;Builder, RecurKind RK, Value *Left, Value *Right)</div><div class="ttdoc">Returns a Min/Max operation corresponding to MinMaxRecurrenceKind.</div><div class="ttdef"><b>Definition</b> <a href="#l00855">LoopUtils.cpp:855</a></div></div>
<div class="ttc" id="anamespacellvm_html_a546d82d3e067a9979464ddde9fc2f46a"><div class="ttname"><a href="namespacellvm.html#a546d82d3e067a9979464ddde9fc2f46a">llvm::make_scope_exit</a></div><div class="ttdeci">LLVM_NODISCARD detail::scope_exit&lt; typename std::decay&lt; Callable &gt;::type &gt; make_scope_exit(Callable &amp;&amp;F)</div><div class="ttdef"><b>Definition</b> <a href="ScopeExit_8h_source.html#l00058">ScopeExit.h:58</a></div></div>
<div class="ttc" id="anamespacellvm_html_a55c9054d63d1c6a39e9c09ba13a482fa"><div class="ttname"><a href="namespacellvm.html#a55c9054d63d1c6a39e9c09ba13a482fa">llvm::addStringMetadataToLoop</a></div><div class="ttdeci">void addStringMetadataToLoop(Loop *TheLoop, const char *MDString, unsigned V=0)</div><div class="ttdoc">Set input string into loop metadata by keeping other values intact.</div><div class="ttdef"><b>Definition</b> <a href="#l00222">LoopUtils.cpp:222</a></div></div>
<div class="ttc" id="anamespacellvm_html_a5704370a1379cfd0062d47b73ba65cb0"><div class="ttname"><a href="namespacellvm.html#a5704370a1379cfd0062d47b73ba65cb0">llvm::cannotBeMaxInLoop</a></div><div class="ttdeci">bool cannotBeMaxInLoop(const SCEV *S, const Loop *L, ScalarEvolution &amp;SE, bool Signed)</div><div class="ttdoc">Returns true if S is defined and never is equal to signed/unsigned max.</div><div class="ttdef"><b>Definition</b> <a href="#l01068">LoopUtils.cpp:1068</a></div></div>
<div class="ttc" id="anamespacellvm_html_a5ca4169f38bbdb81155e4d5b3b9d7fae"><div class="ttname"><a href="namespacellvm.html#a5ca4169f38bbdb81155e4d5b3b9d7fae">llvm::hasVectorizeTransformation</a></div><div class="ttdeci">TransformationMode hasVectorizeTransformation(const Loop *L)</div><div class="ttdef"><b>Definition</b> <a href="#l00399">LoopUtils.cpp:399</a></div></div>
<div class="ttc" id="anamespacellvm_html_a615619b0b2879029152b9a20e96624bc"><div class="ttname"><a href="namespacellvm.html#a615619b0b2879029152b9a20e96624bc">llvm::transform</a></div><div class="ttdeci">OutputIt transform(R &amp;&amp;Range, OutputIt d_first, UnaryFunction F)</div><div class="ttdoc">Wrapper function around std::transform to apply a function to a range and store the result elsewhere.</div><div class="ttdef"><b>Definition</b> <a href="STLExtras_8h_source.html#l01631">STLExtras.h:1631</a></div></div>
<div class="ttc" id="anamespacellvm_html_a61d13d6824ec46c31260a4fd0997eda0"><div class="ttname"><a href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a></div><div class="ttdeci">bool any_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::any_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition</b> <a href="STLExtras_8h_source.html#l01541">STLExtras.h:1541</a></div></div>
<div class="ttc" id="anamespacellvm_html_a627b2f86ac433d829482d5a5a0f50668"><div class="ttname"><a href="namespacellvm.html#a627b2f86ac433d829482d5a5a0f50668">llvm::isInstructionTriviallyDead</a></div><div class="ttdeci">bool isInstructionTriviallyDead(Instruction *I, const TargetLibraryInfo *TLI=nullptr)</div><div class="ttdoc">Return true if the result produced by the instruction is not used, and the instruction has no side ef...</div><div class="ttdef"><b>Definition</b> <a href="Local_8cpp_source.html#l00398">Local.cpp:398</a></div></div>
<div class="ttc" id="anamespacellvm_html_a646699d7e9479783d02a368364310c67"><div class="ttname"><a href="namespacellvm.html#a646699d7e9479783d02a368364310c67">llvm::divideNearest</a></div><div class="ttdeci">uint64_t divideNearest(uint64_t Numerator, uint64_t Denominator)</div><div class="ttdoc">Returns the integer nearest(Numerator / Denominator).</div><div class="ttdef"><b>Definition</b> <a href="MathExtras_8h_source.html#l00747">MathExtras.h:747</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6497a581a4f7152729c29a368ac7d7be"><div class="ttname"><a href="namespacellvm.html#a6497a581a4f7152729c29a368ac7d7be">llvm::None</a></div><div class="ttdeci">const NoneType None</div><div class="ttdef"><b>Definition</b> <a href="None_8h_source.html#l00023">None.h:23</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6880d6c7da94499220b6d7dfcc3c88d4"><div class="ttname"><a href="namespacellvm.html#a6880d6c7da94499220b6d7dfcc3c88d4">llvm::findDefsUsedOutsideOfLoop</a></div><div class="ttdeci">SmallVector&lt; Instruction *, 8 &gt; findDefsUsedOutsideOfLoop(Loop *L)</div><div class="ttdoc">Returns the instructions that use values defined in the loop.</div><div class="ttdef"><b>Definition</b> <a href="#l00131">LoopUtils.cpp:131</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6de4882dde0c939a449377f8f8abb8a8"><div class="ttname"><a href="namespacellvm.html#a6de4882dde0c939a449377f8f8abb8a8">llvm::isMustProgress</a></div><div class="ttdeci">bool isMustProgress(const Loop *L)</div><div class="ttdoc">Return true if this loop can be assumed to make progress.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8cpp_source.html#l01111">LoopInfo.cpp:1111</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6dec2b5d3e04b47adf4d918d678e81c9"><div class="ttname"><a href="namespacellvm.html#a6dec2b5d3e04b47adf4d918d678e81c9">llvm::isPowerOf2_32</a></div><div class="ttdeci">constexpr bool isPowerOf2_32(uint32_t Value)</div><div class="ttdoc">Return true if the argument is a power of two &gt; 0.</div><div class="ttdef"><b>Definition</b> <a href="MathExtras_8h_source.html#l00491">MathExtras.h:491</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7386405e9217844550433e1debb58ef7"><div class="ttname"><a href="namespacellvm.html#a7386405e9217844550433e1debb58ef7">llvm::hasUnrollAndJamTransformation</a></div><div class="ttdeci">TransformationMode hasUnrollAndJamTransformation(const Loop *L)</div><div class="ttdef"><b>Definition</b> <a href="#l00381">LoopUtils.cpp:381</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7497a9c7b920514d600f172d6a54066c"><div class="ttname"><a href="namespacellvm.html#a7497a9c7b920514d600f172d6a54066c">llvm::getOptionalBoolLoopAttribute</a></div><div class="ttdeci">Optional&lt; bool &gt; getOptionalBoolLoopAttribute(const Loop *TheLoop, StringRef Name)</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8cpp_source.html#l01069">LoopInfo.cpp:1069</a></div></div>
<div class="ttc" id="anamespacellvm_html_a74b422e2c15d859ba49911cc329f11d7"><div class="ttname"><a href="namespacellvm.html#a74b422e2c15d859ba49911cc329f11d7">llvm::deleteDeadLoop</a></div><div class="ttdeci">void deleteDeadLoop(Loop *L, DominatorTree *DT, ScalarEvolution *SE, LoopInfo *LI, MemorySSA *MSSA=nullptr)</div><div class="ttdoc">This function deletes dead loops.</div><div class="ttdef"><b>Definition</b> <a href="#l00477">LoopUtils.cpp:477</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7d25a8a9d14a556b1ca44f8fe0dfdd8b"><div class="ttname"><a href="namespacellvm.html#a7d25a8a9d14a556b1ca44f8fe0dfdd8b">llvm::hasDisableAllTransformsHint</a></div><div class="ttdeci">bool hasDisableAllTransformsHint(const Loop *L)</div><div class="ttdoc">Look for the loop attribute that disables all transformation heuristic.</div><div class="ttdef"><b>Definition</b> <a href="#l00352">LoopUtils.cpp:352</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7f987d5b55845b1a4658e7998a3ecefb"><div class="ttname"><a href="namespacellvm.html#a7f987d5b55845b1a4658e7998a3ecefb">llvm::createOrderedReduction</a></div><div class="ttdeci">Value * createOrderedReduction(IRBuilderBase &amp;B, const RecurrenceDescriptor &amp;Desc, Value *Src, Value *Start)</div><div class="ttdoc">Create an ordered reduction intrinsic using the given recurrence descriptor Desc.</div><div class="ttdef"><b>Definition</b> <a href="#l01013">LoopUtils.cpp:1013</a></div></div>
<div class="ttc" id="anamespacellvm_html_a824f3e0d9eb261d9345fcc96b36852f5"><div class="ttname"><a href="namespacellvm.html#a824f3e0d9eb261d9345fcc96b36852f5">llvm::empty</a></div><div class="ttdeci">constexpr bool empty(const T &amp;RangeOrContainer)</div><div class="ttdoc">Test whether RangeOrContainer is empty. Similar to C++17 std::empty.</div><div class="ttdef"><b>Definition</b> <a href="STLExtras_8h_source.html#l00254">STLExtras.h:254</a></div></div>
<div class="ttc" id="anamespacellvm_html_a837209d51e75f7afcfdf457b20e59493"><div class="ttname"><a href="namespacellvm.html#a837209d51e75f7afcfdf457b20e59493">llvm::SCEVCheapExpansionBudget</a></div><div class="ttdeci">cl::opt&lt; unsigned &gt; SCEVCheapExpansionBudget</div></div>
<div class="ttc" id="anamespacellvm_html_a868145c1795173f9642f99c354f91a7d"><div class="ttname"><a href="namespacellvm.html#a868145c1795173f9642f99c354f91a7d">llvm::hasUnrollTransformation</a></div><div class="ttdeci">TransformationMode hasUnrollTransformation(const Loop *L)</div><div class="ttdef"><b>Definition</b> <a href="#l00360">LoopUtils.cpp:360</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8f43e8365ed5bf4bee97ded98ba4816a"><div class="ttname"><a href="namespacellvm.html#a8f43e8365ed5bf4bee97ded98ba4816a">llvm::hasDistributeTransformation</a></div><div class="ttdeci">TransformationMode hasDistributeTransformation(const Loop *L)</div><div class="ttdef"><b>Definition</b> <a href="#l00435">LoopUtils.cpp:435</a></div></div>
<div class="ttc" id="anamespacellvm_html_a91d9d210ba428cc67e3c2e892f24529e"><div class="ttname"><a href="namespacellvm.html#a91d9d210ba428cc67e3c2e892f24529e">llvm::predecessors</a></div><div class="ttdeci">pred_range predecessors(BasicBlock *BB)</div><div class="ttdef"><b>Definition</b> <a href="IR_2CFG_8h_source.html#l00127">CFG.h:127</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9267cf9acba995fd1b10ae1015d048c8"><div class="ttname"><a href="namespacellvm.html#a9267cf9acba995fd1b10ae1015d048c8">llvm::breakLoopBackedge</a></div><div class="ttdeci">void breakLoopBackedge(Loop *L, DominatorTree &amp;DT, ScalarEvolution &amp;SE, LoopInfo &amp;LI, MemorySSA *MSSA)</div><div class="ttdoc">Remove the backedge of the specified loop.</div><div class="ttdef"><b>Definition</b> <a href="#l00704">LoopUtils.cpp:704</a></div></div>
<div class="ttc" id="anamespacellvm_html_a92caae34bfacc63bda0f23d5d005a89e"><div class="ttname"><a href="namespacellvm.html#a92caae34bfacc63bda0f23d5d005a89e">llvm::getLoopAnalysisUsage</a></div><div class="ttdeci">void getLoopAnalysisUsage(AnalysisUsage &amp;AU)</div><div class="ttdoc">Helper to consistently add the set of standard passes to a loop pass's AnalysisUsage.</div><div class="ttdef"><b>Definition</b> <a href="#l00149">LoopUtils.cpp:149</a></div></div>
<div class="ttc" id="anamespacellvm_html_a97370114df349e0996f133e3402c1595"><div class="ttname"><a href="namespacellvm.html#a97370114df349e0996f133e3402c1595">llvm::changeToUnreachable</a></div><div class="ttdeci">unsigned changeToUnreachable(Instruction *I, bool PreserveLCSSA=false, DomTreeUpdater *DTU=nullptr, MemorySSAUpdater *MSSAU=nullptr)</div><div class="ttdoc">Insert an unreachable instruction before the specified instruction, making it and the rest of the cod...</div><div class="ttdef"><b>Definition</b> <a href="Local_8cpp_source.html#l02113">Local.cpp:2113</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9c9d20fe1eea1c539518762e7d822d69"><div class="ttname"><a href="namespacellvm.html#a9c9d20fe1eea1c539518762e7d822d69">llvm::isModSet</a></div><div class="ttdeci">LLVM_NODISCARD bool isModSet(const ModRefInfo MRI)</div><div class="ttdef"><b>Definition</b> <a href="AliasAnalysis_8h_source.html#l00196">AliasAnalysis.h:196</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9d391b6acc6d90c9b8a8442324b1aa6f"><div class="ttname"><a href="namespacellvm.html#a9d391b6acc6d90c9b8a8442324b1aa6f">llvm::SplitBlockPredecessors</a></div><div class="ttdeci">BasicBlock * SplitBlockPredecessors(BasicBlock *BB, ArrayRef&lt; BasicBlock * &gt; Preds, const char *Suffix, DominatorTree *DT, LoopInfo *LI=nullptr, MemorySSAUpdater *MSSAU=nullptr, bool PreserveLCSSA=false)</div><div class="ttdoc">This method introduces at least one new basic block into the function and moves some of the predecess...</div><div class="ttdef"><b>Definition</b> <a href="BasicBlockUtils_8cpp_source.html#l01148">BasicBlockUtils.cpp:1148</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9f40ac77c99a84cee5bae5ac04c67c37"><div class="ttname"><a href="namespacellvm.html#a9f40ac77c99a84cee5bae5ac04c67c37">llvm::createTargetReduction</a></div><div class="ttdeci">Value * createTargetReduction(IRBuilderBase &amp;B, const TargetTransformInfo *TTI, const RecurrenceDescriptor &amp;Desc, Value *Src)</div><div class="ttdoc">Create a generic target reduction using a recurrence descriptor Desc The target is queried to determi...</div><div class="ttdef"><b>Definition</b> <a href="#l01001">LoopUtils.cpp:1001</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9f77adb928109e199b46dfd774001f0d"><div class="ttname"><a href="namespacellvm.html#a9f77adb928109e199b46dfd774001f0d">llvm::getLoopEstimatedTripCount</a></div><div class="ttdeci">Optional&lt; unsigned &gt; getLoopEstimatedTripCount(Loop *L, unsigned *EstimatedLoopInvocationWeight=nullptr)</div><div class="ttdoc">Returns a loop's estimated trip count based on branch weight metadata.</div><div class="ttdef"><b>Definition</b> <a href="#l00770">LoopUtils.cpp:770</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa1a001d9051b71d83307766b1a96b7d3"><div class="ttname"><a href="namespacellvm.html#aa1a001d9051b71d83307766b1a96b7d3">llvm::hasLICMVersioningTransformation</a></div><div class="ttdeci">TransformationMode hasLICMVersioningTransformation(const Loop *L)</div><div class="ttdef"><b>Definition</b> <a href="#l00445">LoopUtils.cpp:445</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa29fe161c408879ada30c90ebbf55dcf"><div class="ttname"><a href="namespacellvm.html#aa29fe161c408879ada30c90ebbf55dcf">llvm::VerifyMemorySSA</a></div><div class="ttdeci">bool VerifyMemorySSA</div><div class="ttdoc">Enables verification of MemorySSA.</div><div class="ttdef"><b>Definition</b> <a href="MemorySSA_8cpp_source.html#l00091">MemorySSA.cpp:91</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa3e837c0d2a0521b4a4680071cac0dcb"><div class="ttname"><a href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcb">llvm::TransformationMode</a></div><div class="ttdeci">TransformationMode</div><div class="ttdoc">The mode sets how eager a transformation should be applied.</div><div class="ttdef"><b>Definition</b> <a href="LoopUtils_8h_source.html#l00256">LoopUtils.h:256</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa3e837c0d2a0521b4a4680071cac0dcba4a62a80af8c368bfeac957dc6b09584a"><div class="ttname"><a href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcba4a62a80af8c368bfeac957dc6b09584a">llvm::TM_Unspecified</a></div><div class="ttdeci">@ TM_Unspecified</div><div class="ttdoc">The pass can use heuristics to determine whether a transformation should be applied.</div><div class="ttdef"><b>Definition</b> <a href="LoopUtils_8h_source.html#l00259">LoopUtils.h:259</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa3e837c0d2a0521b4a4680071cac0dcba5823b05aeac764d3dafa62e0158c9e67"><div class="ttname"><a href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcba5823b05aeac764d3dafa62e0158c9e67">llvm::TM_SuppressedByUser</a></div><div class="ttdeci">@ TM_SuppressedByUser</div><div class="ttdoc">The transformation must not be applied.</div><div class="ttdef"><b>Definition</b> <a href="LoopUtils_8h_source.html#l00280">LoopUtils.h:279</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa3e837c0d2a0521b4a4680071cac0dcbaa1c649bc8228a2e36e04b8454851bfc5"><div class="ttname"><a href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcbaa1c649bc8228a2e36e04b8454851bfc5">llvm::TM_ForcedByUser</a></div><div class="ttdeci">@ TM_ForcedByUser</div><div class="ttdoc">The transformation was directed by the user, e.g.</div><div class="ttdef"><b>Definition</b> <a href="LoopUtils_8h_source.html#l00273">LoopUtils.h:273</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa3e837c0d2a0521b4a4680071cac0dcbaa70bd8f3da4232ad809b2ffdcc1254bd"><div class="ttname"><a href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcbaa70bd8f3da4232ad809b2ffdcc1254bd">llvm::TM_Disable</a></div><div class="ttdeci">@ TM_Disable</div><div class="ttdoc">The transformation should not be applied.</div><div class="ttdef"><b>Definition</b> <a href="LoopUtils_8h_source.html#l00265">LoopUtils.h:265</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa3e837c0d2a0521b4a4680071cac0dcbac3977ea14dd68d93d147c91a34de4bb3"><div class="ttname"><a href="namespacellvm.html#aa3e837c0d2a0521b4a4680071cac0dcbac3977ea14dd68d93d147c91a34de4bb3">llvm::TM_Enable</a></div><div class="ttdeci">@ TM_Enable</div><div class="ttdoc">The transformation should be applied without considering a cost model.</div><div class="ttdef"><b>Definition</b> <a href="LoopUtils_8h_source.html#l00262">LoopUtils.h:262</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa61b7b49f32233419331f8132b39e77d"><div class="ttname"><a href="namespacellvm.html#aa61b7b49f32233419331f8132b39e77d">llvm::hasDisableLICMTransformsHint</a></div><div class="ttdeci">bool hasDisableLICMTransformsHint(const Loop *L)</div><div class="ttdoc">Look for the loop attribute that disables the LICM transformation heuristics.</div><div class="ttdef"><b>Definition</b> <a href="#l00356">LoopUtils.cpp:356</a></div></div>
<div class="ttc" id="anamespacellvm_html_aac36edd0f1ce976f0025c98e88d3830e"><div class="ttname"><a href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830e">llvm::RecurKind</a></div><div class="ttdeci">RecurKind</div><div class="ttdoc">These are the kinds of recurrences that we support.</div><div class="ttdef"><b>Definition</b> <a href="IVDescriptors_8h_source.html#l00038">IVDescriptors.h:38</a></div></div>
<div class="ttc" id="anamespacellvm_html_aad7cd933f586fc0c66656a4751ac069f"><div class="ttname"><a href="namespacellvm.html#aad7cd933f586fc0c66656a4751ac069f">llvm::setLoopEstimatedTripCount</a></div><div class="ttdeci">bool setLoopEstimatedTripCount(Loop *L, unsigned EstimatedTripCount, unsigned EstimatedLoopInvocationWeight)</div><div class="ttdoc">Set a loop's branch weight metadata to reflect that loop has EstimatedTripCount iterations and Estima...</div><div class="ttdef"><b>Definition</b> <a href="#l00802">LoopUtils.cpp:802</a></div></div>
<div class="ttc" id="anamespacellvm_html_aaf345c258e6fd97a551e4d5b41607e32"><div class="ttname"><a href="namespacellvm.html#aaf345c258e6fd97a551e4d5b41607e32">llvm::setProfileInfoAfterUnrolling</a></div><div class="ttdeci">void setProfileInfoAfterUnrolling(Loop *OrigLoop, Loop *UnrolledLoop, Loop *RemainderLoop, uint64_t UF)</div><div class="ttdoc">Set weights for UnrolledLoop and RemainderLoop based on weights for OrigLoop and the following distri...</div><div class="ttdef"><b>Definition</b> <a href="#l01419">LoopUtils.cpp:1419</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab1f7831449cd72e78894e3dcda705cd8"><div class="ttname"><a href="namespacellvm.html#ab1f7831449cd72e78894e3dcda705cd8">llvm::formDedicatedExitBlocks</a></div><div class="ttdeci">bool formDedicatedExitBlocks(Loop *L, DominatorTree *DT, LoopInfo *LI, MemorySSAUpdater *MSSAU, bool PreserveLCSSA)</div><div class="ttdoc">Ensure that all exit blocks of the loop are dedicated exits.</div><div class="ttdef"><b>Definition</b> <a href="#l00062">LoopUtils.cpp:62</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab33d6db4b4cc4b3a98989a36b48b2afe"><div class="ttname"><a href="namespacellvm.html#ab33d6db4b4cc4b3a98989a36b48b2afe">llvm::makeFollowupLoopID</a></div><div class="ttdeci">Optional&lt; MDNode * &gt; makeFollowupLoopID(MDNode *OrigLoopID, ArrayRef&lt; StringRef &gt; FollowupAttrs, const char *InheritOptionsAttrsPrefix=&quot;&quot;, bool AlwaysNew=false)</div><div class="ttdoc">Create a new loop identifier for a loop created from a loop transformation.</div><div class="ttdef"><b>Definition</b> <a href="#l00271">LoopUtils.cpp:271</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab7a106c600cf32852298d9041e8c8044"><div class="ttname"><a href="namespacellvm.html#ab7a106c600cf32852298d9041e8c8044">llvm::appendLoopsToWorklist</a></div><div class="ttdeci">void appendLoopsToWorklist(RangeT &amp;&amp;, SmallPriorityWorklist&lt; Loop *, 4 &gt; &amp;)</div><div class="ttdoc">Utility that implements appending of loops onto a worklist given a range.</div><div class="ttdef"><b>Definition</b> <a href="#l01472">LoopUtils.cpp:1472</a></div></div>
<div class="ttc" id="anamespacellvm_html_abc1d309b62fc59309659ac3fa7f3f68f"><div class="ttname"><a href="namespacellvm.html#abc1d309b62fc59309659ac3fa7f3f68f">llvm::isKnownNegativeInLoop</a></div><div class="ttdeci">bool isKnownNegativeInLoop(const SCEV *S, const Loop *L, ScalarEvolution &amp;SE)</div><div class="ttdoc">Returns true if we can prove that S is defined and always negative in loop L.</div><div class="ttdef"><b>Definition</b> <a href="#l01043">LoopUtils.cpp:1043</a></div></div>
<div class="ttc" id="anamespacellvm_html_abee0df5f7f703bb4462aba260ba0a60f"><div class="ttname"><a href="namespacellvm.html#abee0df5f7f703bb4462aba260ba0a60f">llvm::BitWidth</a></div><div class="ttdeci">constexpr unsigned BitWidth</div><div class="ttdef"><b>Definition</b> <a href="BitmaskEnum_8h_source.html#l00147">BitmaskEnum.h:147</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac438183b3cdb70d2fa78265512238514"><div class="ttname"><a href="namespacellvm.html#ac438183b3cdb70d2fa78265512238514">llvm::hasIterationCountInvariantInParent</a></div><div class="ttdeci">bool hasIterationCountInvariantInParent(Loop *L, ScalarEvolution &amp;SE)</div><div class="ttdoc">Check inner loop (L) backedge count is known to be invariant on all iterations of its outer loop.</div><div class="ttdef"><b>Definition</b> <a href="#l00833">LoopUtils.cpp:833</a></div></div>
<div class="ttc" id="anamespacellvm_html_acb5b48f89efd60ea799bb09abc1971ba"><div class="ttname"><a href="namespacellvm.html#acb5b48f89efd60ea799bb09abc1971ba">llvm::rewriteLoopExitValues</a></div><div class="ttdeci">int rewriteLoopExitValues(Loop *L, LoopInfo *LI, TargetLibraryInfo *TLI, ScalarEvolution *SE, const TargetTransformInfo *TTI, SCEVExpander &amp;Rewriter, DominatorTree *DT, ReplaceExitVal ReplaceExitValue, SmallVector&lt; WeakTrackingVH, 16 &gt; &amp;DeadInsts)</div><div class="ttdoc">If the final value of any expressions that are recurrent in the loop can be computed,...</div><div class="ttdef"><b>Definition</b> <a href="#l01233">LoopUtils.cpp:1233</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad711012ae6f56de75424c48f31538986"><div class="ttname"><a href="namespacellvm.html#ad711012ae6f56de75424c48f31538986">llvm::ReplaceExitVal</a></div><div class="ttdeci">ReplaceExitVal</div><div class="ttdef"><b>Definition</b> <a href="LoopUtils_8h_source.html#l00405">LoopUtils.h:405</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad711012ae6f56de75424c48f31538986a1e6c3ab87bc6c3b3ee4b5a64e3a99963"><div class="ttname"><a href="namespacellvm.html#ad711012ae6f56de75424c48f31538986a1e6c3ab87bc6c3b3ee4b5a64e3a99963">llvm::OnlyCheapRepl</a></div><div class="ttdeci">@ OnlyCheapRepl</div><div class="ttdef"><b>Definition</b> <a href="LoopUtils_8h_source.html#l00405">LoopUtils.h:405</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad711012ae6f56de75424c48f31538986add1840394cd7a4e7d080482f42e7b424"><div class="ttname"><a href="namespacellvm.html#ad711012ae6f56de75424c48f31538986add1840394cd7a4e7d080482f42e7b424">llvm::AlwaysRepl</a></div><div class="ttdeci">@ AlwaysRepl</div><div class="ttdef"><b>Definition</b> <a href="LoopUtils_8h_source.html#l00405">LoopUtils.h:405</a></div></div>
<div class="ttc" id="anamespacellvm_html_adf83581f514774264d616eef5706cf6e"><div class="ttname"><a href="namespacellvm.html#adf83581f514774264d616eef5706cf6e">llvm::SplitEdge</a></div><div class="ttdeci">BasicBlock * SplitEdge(BasicBlock *From, BasicBlock *To, DominatorTree *DT=nullptr, LoopInfo *LI=nullptr, MemorySSAUpdater *MSSAU=nullptr, const Twine &amp;BBName=&quot;&quot;)</div><div class="ttdoc">Split the edge connecting the specified blocks, and return the newly created basic block between From...</div><div class="ttdef"><b>Definition</b> <a href="BasicBlockUtils_8cpp_source.html#l00493">BasicBlockUtils.cpp:493</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae45ae4b08a803a02b436ac7af413410d"><div class="ttname"><a href="namespacellvm.html#ae45ae4b08a803a02b436ac7af413410d">llvm::getOptionalElementCountLoopAttribute</a></div><div class="ttdeci">Optional&lt; ElementCount &gt; getOptionalElementCountLoopAttribute(const Loop *TheLoop)</div><div class="ttdoc">Find a combination of metadata (&quot;llvm.loop.vectorize.width&quot; and &quot;llvm.loop.vectorize....</div><div class="ttdef"><b>Definition</b> <a href="#l00258">LoopUtils.cpp:258</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae4af0a70c640314008a3cc3f827a9c99"><div class="ttname"><a href="namespacellvm.html#ae4af0a70c640314008a3cc3f827a9c99">llvm::getOrderedReduction</a></div><div class="ttdeci">Value * getOrderedReduction(IRBuilderBase &amp;Builder, Value *Acc, Value *Src, unsigned Op, RecurKind MinMaxKind=RecurKind::None, ArrayRef&lt; Value * &gt; RedOps=None)</div><div class="ttdoc">Generates an ordered vector reduction using extracts to reduce the value.</div><div class="ttdef"><b>Definition</b> <a href="#l00887">LoopUtils.cpp:887</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae4cddbf9780c6a63e5f3d5e1f6402f09"><div class="ttname"><a href="namespacellvm.html#ae4cddbf9780c6a63e5f3d5e1f6402f09">llvm::addRuntimeChecks</a></div><div class="ttdeci">std::pair&lt; Instruction *, Instruction * &gt; addRuntimeChecks(Instruction *Loc, Loop *TheLoop, const SmallVectorImpl&lt; RuntimePointerCheck &gt; &amp;PointerChecks, SCEVExpander &amp;Expander)</div><div class="ttdoc">Add code that checks at runtime if the accessed arrays in PointerChecks overlap.</div><div class="ttdef"><b>Definition</b> <a href="#l01557">LoopUtils.cpp:1557</a></div></div>
<div class="ttc" id="anamespacellvm_html_aed54a8c39c1f5f066957f1297bd6bd0b"><div class="ttname"><a href="namespacellvm.html#aed54a8c39c1f5f066957f1297bd6bd0b">llvm::isSafeToExpand</a></div><div class="ttdeci">bool isSafeToExpand(const SCEV *S, ScalarEvolution &amp;SE)</div><div class="ttdoc">Return true if the given expression is safe to expand in the sense that all materialized values are s...</div><div class="ttdef"><b>Definition</b> <a href="ScalarEvolutionExpander_8cpp_source.html#l02715">ScalarEvolutionExpander.cpp:2715</a></div></div>
<div class="ttc" id="anamespacellvm_html_aef5f1583da883ba28cb113c02d29f1d9"><div class="ttname"><a href="namespacellvm.html#aef5f1583da883ba28cb113c02d29f1d9">llvm::cannotBeMinInLoop</a></div><div class="ttdeci">bool cannotBeMinInLoop(const SCEV *S, const Loop *L, ScalarEvolution &amp;SE, bool Signed)</div><div class="ttdoc">Returns true if S is defined and never is equal to signed/unsigned min.</div><div class="ttdef"><b>Definition</b> <a href="#l01057">LoopUtils.cpp:1057</a></div></div>
<div class="ttc" id="anamespacellvm_html_af042aac9d86aacb5ee9e1af24590f4c2"><div class="ttname"><a href="namespacellvm.html#af042aac9d86aacb5ee9e1af24590f4c2">llvm::isKnownNonNegativeInLoop</a></div><div class="ttdeci">bool isKnownNonNegativeInLoop(const SCEV *S, const Loop *L, ScalarEvolution &amp;SE)</div><div class="ttdoc">Returns true if we can prove that S is defined and always non-negative in loop L.</div><div class="ttdef"><b>Definition</b> <a href="#l01050">LoopUtils.cpp:1050</a></div></div>
<div class="ttc" id="anamespacellvm_html_af96352a2cdb90eba4c80ba0a8109b269"><div class="ttname"><a href="namespacellvm.html#af96352a2cdb90eba4c80ba0a8109b269">llvm::findOptionMDForLoopID</a></div><div class="ttdeci">MDNode * findOptionMDForLoopID(MDNode *LoopID, StringRef Name)</div><div class="ttdoc">Find and return the loop attribute node for the attribute Name in LoopID.</div><div class="ttdef"><b>Definition</b> <a href="LoopInfo_8cpp_source.html#l01019">LoopInfo.cpp:1019</a></div></div>
<div class="ttc" id="anamespacellvm_html_afdccf3ff7a8dfaa084b07c1fb417bbe2a2faec1f9f8cc7f8f40d521c4dd574f49"><div class="ttname"><a href="namespacellvm.html#afdccf3ff7a8dfaa084b07c1fb417bbe2a2faec1f9f8cc7f8f40d521c4dd574f49">llvm::ColorMode::Enable</a></div><div class="ttdeci">@ Enable</div><div class="ttdoc">Enable colors.</div></div>
<div class="ttc" id="anamespacellvm_html_afe8e2e0edcd7756ff5985b8798270c5d"><div class="ttname"><a href="namespacellvm.html#afe8e2e0edcd7756ff5985b8798270c5d">llvm::cloneLoop</a></div><div class="ttdeci">Loop * cloneLoop(Loop *L, Loop *PL, ValueToValueMapTy &amp;VM, LoopInfo *LI, LPPassManager *LPM)</div><div class="ttdoc">Recursively clone the specified loop and all of its children, mapping the blocks with the specified m...</div><div class="ttdef"><b>Definition</b> <a href="#l01489">LoopUtils.cpp:1489</a></div></div>
<div class="ttc" id="anamespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap.</div><div class="ttdef"><b>Definition</b> <a href="BitVector_8h_source.html#l00840">BitVector.h:840</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="astructPointerBounds_html"><div class="ttname"><a href="structPointerBounds.html">PointerBounds</a></div><div class="ttdoc">IR Values for the lower and upper bounds of a pointer evolution.</div><div class="ttdef"><b>Definition</b> <a href="#l01517">LoopUtils.cpp:1517</a></div></div>
<div class="ttc" id="astructPointerBounds_html_a166c50543bde92f88942e24117d2507c"><div class="ttname"><a href="structPointerBounds.html#a166c50543bde92f88942e24117d2507c">PointerBounds::Start</a></div><div class="ttdeci">TrackingVH&lt; Value &gt; Start</div><div class="ttdef"><b>Definition</b> <a href="#l01518">LoopUtils.cpp:1518</a></div></div>
<div class="ttc" id="astructPointerBounds_html_a1b8c6c0bae373b4653e16639ac4acff7"><div class="ttname"><a href="structPointerBounds.html#a1b8c6c0bae373b4653e16639ac4acff7">PointerBounds::End</a></div><div class="ttdeci">TrackingVH&lt; Value &gt; End</div><div class="ttdef"><b>Definition</b> <a href="#l01519">LoopUtils.cpp:1519</a></div></div>
<div class="ttc" id="astructRewritePhi_html"><div class="ttname"><a href="structRewritePhi.html">RewritePhi</a></div><div class="ttdef"><b>Definition</b> <a href="#l01161">LoopUtils.cpp:1161</a></div></div>
<div class="ttc" id="astructRewritePhi_html_a1b5f7ff2bb71d52a17f6217bcbaa7c8b"><div class="ttname"><a href="structRewritePhi.html#a1b5f7ff2bb71d52a17f6217bcbaa7c8b">RewritePhi::HighCost</a></div><div class="ttdeci">bool HighCost</div><div class="ttdef"><b>Definition</b> <a href="#l01166">LoopUtils.cpp:1166</a></div></div>
<div class="ttc" id="astructRewritePhi_html_a240e047a1971ff7614265ee7dd9e9167"><div class="ttname"><a href="structRewritePhi.html#a240e047a1971ff7614265ee7dd9e9167">RewritePhi::Ith</a></div><div class="ttdeci">unsigned Ith</div><div class="ttdef"><b>Definition</b> <a href="#l01163">LoopUtils.cpp:1163</a></div></div>
<div class="ttc" id="astructRewritePhi_html_a5f1abb9f49af7b533cfcac97bcbe7011"><div class="ttname"><a href="structRewritePhi.html#a5f1abb9f49af7b533cfcac97bcbe7011">RewritePhi::RewritePhi</a></div><div class="ttdeci">RewritePhi(PHINode *P, unsigned I, const SCEV *Val, Instruction *ExpansionPt, bool H)</div><div class="ttdef"><b>Definition</b> <a href="#l01171">LoopUtils.cpp:1171</a></div></div>
<div class="ttc" id="astructRewritePhi_html_a809babc17aafa730014f447c3fb203bb"><div class="ttname"><a href="structRewritePhi.html#a809babc17aafa730014f447c3fb203bb">RewritePhi::ValidRewrite</a></div><div class="ttdeci">bool ValidRewrite</div><div class="ttdef"><b>Definition</b> <a href="#l01169">LoopUtils.cpp:1169</a></div></div>
<div class="ttc" id="astructRewritePhi_html_a9ff69b9c0b001ec489aad86f0243a15b"><div class="ttname"><a href="structRewritePhi.html#a9ff69b9c0b001ec489aad86f0243a15b">RewritePhi::Expansion</a></div><div class="ttdeci">Value * Expansion</div><div class="ttdef"><b>Definition</b> <a href="#l01168">LoopUtils.cpp:1168</a></div></div>
<div class="ttc" id="astructRewritePhi_html_ab429784276a6d2bd9e1c820ac9ec37be"><div class="ttname"><a href="structRewritePhi.html#ab429784276a6d2bd9e1c820ac9ec37be">RewritePhi::ExpansionSCEV</a></div><div class="ttdeci">const SCEV * ExpansionSCEV</div><div class="ttdef"><b>Definition</b> <a href="#l01164">LoopUtils.cpp:1164</a></div></div>
<div class="ttc" id="astructRewritePhi_html_abd9107b6d4085ec310ae5c8283961d22"><div class="ttname"><a href="structRewritePhi.html#abd9107b6d4085ec310ae5c8283961d22">RewritePhi::PN</a></div><div class="ttdeci">PHINode * PN</div><div class="ttdef"><b>Definition</b> <a href="#l01162">LoopUtils.cpp:1162</a></div></div>
<div class="ttc" id="astructRewritePhi_html_af9daaa1170b58d826ff23a9a32e63d10"><div class="ttname"><a href="structRewritePhi.html#af9daaa1170b58d826ff23a9a32e63d10">RewritePhi::ExpansionPoint</a></div><div class="ttdeci">Instruction * ExpansionPoint</div><div class="ttdef"><b>Definition</b> <a href="#l01165">LoopUtils.cpp:1165</a></div></div>
<div class="ttc" id="astructllvm_1_1IVConditionInfo_html"><div class="ttname"><a href="structllvm_1_1IVConditionInfo.html">llvm::IVConditionInfo</a></div><div class="ttdoc">Struct to hold information about a partially invariant condition.</div><div class="ttdef"><b>Definition</b> <a href="LoopUtils_8h_source.html#l00477">LoopUtils.h:477</a></div></div>
<div class="ttc" id="astructllvm_1_1LCSSAVerificationPass_html"><div class="ttname"><a href="structllvm_1_1LCSSAVerificationPass.html">llvm::LCSSAVerificationPass</a></div><div class="ttdef"><b>Definition</b> <a href="LoopPass_8h_source.html#l00123">LoopPass.h:123</a></div></div>
<div class="ttc" id="astructllvm_1_1RuntimeCheckingPtrGroup_html"><div class="ttname"><a href="structllvm_1_1RuntimeCheckingPtrGroup.html">llvm::RuntimeCheckingPtrGroup</a></div><div class="ttdoc">A grouping of pointers.</div><div class="ttdef"><b>Definition</b> <a href="LoopAccessAnalysis_8h_source.html#l00339">LoopAccessAnalysis.h:339</a></div></div>
<div class="ttc" id="astructllvm_1_1TargetTransformInfo_1_1ReductionFlags_html"><div class="ttname"><a href="structllvm_1_1TargetTransformInfo_1_1ReductionFlags.html">llvm::TargetTransformInfo::ReductionFlags</a></div><div class="ttdoc">Flags describing the kind of vector reduction.</div><div class="ttdef"><b>Definition</b> <a href="TargetTransformInfo_8h_source.html#l01329">TargetTransformInfo.h:1329</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Feb 20 2024 17:55:51 for LLVM by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
