<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Target/AMDGPU/AMDGPURegisterBankInfo.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LLVM<span id="projectnumber">&#160;17.0.0rc</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_794e483eb1cc7921d35fd149d9cc325b.html">Target</a></li><li class="navelem"><a class="el" href="dir_447ce995d6e35417de5ec3060e97c93e.html">AMDGPU</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">AMDGPURegisterBankInfo.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This file implements the targeting of the RegisterBankInfo class for AMDGPU.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="AMDGPURegisterBankInfo_8h_source.html">AMDGPURegisterBankInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="AMDGPU_8h_source.html">AMDGPU.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="AMDGPUGlobalISelUtils_8h_source.html">AMDGPUGlobalISelUtils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="AMDGPUInstrInfo_8h_source.html">AMDGPUInstrInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="GCNSubtarget_8h_source.html">GCNSubtarget.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="SIMachineFunctionInfo_8h_source.html">SIMachineFunctionInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="SIRegisterInfo_8h_source.html">SIRegisterInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="GenericMachineInstrs_8h_source.html">llvm/CodeGen/GlobalISel/GenericMachineInstrs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LegalizerHelper_8h_source.html">llvm/CodeGen/GlobalISel/LegalizerHelper.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MIPatternMatch_8h_source.html">llvm/CodeGen/GlobalISel/MIPatternMatch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MachineIRBuilder_8h_source.html">llvm/CodeGen/GlobalISel/MachineIRBuilder.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="RegisterBank_8h_source.html">llvm/CodeGen/RegisterBank.h</a>&quot;</code><br />
<code>#include &quot;llvm/IR/IntrinsicsAMDGPU.h&quot;</code><br />
<code>#include &quot;AMDGPUGenRegisterBank.inc&quot;</code><br />
<code>#include &quot;AMDGPUGenRegisterBankInfo.def&quot;</code><br />
</div>
<p><a href="AMDGPURegisterBankInfo_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a3184bd75cc7f72f64f0ed5364ba90b08" id="r_a3184bd75cc7f72f64f0ed5364ba90b08"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3184bd75cc7f72f64f0ed5364ba90b08">GET_TARGET_REGBANK_IMPL</a></td></tr>
<tr class="separator:a3184bd75cc7f72f64f0ed5364ba90b08"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8c6b6408d508158782ddfaf264a20641" id="r_a8c6b6408d508158782ddfaf264a20641"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8c6b6408d508158782ddfaf264a20641">isVectorRegisterBank</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1RegisterBank.html">RegisterBank</a> &amp;Bank)</td></tr>
<tr class="separator:a8c6b6408d508158782ddfaf264a20641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb0fc37a646fdbbe1e832d3c7720e915" id="r_abb0fc37a646fdbbe1e832d3c7720e915"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abb0fc37a646fdbbe1e832d3c7720e915">isScalarLoadLegal</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="el" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)</td></tr>
<tr class="separator:abb0fc37a646fdbbe1e832d3c7720e915"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd86d813757b6a6e4b94c03a856002a4" id="r_abd86d813757b6a6e4b94c03a856002a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abd86d813757b6a6e4b94c03a856002a4">setRegsToType</a> (<a class="el" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="el" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Register.html">Register</a> &gt; Regs, <a class="el" href="classllvm_1_1LLT.html">LLT</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">NewTy</a>)</td></tr>
<tr class="memdesc:abd86d813757b6a6e4b94c03a856002a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replace the current type each register in <code>Regs</code> has with <code>NewTy</code>.  <br /></td></tr>
<tr class="separator:abd86d813757b6a6e4b94c03a856002a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa3232adbead0d5386a1e7636a9d772f" id="r_afa3232adbead0d5386a1e7636a9d772f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> <a class="el" href="classllvm_1_1LLT.html">LLT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa3232adbead0d5386a1e7636a9d772f">getHalfSizedType</a> (<a class="el" href="classllvm_1_1LLT.html">LLT</a> Ty)</td></tr>
<tr class="separator:afa3232adbead0d5386a1e7636a9d772f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4c2bc39e4119d3c2098986cfd7be179" id="r_ab4c2bc39e4119d3c2098986cfd7be179"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> std::pair&lt; <a class="el" href="classllvm_1_1LLT.html">LLT</a>, <a class="el" href="classllvm_1_1LLT.html">LLT</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab4c2bc39e4119d3c2098986cfd7be179">splitUnequalType</a> (<a class="el" href="classllvm_1_1LLT.html">LLT</a> Ty, <a class="el" href="classunsigned.html">unsigned</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">FirstSize</a>)</td></tr>
<tr class="memdesc:ab4c2bc39e4119d3c2098986cfd7be179"><td class="mdescLeft">&#160;</td><td class="mdescRight">Split <code>Ty</code> into 2 pieces.  <br /></td></tr>
<tr class="separator:ab4c2bc39e4119d3c2098986cfd7be179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1deb020986939504194841306a9da79" id="r_af1deb020986939504194841306a9da79"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> <a class="el" href="classllvm_1_1LLT.html">LLT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af1deb020986939504194841306a9da79">widen96To128</a> (<a class="el" href="classllvm_1_1LLT.html">LLT</a> Ty)</td></tr>
<tr class="separator:af1deb020986939504194841306a9da79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79ebc5d429e92dbe3e0c6009ec8e55b4" id="r_a79ebc5d429e92dbe3e0c6009ec8e55b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> <a class="el" href="classunsigned.html">unsigned</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a79ebc5d429e92dbe3e0c6009ec8e55b4">getExtendOp</a> (<a class="el" href="classunsigned.html">unsigned</a> Opc)</td></tr>
<tr class="separator:a79ebc5d429e92dbe3e0c6009ec8e55b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5227e311d2ae980540efa4033943595e" id="r_a5227e311d2ae980540efa4033943595e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> std::pair&lt; <a class="el" href="classllvm_1_1Register.html">Register</a>, <a class="el" href="classllvm_1_1Register.html">Register</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5227e311d2ae980540efa4033943595e">unpackV2S16ToS32</a> (<a class="el" href="classllvm_1_1MachineIRBuilder.html">MachineIRBuilder</a> &amp;<a class="el" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>, <a class="el" href="classllvm_1_1Register.html">Register</a> Src, <a class="el" href="classunsigned.html">unsigned</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">ExtOpcode</a>)</td></tr>
<tr class="separator:a5227e311d2ae980540efa4033943595e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f1b1f36c5069336e43ad70639b7f176" id="r_a0f1b1f36c5069336e43ad70639b7f176"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0f1b1f36c5069336e43ad70639b7f176">substituteSimpleCopyRegs</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> AMDGPURegisterBankInfo::OperandsMapper &amp;<a class="el" href="classllvm_1_1ilist__node__impl.html">OpdMapper</a>, <a class="el" href="classunsigned.html">unsigned</a> OpIdx)</td></tr>
<tr class="separator:a0f1b1f36c5069336e43ad70639b7f176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51e652265b0217f8fdba9f95129c0d47" id="r_a51e652265b0217f8fdba9f95129c0d47"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> std::pair&lt; <a class="el" href="classllvm_1_1Register.html">Register</a>, <a class="el" href="classunsigned.html">unsigned</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a51e652265b0217f8fdba9f95129c0d47">getBaseWithConstantOffset</a> (<a class="el" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="el" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="el" href="classllvm_1_1Register.html">Register</a> <a class="el" href="MachineSink_8cpp.html#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>)</td></tr>
<tr class="separator:a51e652265b0217f8fdba9f95129c0d47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeae677889401c02a8def9a0508e858c7" id="r_aeae677889401c02a8def9a0508e858c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeae677889401c02a8def9a0508e858c7">reinsertVectorIndexAdd</a> (<a class="el" href="classllvm_1_1MachineIRBuilder.html">MachineIRBuilder</a> &amp;<a class="el" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>, <a class="el" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="el" href="classllvm_1_1ilist__node__impl.html">IdxUseInstr</a>, <a class="el" href="classunsigned.html">unsigned</a> OpIdx, <a class="el" href="classunsigned.html">unsigned</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">ConstOffset</a>)</td></tr>
<tr class="memdesc:aeae677889401c02a8def9a0508e858c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility function for pushing dynamic vector indexes with a constant offset into waterfall loops.  <br /></td></tr>
<tr class="separator:aeae677889401c02a8def9a0508e858c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6448cfc677ca653b92b0c0bf5f3b29cd" id="r_a6448cfc677ca653b92b0c0bf5f3b29cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6448cfc677ca653b92b0c0bf5f3b29cd">extendLow32IntoHigh32</a> (<a class="el" href="classllvm_1_1MachineIRBuilder.html">MachineIRBuilder</a> &amp;<a class="el" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>, <a class="el" href="classllvm_1_1Register.html">Register</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">Hi32Reg</a>, <a class="el" href="classllvm_1_1Register.html">Register</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">Lo32Reg</a>, <a class="el" href="classunsigned.html">unsigned</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">ExtOpc</a>, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1RegisterBank.html">RegisterBank</a> &amp;RegBank, <a class="el" href="classbool.html">bool</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">IsBooleanSrc</a>=false)</td></tr>
<tr class="memdesc:a6448cfc677ca653b92b0c0bf5f3b29cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implement extending a 32-bit value to a 64-bit value.  <br /></td></tr>
<tr class="separator:a6448cfc677ca653b92b0c0bf5f3b29cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51f39da29f54df5f90a0752608d8f8c1" id="r_a51f39da29f54df5f90a0752608d8f8c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> <a class="el" href="classllvm_1_1Register.html">Register</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a51f39da29f54df5f90a0752608d8f8c1">constrainRegToBank</a> (<a class="el" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="el" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, <a class="el" href="classllvm_1_1MachineIRBuilder.html">MachineIRBuilder</a> &amp;<a class="el" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>, <a class="el" href="classllvm_1_1Register.html">Register</a> &amp;<a class="el" href="MachineSink_8cpp.html#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1RegisterBank.html">RegisterBank</a> &amp;Bank)</td></tr>
<tr class="separator:a51f39da29f54df5f90a0752608d8f8c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cf2c2b46650c2af4ba811f1b08156e7" id="r_a9cf2c2b46650c2af4ba811f1b08156e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> <a class="el" href="classunsigned.html">unsigned</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9cf2c2b46650c2af4ba811f1b08156e7">regBankUnion</a> (<a class="el" href="classunsigned.html">unsigned</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">RB0</a>, <a class="el" href="classunsigned.html">unsigned</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">RB1</a>)</td></tr>
<tr class="separator:a9cf2c2b46650c2af4ba811f1b08156e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1130bcafa3946d26a8db4ed3e3ff454c" id="r_a1130bcafa3946d26a8db4ed3e3ff454c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> <a class="el" href="classunsigned.html">unsigned</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1130bcafa3946d26a8db4ed3e3ff454c">regBankBoolUnion</a> (<a class="el" href="classunsigned.html">unsigned</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">RB0</a>, <a class="el" href="classunsigned.html">unsigned</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">RB1</a>)</td></tr>
<tr class="separator:a1130bcafa3946d26a8db4ed3e3ff454c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file implements the targeting of the RegisterBankInfo class for AMDGPU. </p>
<dl class="section user"><dt></dt><dd></dd></dl>
<p>AMDGPU has unique register bank constraints that require special high level strategies to deal with. There are two main true physical register banks VGPR (vector), and SGPR (scalar). Additionally the VCC register bank is a sort of pseudo-register bank needed to represent SGPRs used in a vector boolean context. There is also the AGPR bank, which is a special purpose physical register bank present on some subtargets.</p>
<p>Copying from VGPR to SGPR is generally illegal, unless the value is known to be uniform. It is generally not valid to legalize operands by inserting copies as on other targets. Operations which require uniform, SGPR operands generally require scalarization by repeatedly executing the instruction, activating each set of lanes using a unique set of input values. This is referred to as a waterfall loop.</p>
<dl class="section user"><dt>Booleans</dt><dd></dd></dl>
<p>Booleans (s1 values) requires special consideration. A vector compare result is naturally a bitmask with one bit per lane, in a 32 or 64-bit register. These are represented with the VCC bank. During selection, we need to be able to unambiguously go back from a register class to a register bank. To distinguish whether an SGPR should use the SGPR or VCC register bank, we need to know the use context type. An SGPR s1 value always means a VCC bank value, otherwise it will be the SGPR bank. A scalar compare sets SCC, which is a 1-bit unaddressable register. This will need to be copied to a 32-bit virtual register. Taken together, this means we need to adjust the type of boolean operations to be regbank legal. All SALU booleans need to be widened to 32-bits, and all VALU booleans need to be s1 values.</p>
<p>A noteworthy exception to the s1-means-vcc rule is for legalization artifact casts. G_TRUNC s1 results, and G_SEXT/G_ZEXT/G_ANYEXT sources are never vcc bank. A non-boolean source (such as a truncate from a 1-bit load from memory) will require a copy to the VCC bank which will require clearing the high bits and inserting a compare.</p>
<dl class="section user"><dt>Constant bus restriction</dt><dd></dd></dl>
<p>VALU instructions have a limitation known as the constant bus restriction. Most VALU instructions can use SGPR operands, but may read at most 1 SGPR or constant literal value (this to 2 in gfx10 for most instructions). This is one unique SGPR, so the same SGPR may be used for multiple operands. From a register bank perspective, any combination of operands should be legal as an SGPR, but this is contextually dependent on the SGPR operands all being the same register. There is therefore optimal to choose the SGPR with the most uses to minimize the number of copies.</p>
<p>We avoid trying to solve this problem in RegBankSelect. Any VALU G_* operation should have its source operands all mapped to VGPRs (except for VCC), inserting copies from any SGPR operands. This the most trivial legal mapping. Anything beyond the simplest 1:1 instruction selection would be too complicated to solve here. Every optimization pattern or instruction selected to multiple outputs would have to enforce this rule, and there would be additional complexity in tracking this rule for every G_* operation. By forcing all inputs to VGPRs, it also simplifies the task of picking the optimal operand combination from a post-isel optimization pass. </p>

<p class="definition">Definition in file <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html">AMDGPURegisterBankInfo.cpp</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a3184bd75cc7f72f64f0ed5364ba90b08" name="a3184bd75cc7f72f64f0ed5364ba90b08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3184bd75cc7f72f64f0ed5364ba90b08">&#9670;&#160;</a></span>GET_TARGET_REGBANK_IMPL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GET_TARGET_REGBANK_IMPL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l00086">86</a> of file <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html">AMDGPURegisterBankInfo.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a51f39da29f54df5f90a0752608d8f8c1" name="a51f39da29f54df5f90a0752608d8f8c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51f39da29f54df5f90a0752608d8f8c1">&#9670;&#160;</a></span>constrainRegToBank()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> <a class="el" href="classllvm_1_1Register.html">Register</a> constrainRegToBank </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>MRI</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MachineIRBuilder.html">MachineIRBuilder</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>B</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Register.html">Register</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>Reg</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1RegisterBank.html">RegisterBank</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>Bank</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l02002">2002</a> of file <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html">AMDGPURegisterBankInfo.cpp</a>.</p>

<p class="reference">References <a class="el" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>, <a class="el" href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00105">MRI</a>, and <a class="el" href="MachineSink_8cpp_source.html#l01626">Reg</a>.</p>

</div>
</div>
<a id="a6448cfc677ca653b92b0c0bf5f3b29cd" name="a6448cfc677ca653b92b0c0bf5f3b29cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6448cfc677ca653b92b0c0bf5f3b29cd">&#9670;&#160;</a></span>extendLow32IntoHigh32()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">void</a> extendLow32IntoHigh32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MachineIRBuilder.html">MachineIRBuilder</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>B</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Register.html">Register</a></td>          <td class="paramname"><span class="paramname"><em>Hi32Reg</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Register.html">Register</a></td>          <td class="paramname"><span class="paramname"><em>Lo32Reg</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a></td>          <td class="paramname"><span class="paramname"><em>ExtOpc</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1RegisterBank.html">RegisterBank</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>RegBank</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a></td>          <td class="paramname"><span class="paramname"><em>IsBooleanSrc</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implement extending a 32-bit value to a 64-bit value. </p>
<p><code>Lo32Reg</code> is the original 32-bit source value (to be inserted in the low part of the combined 64-bit result), and <code>Hi32Reg</code> is the high half of the combined 64-bit value. </p>

<p class="definition">Definition at line <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l01894">1894</a> of file <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html">AMDGPURegisterBankInfo.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>, and <a class="el" href="LowLevelType_8h_source.html#l00042">llvm::LLT::scalar()</a>.</p>

<p class="reference">Referenced by <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l02105">llvm::AMDGPURegisterBankInfo::applyMappingImpl()</a>.</p>

</div>
</div>
<a id="a51e652265b0217f8fdba9f95129c0d47" name="a51e652265b0217f8fdba9f95129c0d47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51e652265b0217f8fdba9f95129c0d47">&#9670;&#160;</a></span>getBaseWithConstantOffset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> std::pair&lt; <a class="el" href="classllvm_1_1Register.html">Register</a>, <a class="el" href="classunsigned.html">unsigned</a> &gt; getBaseWithConstantOffset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>MRI</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Register.html">Register</a></td>          <td class="paramname"><span class="paramname"><em>Reg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l01779">1779</a> of file <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html">AMDGPURegisterBankInfo.cpp</a>.</p>

<p class="reference">References <a class="el" href="Discriminator_8h_source.html#l00058">llvm::sampleprof::Base</a>, <a class="el" href="MIPatternMatch_8h_source.html#l00451">llvm::MIPatternMatch::m_GAdd()</a>, <a class="el" href="MIPatternMatch_8h_source.html#l00093">llvm::MIPatternMatch::m_ICst()</a>, <a class="el" href="MIPatternMatch_8h_source.html#l00270">llvm::MIPatternMatch::m_Reg()</a>, <a class="el" href="MIPatternMatch_8h_source.html#l00025">llvm::MIPatternMatch::mi_match()</a>, <a class="el" href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00105">MRI</a>, and <a class="el" href="Mem2Reg_8cpp_source.html#l00114">Register</a>.</p>

<p class="reference">Referenced by <a class="el" href="PPCISelLowering_8cpp_source.html#l13530">getBaseWithConstantOffset()</a>, <a class="el" href="PPCISelLowering_8cpp_source.html#l13542">isConsecutiveLSLoc()</a>, and <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l01793">llvm::AMDGPURegisterBankInfo::splitBufferOffsets()</a>.</p>

</div>
</div>
<a id="a79ebc5d429e92dbe3e0c6009ec8e55b4" name="a79ebc5d429e92dbe3e0c6009ec8e55b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79ebc5d429e92dbe3e0c6009ec8e55b4">&#9670;&#160;</a></span>getExtendOp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> <a class="el" href="classunsigned.html">unsigned</a> getExtendOp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a></td>          <td class="paramname"><span class="paramname"><em>Opc</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l01700">1700</a> of file <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html">AMDGPURegisterBankInfo.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l02105">llvm::AMDGPURegisterBankInfo::applyMappingImpl()</a>.</p>

</div>
</div>
<a id="afa3232adbead0d5386a1e7636a9d772f" name="afa3232adbead0d5386a1e7636a9d772f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa3232adbead0d5386a1e7636a9d772f">&#9670;&#160;</a></span>getHalfSizedType()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> <a class="el" href="classllvm_1_1LLT.html">LLT</a> getHalfSizedType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LLT.html">LLT</a></td>          <td class="paramname"><span class="paramname"><em>Ty</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l00675">675</a> of file <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html">AMDGPURegisterBankInfo.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="LowLevelType_8h_source.html#l00042">llvm::LLT::scalar()</a>, and <a class="el" href="LowLevelType_8h_source.html#l00100">llvm::LLT::scalarOrVector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l02105">llvm::AMDGPURegisterBankInfo::applyMappingImpl()</a>.</p>

</div>
</div>
<a id="abb0fc37a646fdbbe1e832d3c7720e915" name="abb0fc37a646fdbbe1e832d3c7720e915"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb0fc37a646fdbbe1e832d3c7720e915">&#9670;&#160;</a></span>isScalarLoadLegal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> <a class="el" href="classbool.html">bool</a> isScalarLoadLegal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>MI</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l00436">436</a> of file <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html">AMDGPURegisterBankInfo.cpp</a>.</p>

<p class="reference">References <a class="el" href="ELFObjHandler_8cpp_source.html#l00082">Align</a>, <a class="el" href="AMDGPU_8h_source.html#l00367">llvm::AMDGPUAS::CONSTANT_ADDRESS</a>, <a class="el" href="AMDGPU_8h_source.html#l00371">llvm::AMDGPUAS::CONSTANT_ADDRESS_32BIT</a>, <a class="el" href="MachineMemOperand_8h_source.html#l00229">llvm::MachineMemOperand::getAddrSpace()</a>, <a class="el" href="MachineOperand_8cpp_source.html#l01119">llvm::MachineMemOperand::getAlign()</a>, <a class="el" href="MachineMemOperand_8h_source.html#l00220">llvm::MachineMemOperand::getFlags()</a>, <a class="el" href="MachineMemOperand_8h_source.html#l00297">llvm::MachineMemOperand::isAtomic()</a>, <a class="el" href="MachineMemOperand_8h_source.html#l00293">llvm::MachineMemOperand::isInvariant()</a>, <a class="el" href="AMDGPUInstrInfo_8cpp_source.html#l00031">llvm::AMDGPUInstrInfo::isUniformMMO()</a>, <a class="el" href="MachineMemOperand_8h_source.html#l00290">llvm::MachineMemOperand::isVolatile()</a>, <a class="el" href="IRTranslator_8cpp_source.html#l00110">MI</a>, and <a class="el" href="SIInstrInfo_8h_source.html#l00041">llvm::MONoClobber</a>.</p>

<p class="reference">Referenced by <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l01051">llvm::AMDGPURegisterBankInfo::applyMappingLoad()</a>, <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l00457">llvm::AMDGPURegisterBankInfo::getInstrAlternativeMappings()</a>, and <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l03437">llvm::AMDGPURegisterBankInfo::getInstrMappingForLoad()</a>.</p>

</div>
</div>
<a id="a8c6b6408d508158782ddfaf264a20641" name="a8c6b6408d508158782ddfaf264a20641"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c6b6408d508158782ddfaf264a20641">&#9670;&#160;</a></span>isVectorRegisterBank()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> <a class="el" href="classbool.html">bool</a> isVectorRegisterBank </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1RegisterBank.html">RegisterBank</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>Bank</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l00213">213</a> of file <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html">AMDGPURegisterBankInfo.cpp</a>.</p>

<p class="reference">References <a class="el" href="RegisterBank_8h_source.html#l00046">llvm::RegisterBank::getID()</a>.</p>

<p class="reference">Referenced by <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l00222">llvm::AMDGPURegisterBankInfo::copyCost()</a>.</p>

</div>
</div>
<a id="a1130bcafa3946d26a8db4ed3e3ff454c" name="a1130bcafa3946d26a8db4ed3e3ff454c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1130bcafa3946d26a8db4ed3e3ff454c">&#9670;&#160;</a></span>regBankBoolUnion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> <a class="el" href="classunsigned.html">unsigned</a> regBankBoolUnion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a></td>          <td class="paramname"><span class="paramname"><em>RB0</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a></td>          <td class="paramname"><span class="paramname"><em>RB1</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l03267">3267</a> of file <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html">AMDGPURegisterBankInfo.cpp</a>.</p>

<p class="reference">References <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l03252">regBankUnion()</a>.</p>

<p class="reference">Referenced by <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l03528">llvm::AMDGPURegisterBankInfo::getInstrMapping()</a>.</p>

</div>
</div>
<a id="a9cf2c2b46650c2af4ba811f1b08156e7" name="a9cf2c2b46650c2af4ba811f1b08156e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cf2c2b46650c2af4ba811f1b08156e7">&#9670;&#160;</a></span>regBankUnion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> <a class="el" href="classunsigned.html">unsigned</a> regBankUnion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a></td>          <td class="paramname"><span class="paramname"><em>RB0</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a></td>          <td class="paramname"><span class="paramname"><em>RB1</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l03252">3252</a> of file <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html">AMDGPURegisterBankInfo.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l03528">llvm::AMDGPURegisterBankInfo::getInstrMapping()</a>, <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l03283">llvm::AMDGPURegisterBankInfo::getMappingType()</a>, and <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l03267">regBankBoolUnion()</a>.</p>

</div>
</div>
<a id="aeae677889401c02a8def9a0508e858c7" name="aeae677889401c02a8def9a0508e858c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeae677889401c02a8def9a0508e858c7">&#9670;&#160;</a></span>reinsertVectorIndexAdd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">void</a> reinsertVectorIndexAdd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MachineIRBuilder.html">MachineIRBuilder</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>B</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>IdxUseInstr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a></td>          <td class="paramname"><span class="paramname"><em>OpIdx</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a></td>          <td class="paramname"><span class="paramname"><em>ConstOffset</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utility function for pushing dynamic vector indexes with a constant offset into waterfall loops. </p>

<p class="definition">Definition at line <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l01873">1873</a> of file <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html">AMDGPURegisterBankInfo.cpp</a>.</p>

<p class="reference">References <a class="el" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830eaec211f7c20af43e742bf2570c3cb84f9">llvm::Add</a>, <a class="el" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>, <a class="el" href="ilist__node_8h_source.html#l00082">llvm::ilist_node_impl&lt; OptionsT &gt;::getIterator()</a>, <a class="el" href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00105">MRI</a>, and <a class="el" href="LowLevelType_8h_source.html#l00042">llvm::LLT::scalar()</a>.</p>

<p class="reference">Referenced by <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l02105">llvm::AMDGPURegisterBankInfo::applyMappingImpl()</a>.</p>

</div>
</div>
<a id="abd86d813757b6a6e4b94c03a856002a4" name="abd86d813757b6a6e4b94c03a856002a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd86d813757b6a6e4b94c03a856002a4">&#9670;&#160;</a></span>setRegsToType()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">void</a> setRegsToType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>MRI</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Register.html">Register</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>Regs</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LLT.html">LLT</a></td>          <td class="paramname"><span class="paramname"><em>NewTy</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Replace the current type each register in <code>Regs</code> has with <code>NewTy</code>. </p>

<p class="definition">Definition at line <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l00667">667</a> of file <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html">AMDGPURegisterBankInfo.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, and <a class="el" href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00105">MRI</a>.</p>

<p class="reference">Referenced by <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l02105">llvm::AMDGPURegisterBankInfo::applyMappingImpl()</a>.</p>

</div>
</div>
<a id="ab4c2bc39e4119d3c2098986cfd7be179" name="ab4c2bc39e4119d3c2098986cfd7be179"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4c2bc39e4119d3c2098986cfd7be179">&#9670;&#160;</a></span>splitUnequalType()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> std::pair&lt; <a class="el" href="classllvm_1_1LLT.html">LLT</a>, <a class="el" href="classllvm_1_1LLT.html">LLT</a> &gt; splitUnequalType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LLT.html">LLT</a></td>          <td class="paramname"><span class="paramname"><em>Ty</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a></td>          <td class="paramname"><span class="paramname"><em>FirstSize</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Split <code>Ty</code> into 2 pieces. </p>
<p>The first will have <code>FirstSize</code> bits, and the rest will be in the remainder. </p>

<p class="definition">Definition at line <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l01026">1026</a> of file <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html">AMDGPURegisterBankInfo.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="LowLevelType_8h_source.html#l00256">llvm::LLT::getElementType()</a>, <a class="el" href="TypeSize_8h_source.html#l00291">llvm::ElementCount::getFixed()</a>, <a class="el" href="LowLevelType_8h_source.html#l00159">llvm::LLT::getSizeInBits()</a>, <a class="el" href="LowLevelType_8h_source.html#l00042">llvm::LLT::scalar()</a>, and <a class="el" href="LowLevelType_8h_source.html#l00100">llvm::LLT::scalarOrVector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l01051">llvm::AMDGPURegisterBankInfo::applyMappingLoad()</a>.</p>

</div>
</div>
<a id="a0f1b1f36c5069336e43ad70639b7f176" name="a0f1b1f36c5069336e43ad70639b7f176"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f1b1f36c5069336e43ad70639b7f176">&#9670;&#160;</a></span>substituteSimpleCopyRegs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> <a class="el" href="classbool.html">bool</a> substituteSimpleCopyRegs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> AMDGPURegisterBankInfo::OperandsMapper &amp;</td>          <td class="paramname"><span class="paramname"><em>OpdMapper</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a></td>          <td class="paramname"><span class="paramname"><em>OpIdx</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l01740">1740</a> of file <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html">AMDGPURegisterBankInfo.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>.</p>

<p class="reference">Referenced by <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l02105">llvm::AMDGPURegisterBankInfo::applyMappingImpl()</a>.</p>

</div>
</div>
<a id="a5227e311d2ae980540efa4033943595e" name="a5227e311d2ae980540efa4033943595e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5227e311d2ae980540efa4033943595e">&#9670;&#160;</a></span>unpackV2S16ToS32()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> std::pair&lt; <a class="el" href="classllvm_1_1Register.html">Register</a>, <a class="el" href="classllvm_1_1Register.html">Register</a> &gt; unpackV2S16ToS32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MachineIRBuilder.html">MachineIRBuilder</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>B</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Register.html">Register</a></td>          <td class="paramname"><span class="paramname"><em>Src</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a></td>          <td class="paramname"><span class="paramname"><em>ExtOpcode</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l01718">1718</a> of file <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html">AMDGPURegisterBankInfo.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>, and <a class="el" href="LowLevelType_8h_source.html#l00042">llvm::LLT::scalar()</a>.</p>

<p class="reference">Referenced by <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l02105">llvm::AMDGPURegisterBankInfo::applyMappingImpl()</a>.</p>

</div>
</div>
<a id="af1deb020986939504194841306a9da79" name="af1deb020986939504194841306a9da79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1deb020986939504194841306a9da79">&#9670;&#160;</a></span>widen96To128()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> <a class="el" href="classllvm_1_1LLT.html">LLT</a> widen96To128 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LLT.html">LLT</a></td>          <td class="paramname"><span class="paramname"><em>Ty</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l01042">1042</a> of file <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html">AMDGPURegisterBankInfo.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="LowLevelType_8h_source.html#l00076">llvm::LLT::fixed_vector()</a>, <a class="el" href="LowLevelType_8h_source.html#l00256">llvm::LLT::getElementType()</a>, <a class="el" href="LowLevelType_8h_source.html#l00159">llvm::LLT::getSizeInBits()</a>, and <a class="el" href="LowLevelType_8h_source.html#l00042">llvm::LLT::scalar()</a>.</p>

<p class="reference">Referenced by <a class="el" href="AMDGPURegisterBankInfo_8cpp_source.html#l01051">llvm::AMDGPURegisterBankInfo::applyMappingLoad()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Feb 21 2024 13:50:38 for LLVM by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
