<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/IPO/Inliner.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LLVM<span id="projectnumber">&#160;12.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_13abb262e9c52ddea8d07639819afd6c.html">IPO</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">Inliner.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="Inliner_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">//===- Inliner.cpp - Code common to all inliners --------------------------===//</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">//</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">//</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">//</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">// This file implements the mechanics required to implement inlining without</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">// missing any calls and updating the call graph.  The decisions of which calls</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">// are profitable to inline are implemented elsewhere.</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">//</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span> </div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &quot;<a class="code" href="Inliner_8h.html">llvm/Transforms/IPO/Inliner.h</a>&quot;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &quot;<a class="code" href="None_8h.html">llvm/ADT/None.h</a>&quot;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &quot;<a class="code" href="Optional_8h.html">llvm/ADT/Optional.h</a>&quot;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &quot;<a class="code" href="ScopeExit_8h.html">llvm/ADT/ScopeExit.h</a>&quot;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &quot;<a class="code" href="SetVector_8h.html">llvm/ADT/SetVector.h</a>&quot;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;<a class="code" href="StringRef_8h.html">llvm/ADT/StringRef.h</a>&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &quot;<a class="code" href="AssumptionCache_8h.html">llvm/Analysis/AssumptionCache.h</a>&quot;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &quot;<a class="code" href="BasicAliasAnalysis_8h.html">llvm/Analysis/BasicAliasAnalysis.h</a>&quot;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;<a class="code" href="BlockFrequencyInfo_8h.html">llvm/Analysis/BlockFrequencyInfo.h</a>&quot;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &quot;<a class="code" href="CGSCCPassManager_8h.html">llvm/Analysis/CGSCCPassManager.h</a>&quot;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &quot;<a class="code" href="CallGraph_8h.html">llvm/Analysis/CallGraph.h</a>&quot;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &quot;<a class="code" href="GlobalsModRef_8h.html">llvm/Analysis/GlobalsModRef.h</a>&quot;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &quot;<a class="code" href="InlineAdvisor_8h.html">llvm/Analysis/InlineAdvisor.h</a>&quot;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &quot;<a class="code" href="InlineCost_8h.html">llvm/Analysis/InlineCost.h</a>&quot;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#include &quot;<a class="code" href="LazyCallGraph_8h.html">llvm/Analysis/LazyCallGraph.h</a>&quot;</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#include &quot;<a class="code" href="OptimizationRemarkEmitter_8h.html">llvm/Analysis/OptimizationRemarkEmitter.h</a>&quot;</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#include &quot;<a class="code" href="ProfileSummaryInfo_8h.html">llvm/Analysis/ProfileSummaryInfo.h</a>&quot;</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="preprocessor">#include &quot;<a class="code" href="TargetLibraryInfo_8h.html">llvm/Analysis/TargetLibraryInfo.h</a>&quot;</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#include &quot;<a class="code" href="TargetTransformInfo_8h.html">llvm/Analysis/TargetTransformInfo.h</a>&quot;</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="preprocessor">#include &quot;<a class="code" href="ImportedFunctionsInliningStatistics_8h.html">llvm/Analysis/Utils/ImportedFunctionsInliningStatistics.h</a>&quot;</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="preprocessor">#include &quot;<a class="code" href="Attributes_8h.html">llvm/IR/Attributes.h</a>&quot;</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="preprocessor">#include &quot;<a class="code" href="BasicBlock_8h.html">llvm/IR/BasicBlock.h</a>&quot;</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="preprocessor">#include &quot;<a class="code" href="DataLayout_8h.html">llvm/IR/DataLayout.h</a>&quot;</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="preprocessor">#include &quot;<a class="code" href="DebugLoc_8h.html">llvm/IR/DebugLoc.h</a>&quot;</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="preprocessor">#include &quot;<a class="code" href="DerivedTypes_8h.html">llvm/IR/DerivedTypes.h</a>&quot;</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="preprocessor">#include &quot;<a class="code" href="DiagnosticInfo_8h.html">llvm/IR/DiagnosticInfo.h</a>&quot;</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="preprocessor">#include &quot;<a class="code" href="InstIterator_8h.html">llvm/IR/InstIterator.h</a>&quot;</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="preprocessor">#include &quot;<a class="code" href="IR_2Instruction_8h.html">llvm/IR/Instruction.h</a>&quot;</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="preprocessor">#include &quot;<a class="code" href="Metadata_8h.html">llvm/IR/Metadata.h</a>&quot;</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><span class="preprocessor">#include &quot;<a class="code" href="PassManager_8h.html">llvm/IR/PassManager.h</a>&quot;</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="preprocessor">#include &quot;<a class="code" href="User_8h.html">llvm/IR/User.h</a>&quot;</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><span class="preprocessor">#include &quot;<a class="code" href="Value_8h.html">llvm/IR/Value.h</a>&quot;</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="preprocessor">#include &quot;<a class="code" href="Pass_8h.html">llvm/Pass.h</a>&quot;</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="preprocessor">#include &quot;<a class="code" href="Casting_8h.html">llvm/Support/Casting.h</a>&quot;</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span><span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span><span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span><span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span><span class="preprocessor">#include &quot;<a class="code" href="CallPromotionUtils_8h.html">llvm/Transforms/Utils/CallPromotionUtils.h</a>&quot;</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span><span class="preprocessor">#include &quot;<a class="code" href="Cloning_8h.html">llvm/Transforms/Utils/Cloning.h</a>&quot;</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="preprocessor">#include &quot;<a class="code" href="Transforms_2Utils_2Local_8h.html">llvm/Transforms/Utils/Local.h</a>&quot;</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><span class="preprocessor">#include &quot;<a class="code" href="ModuleUtils_8h.html">llvm/Transforms/Utils/ModuleUtils.h</a>&quot;</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span><span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span><span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span><span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span><span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span><span class="preprocessor">#include &lt;tuple&gt;</span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span><span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span> </div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span> </div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno"><a class="line" href="Inliner_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   75</a></span><span class="preprocessor">#define DEBUG_TYPE &quot;inline&quot;</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span> </div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno"><a class="line" href="Inliner_8cpp.html#a2cf0e6f0f7276ef3e449c577776a8d79">   77</a></span><a class="code hl_define" href="Statistic_8h.html#ad6117415b93e5675d5a6c8e1855b3b2f">STATISTIC</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NumInlined</a>, <span class="stringliteral">&quot;Number of functions inlined&quot;</span>);</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno"><a class="line" href="Inliner_8cpp.html#a63cce810e9ae32414a2f36247ac4e2e2">   78</a></span><a class="code hl_define" href="Statistic_8h.html#ad6117415b93e5675d5a6c8e1855b3b2f">STATISTIC</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NumCallsDeleted</a>, <span class="stringliteral">&quot;Number of call sites deleted, not inlined&quot;</span>);</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno"><a class="line" href="Inliner_8cpp.html#a43a412412dba52a42755ef315b5a1d10">   79</a></span><a class="code hl_define" href="Statistic_8h.html#ad6117415b93e5675d5a6c8e1855b3b2f">STATISTIC</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NumDeleted</a>, <span class="stringliteral">&quot;Number of functions deleted because all callers found&quot;</span>);</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno"><a class="line" href="Inliner_8cpp.html#aae6a9e5e2ed6463cd2cc482e705cabd0">   80</a></span><a class="code hl_define" href="Statistic_8h.html#ad6117415b93e5675d5a6c8e1855b3b2f">STATISTIC</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NumMergedAllocas</a>, <span class="stringliteral">&quot;Number of allocas merged together&quot;</span>);</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span><span class="comment"></span> </div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span><span class="comment">/// Flag to disable manual alloca merging.</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span><span class="comment">///</span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span><span class="comment">/// Merging of allocas was originally done as a stack-size saving technique</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span><span class="comment">/// prior to LLVM&#39;s code generator having support for stack coloring based on</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span><span class="comment">/// lifetime markers. It is now in the process of being removed. To experiment</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span><span class="comment">/// with disabling it and relying fully on lifetime marker based stack</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span><span class="comment">/// coloring, you can pass this flag to LLVM.</span></div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span><span class="comment"></span><span class="keyword">static</span> <a class="code hl_class" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno"><a class="line" href="Inliner_8cpp.html#ab3fd3da39238388603e77cadb102ee5c">   90</a></span>    <a class="code hl_variable" href="Inliner_8cpp.html#ab3fd3da39238388603e77cadb102ee5c">DisableInlinedAllocaMerging</a>(<span class="stringliteral">&quot;disable-inlined-alloca-merging&quot;</span>,</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>                                <a class="code hl_function" href="namespacellvm_1_1cl.html#ac12e6a8f3a1b511f0dee2ed6de0ae806">cl::init</a>(<span class="keyword">false</span>), <a class="code hl_enumvalue" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span> </div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span><span class="keyword">extern</span> <a class="code hl_class" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;InlinerFunctionImportStatsOpts&gt;</a> <a class="code hl_variable" href="Inliner_8cpp.html#a278a797d47de053934b02441a306d6a7">InlinerFunctionImportStats</a>;</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span> </div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno"><a class="line" href="Inliner_8cpp.html#a376ef0ac66e97ad474ee2bbffadde359">   95</a></span><span class="keyword">static</span> <a class="code hl_class" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;std::string&gt;</a> <a class="code hl_variable" href="Inliner_8cpp.html#a376ef0ac66e97ad474ee2bbffadde359">CGSCCInlineReplayFile</a>(</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    <span class="stringliteral">&quot;cgscc-inline-replay&quot;</span>, <a class="code hl_function" href="namespacellvm_1_1cl.html#ac12e6a8f3a1b511f0dee2ed6de0ae806">cl::init</a>(<span class="stringliteral">&quot;&quot;</span>), <a class="code hl_struct" href="structllvm_1_1cl_1_1value__desc.html">cl::value_desc</a>(<span class="stringliteral">&quot;filename&quot;</span>),</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    <a class="code hl_struct" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>        <span class="stringliteral">&quot;Optimization remarks file containing inline remarks to be replayed &quot;</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>        <span class="stringliteral">&quot;by inlining from cgscc inline remarks.&quot;</span>),</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>    <a class="code hl_enumvalue" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span> </div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno"><a class="line" href="structllvm_1_1LegacyInlinerBase.html#a6fa5720081fc61d2458e38f05aaad4b7">  102</a></span><a class="code hl_function" href="structllvm_1_1LegacyInlinerBase.html#a6fa5720081fc61d2458e38f05aaad4b7">LegacyInlinerBase::LegacyInlinerBase</a>(<span class="keywordtype">char</span> &amp;ID) : <a class="code hl_class" href="classllvm_1_1CallGraphSCCPass.html">CallGraphSCCPass</a>(ID) {}</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span> </div>
<div class="foldopen" id="foldopen00104" data-start="{" data-end="}">
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno"><a class="line" href="structllvm_1_1LegacyInlinerBase.html#a4069d4811605a187af9a81dc512eeea8">  104</a></span><a class="code hl_function" href="structllvm_1_1LegacyInlinerBase.html#a6fa5720081fc61d2458e38f05aaad4b7">LegacyInlinerBase::LegacyInlinerBase</a>(<span class="keywordtype">char</span> &amp;ID, <span class="keywordtype">bool</span> InsertLifetime)</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    : <a class="code hl_class" href="classllvm_1_1CallGraphSCCPass.html">CallGraphSCCPass</a>(ID), InsertLifetime(InsertLifetime) {}</div>
</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span><span class="comment"></span> </div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span><span class="comment">/// For this class, we declare that we require and preserve the call graph.</span></div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span><span class="comment">/// If the derived class implements this method, it should</span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span><span class="comment">/// always explicitly call the implementation here.</span></div>
<div class="foldopen" id="foldopen00110" data-start="{" data-end="}">
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno"><a class="line" href="structllvm_1_1LegacyInlinerBase.html#ad902305635f915a580455ba5fbe6fa78">  110</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="structllvm_1_1LegacyInlinerBase.html#ad902305635f915a580455ba5fbe6fa78">LegacyInlinerBase::getAnalysisUsage</a>(<a class="code hl_class" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>  AU.<a class="code hl_function" href="classllvm_1_1AnalysisUsage.html#ae0adcccca08fb686c9ce00f9397b660c">addRequired</a>&lt;<a class="code hl_class" href="classllvm_1_1AssumptionCacheTracker.html">AssumptionCacheTracker</a>&gt;();</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>  AU.<a class="code hl_function" href="classllvm_1_1AnalysisUsage.html#ae0adcccca08fb686c9ce00f9397b660c">addRequired</a>&lt;<a class="code hl_class" href="classllvm_1_1ProfileSummaryInfoWrapperPass.html">ProfileSummaryInfoWrapperPass</a>&gt;();</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>  AU.<a class="code hl_function" href="classllvm_1_1AnalysisUsage.html#ae0adcccca08fb686c9ce00f9397b660c">addRequired</a>&lt;<a class="code hl_class" href="classllvm_1_1TargetLibraryInfoWrapperPass.html">TargetLibraryInfoWrapperPass</a>&gt;();</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>  <a class="code hl_function" href="namespacellvm.html#ac08ed1ec3e6d465de23a2a6100d5df38">getAAResultsAnalysisUsage</a>(AU);</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>  <a class="code hl_function" href="classllvm_1_1CallGraphSCCPass.html#a6cc67c5a27b53bc940d292c0aeb6aba3">CallGraphSCCPass::getAnalysisUsage</a>(AU);</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>}</div>
</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span> </div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno"><a class="line" href="Inliner_8cpp.html#a302ad729c05a325323d9dd0b85037ec4">  118</a></span><span class="keyword">using </span><a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlinedArrayAllocasTy</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DenseMap&lt;ArrayType *, std::vector&lt;AllocaInst *&gt;</a>&gt;;</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span><span class="comment"></span> </div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span><span class="comment">/// Look at all of the allocas that we inlined through this call site.  If we</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span><span class="comment">/// have already inlined other allocas through other calls into this function,</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span><span class="comment">/// then we know that they have disjoint lifetimes and that we can merge them.</span></div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span><span class="comment">///</span></div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span><span class="comment">/// There are many heuristics possible for merging these allocas, and the</span></div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span><span class="comment">/// different options have different tradeoffs.  One thing that we *really*</span></div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span><span class="comment">/// don&#39;t want to hurt is SRoA: once inlining happens, often allocas are no</span></div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span><span class="comment">/// longer address taken and so they can be promoted.</span></div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span><span class="comment">///</span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span><span class="comment">/// Our &quot;solution&quot; for that is to only merge allocas whose outermost type is an</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span><span class="comment">/// array type.  These are usually not promoted because someone is using a</span></div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span><span class="comment">/// variable index into them.  These are also often the most important ones to</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span><span class="comment">/// merge.</span></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span><span class="comment">///</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span><span class="comment">/// A better solution would be to have real memory lifetime markers in the IR</span></div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span><span class="comment">/// and not have the inliner do any merging of allocas at all.  This would</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span><span class="comment">/// allow the backend to do proper stack slot coloring of all allocas that</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span><span class="comment">/// *actually make it to the backend*, which is really what we want.</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span><span class="comment">///</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span><span class="comment">/// Because we don&#39;t have this information, we do this simple and useful hack.</span></div>
<div class="foldopen" id="foldopen00140" data-start="{" data-end="}">
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno"><a class="line" href="Inliner_8cpp.html#a9e4999207cf9e82c0ccc74d2a6040c15">  140</a></span><span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="Inliner_8cpp.html#a9e4999207cf9e82c0ccc74d2a6040c15">mergeInlinedArrayAllocas</a>(<a class="code hl_class" href="classllvm_1_1Function.html">Function</a> *Caller, <a class="code hl_class" href="classllvm_1_1InlineFunctionInfo.html">InlineFunctionInfo</a> &amp;<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IFI</a>,</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>                                     <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlinedArrayAllocasTy</a> &amp;<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlinedArrayAllocas</a>,</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>                                     <span class="keywordtype">int</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistory</a>) {</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallPtrSet&lt;AllocaInst *, 16&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">UsedAllocas</a>;</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span> </div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>  <span class="comment">// When processing our SCC, check to see if the call site was inlined from</span></div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>  <span class="comment">// some other call site.  For example, if we&#39;re processing &quot;A&quot; in this code:</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>  <span class="comment">//   A() { B() }</span></div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>  <span class="comment">//   B() { x = alloca ... C() }</span></div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>  <span class="comment">//   C() { y = alloca ... }</span></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>  <span class="comment">// Assume that C was not inlined into B initially, and so we&#39;re processing A</span></div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>  <span class="comment">// and decide to inline B into A.  Doing this makes an alloca available for</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>  <span class="comment">// reuse and makes a callsite (C) available for inlining.  When we process</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>  <span class="comment">// the C call site we don&#39;t want to do any alloca merging between X and Y</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>  <span class="comment">// because their scopes are not disjoint.  We could make this smarter by</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>  <span class="comment">// keeping track of the inline history for each alloca in the</span></div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>  <span class="comment">// InlinedArrayAllocas but this isn&#39;t likely to be a significant win.</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistory</a> != -1) <span class="comment">// Only do merging for top-level call sites in SCC.</span></div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span> </div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>  <span class="comment">// Loop over all the allocas we have so far and see if they can be merged with</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>  <span class="comment">// a previously inlined alloca.  If not, remember that we had it.</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> AllocaNo = 0, <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IFI</a>.StaticAllocas.size(); AllocaNo != <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a>;</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>       ++AllocaNo) {</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    <a class="code hl_class" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AI = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IFI</a>.StaticAllocas[AllocaNo];</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span> </div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    <span class="comment">// Don&#39;t bother trying to merge array allocations (they will usually be</span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    <span class="comment">// canonicalized to be an allocation *of* an array), or allocations whose</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    <span class="comment">// type is not itself an array (because we&#39;re afraid of pessimizing SRoA).</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    <a class="code hl_class" href="classArrayType.html">ArrayType</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ATy</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;ArrayType&gt;</a>(AI-&gt;<a class="code hl_function" href="classllvm_1_1AllocaInst.html#a9b5ec84ea363eca9e35ddca20a5313af">getAllocatedType</a>());</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>    <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ATy</a> || AI-&gt;<a class="code hl_function" href="classllvm_1_1AllocaInst.html#aea74164514e7164813ab30bcc4b7c557">isArrayAllocation</a>())</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span> </div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    <span class="comment">// Get the list of all available allocas for this array type.</span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    std::vector&lt;AllocaInst *&gt; &amp;<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AllocasForType</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlinedArrayAllocas</a>[<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ATy</a>];</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span> </div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    <span class="comment">// Loop over the allocas in AllocasForType to see if we can reuse one.  Note</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>    <span class="comment">// that we have to be careful not to reuse the same &quot;available&quot; alloca for</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    <span class="comment">// multiple different allocas that we just inlined, we use the &#39;UsedAllocas&#39;</span></div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    <span class="comment">// set to keep track of which &quot;available&quot; allocas are being used by this</span></div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    <span class="comment">// function.  Also, AllocasForType can be empty of course!</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    <span class="keywordtype">bool</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">MergedAwayAlloca</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AvailableAlloca</a> : <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AllocasForType</a>) {</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>      <a class="code hl_struct" href="structllvm_1_1Align.html">Align</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Align1</a> = AI-&gt;<a class="code hl_function" href="classllvm_1_1AllocaInst.html#a42438d0a43720a6571c9138224481754">getAlign</a>();</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>      <a class="code hl_struct" href="structllvm_1_1Align.html">Align</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Align2</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AvailableAlloca</a>-&gt;getAlign();</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span> </div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>      <span class="comment">// The available alloca has to be in the right function, not in some other</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>      <span class="comment">// function in this SCC.</span></div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>      <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AvailableAlloca</a>-&gt;getParent() != AI-&gt;<a class="code hl_function" href="classllvm_1_1Instruction.html#a5e6364c710de3afb5449588baab260fd">getParent</a>())</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span> </div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>      <span class="comment">// If the inlined function already uses this alloca then we can&#39;t reuse</span></div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>      <span class="comment">// it.</span></div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>      <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">UsedAllocas</a>.insert(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AvailableAlloca</a>).second)</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span> </div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>      <span class="comment">// Otherwise, we *can* reuse it, RAUW AI into AvailableAlloca and declare</span></div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>      <span class="comment">// success!</span></div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>      <a class="code hl_define" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    ***MERGED ALLOCA: &quot;</span> &lt;&lt; *AI</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>                        &lt;&lt; <span class="stringliteral">&quot;\n\t\tINTO: &quot;</span> &lt;&lt; *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AvailableAlloca</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span> </div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>      <span class="comment">// Move affected dbg.declare calls immediately after the new alloca to</span></div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>      <span class="comment">// avoid the situation when a dbg.declare precedes its alloca.</span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *L = <a class="code hl_function" href="classllvm_1_1LocalAsMetadata.html#ab3824551809fd3b92409d32854adff80">LocalAsMetadata::getIfExists</a>(AI))</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">MDV</a> = <a class="code hl_function" href="classllvm_1_1MetadataAsValue.html#a43da96a342731ffba21f83523a9c787a">MetadataAsValue::getIfExists</a>(AI-&gt;<a class="code hl_function" href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">getContext</a>(), L))</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>          <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1User.html">User</a> *U : <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">MDV</a>-&gt;users())</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1DbgDeclareInst.html">DbgDeclareInst</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DDI</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;DbgDeclareInst&gt;</a>(U))</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>              <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DDI</a>-&gt;moveBefore(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AvailableAlloca</a>-&gt;getNextNode());</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span> </div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>      AI-&gt;<a class="code hl_function" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AvailableAlloca</a>);</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span> </div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>      <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Align1</a> &gt; <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Align2</a>)</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>        <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AvailableAlloca</a>-&gt;setAlignment(AI-&gt;<a class="code hl_function" href="classllvm_1_1AllocaInst.html#a42438d0a43720a6571c9138224481754">getAlign</a>());</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span> </div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>      AI-&gt;<a class="code hl_function" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>      <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">MergedAwayAlloca</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>      ++<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NumMergedAllocas</a>;</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>      <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IFI</a>.StaticAllocas[AllocaNo] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    }</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span> </div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    <span class="comment">// If we already nuked the alloca, we&#39;re done with it.</span></div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">MergedAwayAlloca</a>)</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span> </div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>    <span class="comment">// If we were unable to merge away the alloca either because there are no</span></div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    <span class="comment">// allocas of the right type available or because we reused them all</span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    <span class="comment">// already, remember that this alloca came from an inlined function and mark</span></div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <span class="comment">// it used so we don&#39;t reuse it for other allocas from this inline</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    <span class="comment">// operation.</span></div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AllocasForType</a>.push_back(AI);</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">UsedAllocas</a>.insert(AI);</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>  }</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>}</div>
</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span><span class="comment"></span> </div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span><span class="comment">/// If it is possible to inline the specified call site,</span></div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span><span class="comment">/// do so and update the CallGraph for this operation.</span></div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span><span class="comment">///</span></div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span><span class="comment">/// This function also does some basic book-keeping to update the IR.  The</span></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span><span class="comment">/// InlinedArrayAllocas map keeps track of any allocas that are already</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span><span class="comment">/// available from other functions inlined into the caller.  If we are able to</span></div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span><span class="comment">/// inline this call site we attempt to reuse already available allocas or add</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span><span class="comment">/// any new allocas to the set if not possible.</span></div>
<div class="foldopen" id="foldopen00243" data-start="{" data-end="}">
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno"><a class="line" href="Inliner_8cpp.html#a4019f8ca0130f36f347225ac8f36d3d5">  243</a></span><span class="comment"></span><span class="keyword">static</span> <a class="code hl_class" href="classllvm_1_1InlineResult.html">InlineResult</a> <a class="code hl_function" href="Inliner_8cpp.html#a4019f8ca0130f36f347225ac8f36d3d5">inlineCallIfPossible</a>(</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>    <a class="code hl_class" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB, <a class="code hl_class" href="classllvm_1_1InlineFunctionInfo.html">InlineFunctionInfo</a> &amp;<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IFI</a>,</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlinedArrayAllocasTy</a> &amp;<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlinedArrayAllocas</a>, <span class="keywordtype">int</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistory</a>,</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>    <span class="keywordtype">bool</span> InsertLifetime, <a class="code hl_class" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code hl_class" href="classllvm_1_1AAResults.html">AAResults</a> &amp;(<a class="code hl_class" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; &amp;AARGetter,</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>    <a class="code hl_class" href="classllvm_1_1ImportedFunctionsInliningStatistics.html">ImportedFunctionsInliningStatistics</a> &amp;ImportedFunctionsStats) {</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>  <a class="code hl_class" href="classllvm_1_1Function.html">Function</a> *<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = CB.<a class="code hl_function" href="classllvm_1_1CallBase.html#a2b1ae7cf1bafdd43d1fee4c6ad0a2913">getCalledFunction</a>();</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>  <a class="code hl_class" href="classllvm_1_1Function.html">Function</a> *Caller = CB.<a class="code hl_function" href="classllvm_1_1CallBase.html#afac5b39bcbb90d660f83d9b4bd8c6d95">getCaller</a>();</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span> </div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>  <a class="code hl_class" href="classllvm_1_1AAResults.html">AAResults</a> &amp;AAR = AARGetter(*<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>);</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span> </div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>  <span class="comment">// Try to inline the function.  Get the list of static allocas that were</span></div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>  <span class="comment">// inlined.</span></div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>  <a class="code hl_class" href="classllvm_1_1InlineResult.html">InlineResult</a> <a class="code hl_variable" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a> = <a class="code hl_function" href="namespacellvm.html#a7e39b6f753eab4236840973d7f6ddbfe">InlineFunction</a>(CB, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IFI</a>, &amp;AAR, InsertLifetime);</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>.isSuccess())</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>;</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span> </div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="ImportedFunctionsInliningStatistics_8cpp.html#aa248aa4f3640cd30247a25878a60380e">InlinerFunctionImportStats</a> != <a class="code hl_enumvalue" href="namespacellvm.html#adacba4cb06d1dd9232ee3d2d49a44d8fabafd7322c6e97d25b6299b5d6fe8920b">InlinerFunctionImportStatsOpts::No</a>)</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>    ImportedFunctionsStats.<a class="code hl_function" href="classllvm_1_1ImportedFunctionsInliningStatistics.html#a869c36ec45c584dfa6f3d914d230b15f">recordInline</a>(*Caller, *<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>);</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span> </div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>  <a class="code hl_function" href="namespacellvm_1_1AttributeFuncs.html#ae05b3471aef6ffe376ceef99af9b4709">AttributeFuncs::mergeAttributesForInlining</a>(*Caller, *<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>);</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span> </div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="Inliner_8cpp.html#ab3fd3da39238388603e77cadb102ee5c">DisableInlinedAllocaMerging</a>)</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>    <a class="code hl_function" href="Inliner_8cpp.html#a9e4999207cf9e82c0ccc74d2a6040c15">mergeInlinedArrayAllocas</a>(Caller, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IFI</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlinedArrayAllocas</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistory</a>);</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span> </div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>; <span class="comment">// success</span></div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>}</div>
</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span><span class="comment"></span> </div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span><span class="comment">/// Return true if the specified inline history ID</span></div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span><span class="comment">/// indicates an inline history that includes the specified function.</span></div>
<div class="foldopen" id="foldopen00272" data-start="{" data-end="}">
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno"><a class="line" href="Inliner_8cpp.html#a12a3c37c6bd2a94f388aafe4e68462f1">  272</a></span><span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="Inliner_8cpp.html#a12a3c37c6bd2a94f388aafe4e68462f1">inlineHistoryIncludes</a>(</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>    <a class="code hl_class" href="classllvm_1_1Function.html">Function</a> *<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="keywordtype">int</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistoryID</a>,</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt;std::pair&lt;Function *, int&gt;&gt; &amp;<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistory</a>) {</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>  <span class="keywordflow">while</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistoryID</a> != -1) {</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>    <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<span class="keywordtype">unsigned</span>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistoryID</a>) &lt; <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistory</a>.size() &amp;&amp;</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>           <span class="stringliteral">&quot;Invalid inline history ID&quot;</span>);</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistory</a>[<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistoryID</a>].first == <a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistoryID</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistory</a>[<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistoryID</a>].second;</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>  }</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>}</div>
</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span> </div>
<div class="foldopen" id="foldopen00285" data-start="{" data-end="}">
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno"><a class="line" href="structllvm_1_1LegacyInlinerBase.html#ac9c9490e1fd3ad1ff4252a273751e000">  285</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="structllvm_1_1LegacyInlinerBase.html#ac9c9490e1fd3ad1ff4252a273751e000">LegacyInlinerBase::doInitialization</a>(<a class="code hl_class" href="classllvm_1_1CallGraph.html">CallGraph</a> &amp;<a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>) {</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="ImportedFunctionsInliningStatistics_8cpp.html#aa248aa4f3640cd30247a25878a60380e">InlinerFunctionImportStats</a> != <a class="code hl_enumvalue" href="namespacellvm.html#adacba4cb06d1dd9232ee3d2d49a44d8fabafd7322c6e97d25b6299b5d6fe8920b">InlinerFunctionImportStatsOpts::No</a>)</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>    <a class="code hl_variable" href="structllvm_1_1LegacyInlinerBase.html#a10a2aafd78d3c0454aee31053cfcf56b">ImportedFunctionsStats</a>.<a class="code hl_function" href="classllvm_1_1ImportedFunctionsInliningStatistics.html#a00fe0b2043a8218ede17ada91d286272">setModuleInfo</a>(<a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>.getModule());</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// No changes to CallGraph.</span></div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>}</div>
</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span> </div>
<div class="foldopen" id="foldopen00291" data-start="{" data-end="}">
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno"><a class="line" href="structllvm_1_1LegacyInlinerBase.html#ae8c56810a4e199c830acc88b08dce370">  291</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="structllvm_1_1LegacyInlinerBase.html#ae8c56810a4e199c830acc88b08dce370">LegacyInlinerBase::runOnSCC</a>(<a class="code hl_class" href="classllvm_1_1CallGraphSCC.html">CallGraphSCC</a> &amp;SCC) {</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classllvm_1_1CallGraphSCCPass.html#a978ee5e9b5b33e10cea60aea38f80788">skipSCC</a>(SCC))</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="structllvm_1_1LegacyInlinerBase.html#ab3786fe5854f2e264beecacc4abac4ea">inlineCalls</a>(SCC);</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>}</div>
</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span> </div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span><span class="keyword">static</span> <span class="keywordtype">bool</span></div>
<div class="foldopen" id="foldopen00298" data-start="{" data-end="}">
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno"><a class="line" href="Inliner_8cpp.html#a05a1189b53c3a073702cb69dd07d326d">  298</a></span><a class="code hl_function" href="Inliner_8cpp.html#a05a1189b53c3a073702cb69dd07d326d">inlineCallsImpl</a>(<a class="code hl_class" href="classllvm_1_1CallGraphSCC.html">CallGraphSCC</a> &amp;SCC, <a class="code hl_class" href="classllvm_1_1CallGraph.html">CallGraph</a> &amp;<a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>,</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>                std::function&lt;<a class="code hl_class" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;(<a class="code hl_class" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; GetAssumptionCache,</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>                <a class="code hl_class" href="classllvm_1_1ProfileSummaryInfo.html">ProfileSummaryInfo</a> *PSI,</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>                std::function&lt;<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp;(<a class="code hl_class" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; GetTLI,</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>                <span class="keywordtype">bool</span> InsertLifetime,</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>                <a class="code hl_class" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code hl_class" href="classllvm_1_1InlineCost.html">InlineCost</a>(<a class="code hl_class" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB)&gt; <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">GetInlineCost</a>,</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>                <a class="code hl_class" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<a class="code hl_class" href="classllvm_1_1AAResults.html">AAResults</a> &amp;(<a class="code hl_class" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; AARGetter,</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>                <a class="code hl_class" href="classllvm_1_1ImportedFunctionsInliningStatistics.html">ImportedFunctionsInliningStatistics</a> &amp;ImportedFunctionsStats) {</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallPtrSet&lt;Function *, 8&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SCCFunctions</a>;</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>  <a class="code hl_define" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Inliner visiting SCC:&quot;</span>);</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1CallGraphNode.html">CallGraphNode</a> *<a class="code hl_class" href="classNode.html">Node</a> : SCC) {</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>    <a class="code hl_class" href="classllvm_1_1Function.html">Function</a> *<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a class="code hl_class" href="classNode.html">Node</a>-&gt;getFunction();</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>      <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SCCFunctions</a>.insert(<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>    <a class="code hl_define" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; (<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> ? <a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName() : <span class="stringliteral">&quot;INDIRECTNODE&quot;</span>));</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>  }</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span> </div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>  <span class="comment">// Scan through and identify all call sites ahead of time so that we only</span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>  <span class="comment">// inline call sites in the original functions, not call sites that result</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>  <span class="comment">// from inlining other functions.</span></div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;std::pair&lt;CallBase *, int&gt;</a>, 16&gt; CallSites;</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span> </div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>  <span class="comment">// When inlining a callee produces new call sites, we want to keep track of</span></div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>  <span class="comment">// the fact that they were inlined from the callee.  This allows us to avoid</span></div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>  <span class="comment">// infinite inlining in some obscure cases.  To represent this, we use an</span></div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>  <span class="comment">// index into the InlineHistory vector.</span></div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;std::pair&lt;Function *, int&gt;</a>, 8&gt; <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistory</a>;</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span> </div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1CallGraphNode.html">CallGraphNode</a> *<a class="code hl_class" href="classNode.html">Node</a> : SCC) {</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>    <a class="code hl_class" href="classllvm_1_1Function.html">Function</a> *<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a class="code hl_class" href="classNode.html">Node</a>-&gt;getFunction();</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> || <a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;isDeclaration())</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span> </div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>    <a class="code hl_class" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a> ORE(<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>    <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;BB : *<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>      <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : BB) {</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>        <span class="keyword">auto</span> *CB = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;CallBase&gt;</a>(&amp;<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>        <span class="comment">// If this isn&#39;t a call, or it is a call to an intrinsic, it can</span></div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>        <span class="comment">// never be inlined.</span></div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>        <span class="keywordflow">if</span> (!CB || <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">isa&lt;IntrinsicInst&gt;</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span> </div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>        <span class="comment">// If this is a direct call to an external function, we can never inline</span></div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>        <span class="comment">// it.  If it is an indirect call, inlining may resolve it to be a</span></div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>        <span class="comment">// direct call, so we keep it.</span></div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1Function.html">Function</a> *<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = CB-&gt;<a class="code hl_function" href="classllvm_1_1CallBase.html#a2b1ae7cf1bafdd43d1fee4c6ad0a2913">getCalledFunction</a>())</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>          <span class="keywordflow">if</span> (<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;isDeclaration()) {</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>            <span class="keyword">using namespace </span>ore;</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span> </div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>            <a class="code hl_function" href="namespacellvm.html#a444e3e622a00db2be6dcaf46cef996f5">setInlineRemark</a>(*CB, <span class="stringliteral">&quot;unavailable definition&quot;</span>);</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>            ORE.<a class="code hl_function" href="classllvm_1_1OptimizationRemarkEmitter.html#aae6a98aea85aa3af87357cc5448db499">emit</a>([&amp;]() {</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>              <span class="keywordflow">return</span> <a class="code hl_class" href="classllvm_1_1OptimizationRemarkMissed.html">OptimizationRemarkMissed</a>(<a class="code hl_define" href="BlockFrequencyInfoImpl_8h.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;NoDefinition&quot;</span>, &amp;<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>                     &lt;&lt; NV(<span class="stringliteral">&quot;Callee&quot;</span>, <a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>) &lt;&lt; <span class="stringliteral">&quot; will not be inlined into &quot;</span></div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>                     &lt;&lt; NV(<span class="stringliteral">&quot;Caller&quot;</span>, CB-&gt;<a class="code hl_function" href="classllvm_1_1CallBase.html#afac5b39bcbb90d660f83d9b4bd8c6d95">getCaller</a>())</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>                     &lt;&lt; <span class="stringliteral">&quot; because its definition is unavailable&quot;</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>                     &lt;&lt; setIsVerbose();</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>            });</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>          }</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span> </div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>        CallSites.push_back(std::make_pair(CB, -1));</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>      }</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>  }</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span> </div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>  <a class="code hl_define" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; CallSites.size() &lt;&lt; <span class="stringliteral">&quot; call sites.\n&quot;</span>);</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span> </div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>  <span class="comment">// If there are no calls in this function, exit early.</span></div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>  <span class="keywordflow">if</span> (CallSites.empty())</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span> </div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>  <span class="comment">// Now that we have all of the call sites, move the ones to functions in the</span></div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>  <span class="comment">// current SCC to the end of the list.</span></div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>  <span class="keywordtype">unsigned</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FirstCallInSCC</a> = CallSites.size();</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FirstCallInSCC</a>; ++<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1Function.html">Function</a> *<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = CallSites[<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].first-&gt;getCalledFunction())</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>      <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SCCFunctions</a>.count(<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>        <a class="code hl_function" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(CallSites[<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>--], CallSites[--<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FirstCallInSCC</a>]);</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span> </div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlinedArrayAllocasTy</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlinedArrayAllocas</a>;</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>  <a class="code hl_class" href="classllvm_1_1InlineFunctionInfo.html">InlineFunctionInfo</a> <a class="code hl_enumvalue" href="FunctionInfo_8cpp.html#a3e1eb307ada3e1ef3a115f4c734aa5eeac1775aaace95748849e1216a09f028fc">InlineInfo</a>(&amp;<a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>, GetAssumptionCache, PSI);</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span> </div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>  <span class="comment">// Now that we have all of the call sites, loop over them and inline them if</span></div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>  <span class="comment">// it looks profitable to do so.</span></div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="CoroSplit_8cpp.html#a1b7259e431066a500b6b6e7267fad8c3">Changed</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>  <span class="keywordtype">bool</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LocalChange</a>;</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>  <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LocalChange</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    <span class="comment">// Iterate over the outer loop because inlining functions can cause indirect</span></div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    <span class="comment">// calls to become direct calls.</span></div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>    <span class="comment">// CallSites may be modified inside so ranged for loop can not be used.</span></div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CSi</a> = 0; <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CSi</a> != CallSites.size(); ++<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CSi</a>) {</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>      <span class="keyword">auto</span> &amp;<a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a> = CallSites[<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CSi</a>];</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>      <a class="code hl_class" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB = *<a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>.first;</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistoryID</a> = <a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>.second;</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span> </div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>      <a class="code hl_class" href="classllvm_1_1Function.html">Function</a> *Caller = CB.<a class="code hl_function" href="classllvm_1_1CallBase.html#afac5b39bcbb90d660f83d9b4bd8c6d95">getCaller</a>();</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>      <a class="code hl_class" href="classllvm_1_1Function.html">Function</a> *<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = CB.<a class="code hl_function" href="classllvm_1_1CallBase.html#a2b1ae7cf1bafdd43d1fee4c6ad0a2913">getCalledFunction</a>();</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span> </div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>      <span class="comment">// We can only inline direct calls to non-declarations.</span></div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>      <span class="keywordflow">if</span> (!<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> || <a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;isDeclaration())</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span> </div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>      <span class="keywordtype">bool</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IsTriviallyDead</a> = <a class="code hl_function" href="namespacellvm.html#a627b2f86ac433d829482d5a5a0f50668">isInstructionTriviallyDead</a>(&amp;CB, &amp;GetTLI(*Caller));</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span> </div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>      <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IsTriviallyDead</a>) {</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>        <span class="comment">// If this call site was obtained by inlining another function, verify</span></div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>        <span class="comment">// that the include path for the function did not include the callee</span></div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>        <span class="comment">// itself.  If so, we&#39;d be recursively inlining the same function,</span></div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>        <span class="comment">// which would provide the same callsites, which would cause us to</span></div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>        <span class="comment">// infinitely inline.</span></div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistoryID</a> != -1 &amp;&amp;</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>            <a class="code hl_function" href="Inliner_8cpp.html#a12a3c37c6bd2a94f388aafe4e68462f1">inlineHistoryIncludes</a>(<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistoryID</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistory</a>)) {</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>          <a class="code hl_function" href="namespacellvm.html#a444e3e622a00db2be6dcaf46cef996f5">setInlineRemark</a>(CB, <span class="stringliteral">&quot;recursive&quot;</span>);</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>        }</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>      }</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span> </div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>      <span class="comment">// FIXME for new PM: because of the old PM we currently generate ORE and</span></div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>      <span class="comment">// in turn BFI on demand.  With the new PM, the ORE dependency should</span></div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>      <span class="comment">// just become a regular analysis dependency.</span></div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>      <a class="code hl_class" href="classllvm_1_1OptimizationRemarkEmitter.html">OptimizationRemarkEmitter</a> ORE(Caller);</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span> </div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>      <span class="keyword">auto</span> OIC = <a class="code hl_function" href="namespacellvm.html#acaba49eb4d306971b9eeee1180065791">shouldInline</a>(CB, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">GetInlineCost</a>, ORE);</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>      <span class="comment">// If the policy determines that we should inline this function,</span></div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>      <span class="comment">// delete the call instead.</span></div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>      <span class="keywordflow">if</span> (!OIC)</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span> </div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>      <span class="comment">// If this call site is dead and it is to a readonly function, we should</span></div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>      <span class="comment">// just delete the call instead of trying to inline it, regardless of</span></div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>      <span class="comment">// size.  This happens because IPSCCP propagates the result out of the</span></div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>      <span class="comment">// call and then we&#39;re left with the dead call.</span></div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>      <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IsTriviallyDead</a>) {</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>        <a class="code hl_define" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    -&gt; Deleting dead call: &quot;</span> &lt;&lt; CB &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>        <span class="comment">// Update the call graph by deleting the edge from Callee to Caller.</span></div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>        <a class="code hl_function" href="namespacellvm.html#a444e3e622a00db2be6dcaf46cef996f5">setInlineRemark</a>(CB, <span class="stringliteral">&quot;trivially dead&quot;</span>);</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>        <a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>[Caller]-&gt;removeCallEdgeFor(CB);</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>        CB.<a class="code hl_function" href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">eraseFromParent</a>();</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>        ++<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NumCallsDeleted</a>;</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>        <span class="comment">// Get DebugLoc to report. CB will be invalid after Inliner.</span></div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>        <a class="code hl_class" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DLoc = CB.<a class="code hl_function" href="classllvm_1_1Instruction.html#a4b8faae4ff9e7434a1d226d03d15dcd2">getDebugLoc</a>();</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>        <a class="code hl_class" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code hl_enumvalue" href="namespacellvm.html#a0e00fad9c34de40b1e31f3aa6f8e024cae1e4c8c9ccd9fc39c391da4bcd093fb2">Block</a> = CB.<a class="code hl_function" href="classllvm_1_1Instruction.html#a5e6364c710de3afb5449588baab260fd">getParent</a>();</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span> </div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>        <span class="comment">// Attempt to inline the function.</span></div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>        <span class="keyword">using namespace </span>ore;</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span> </div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>        <a class="code hl_class" href="classllvm_1_1InlineResult.html">InlineResult</a> <a class="code hl_variable" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a> = <a class="code hl_function" href="Inliner_8cpp.html#a4019f8ca0130f36f347225ac8f36d3d5">inlineCallIfPossible</a>(</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>            CB, <a class="code hl_enumvalue" href="FunctionInfo_8cpp.html#a3e1eb307ada3e1ef3a115f4c734aa5eeac1775aaace95748849e1216a09f028fc">InlineInfo</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlinedArrayAllocas</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistoryID</a>,</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>            InsertLifetime, AARGetter, ImportedFunctionsStats);</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>.isSuccess()) {</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>          <a class="code hl_function" href="namespacellvm.html#a444e3e622a00db2be6dcaf46cef996f5">setInlineRemark</a>(CB, std::string(<a class="code hl_variable" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>.getFailureReason()) + <span class="stringliteral">&quot;; &quot;</span> +</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>                                  <a class="code hl_function" href="namespacellvm.html#a20cfa993dffa4fbef8ce57257098a786">inlineCostStr</a>(*OIC));</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>          ORE.<a class="code hl_function" href="classllvm_1_1OptimizationRemarkEmitter.html#aae6a98aea85aa3af87357cc5448db499">emit</a>([&amp;]() {</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>            <span class="keywordflow">return</span> <a class="code hl_class" href="classllvm_1_1OptimizationRemarkMissed.html">OptimizationRemarkMissed</a>(<a class="code hl_define" href="BlockFrequencyInfoImpl_8h.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;NotInlined&quot;</span>, DLoc,</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>                                            <a class="code hl_enumvalue" href="namespacellvm.html#a0e00fad9c34de40b1e31f3aa6f8e024cae1e4c8c9ccd9fc39c391da4bcd093fb2">Block</a>)</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>                   &lt;&lt; NV(<span class="stringliteral">&quot;Callee&quot;</span>, <a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>) &lt;&lt; <span class="stringliteral">&quot; will not be inlined into &quot;</span></div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>                   &lt;&lt; NV(<span class="stringliteral">&quot;Caller&quot;</span>, Caller) &lt;&lt; <span class="stringliteral">&quot;: &quot;</span></div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>                   &lt;&lt; NV(<span class="stringliteral">&quot;Reason&quot;</span>, <a class="code hl_variable" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>.getFailureReason());</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>          });</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>        }</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>        ++<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NumInlined</a>;</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span> </div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>        <a class="code hl_function" href="namespacellvm.html#a900f3a78adcdae820536c776900726fc">emitInlinedInto</a>(ORE, DLoc, <a class="code hl_enumvalue" href="namespacellvm.html#a0e00fad9c34de40b1e31f3aa6f8e024cae1e4c8c9ccd9fc39c391da4bcd093fb2">Block</a>, *<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>, *Caller, *OIC);</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span> </div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>        <span class="comment">// If inlining this function gave us any new call sites, throw them</span></div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>        <span class="comment">// onto our worklist to process.  They are useful inline candidates.</span></div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>        <span class="keywordflow">if</span> (!<a class="code hl_enumvalue" href="FunctionInfo_8cpp.html#a3e1eb307ada3e1ef3a115f4c734aa5eeac1775aaace95748849e1216a09f028fc">InlineInfo</a>.InlinedCalls.empty()) {</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>          <span class="comment">// Create a new inline history entry for this, so that we remember</span></div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>          <span class="comment">// that these new callsites came about due to inlining Callee.</span></div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>          <span class="keywordtype">int</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NewHistoryID</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistory</a>.size();</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>          <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistory</a>.push_back(std::make_pair(<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistoryID</a>));</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span> </div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span><span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>          <span class="comment">// Make sure no dupplicates in the inline candidates. This could</span></div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>          <span class="comment">// happen when a callsite is simpilfied to reusing the return value</span></div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>          <span class="comment">// of another callsite during function cloning, thus the other</span></div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>          <span class="comment">// callsite will be reconsidered here.</span></div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>          <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DenseSet&lt;CallBase *&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DbgCallSites</a>;</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>          <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;II : CallSites)</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>            <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DbgCallSites</a>.insert(II.first);</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span> </div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>          <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1Value.html">Value</a> *Ptr : <a class="code hl_enumvalue" href="FunctionInfo_8cpp.html#a3e1eb307ada3e1ef3a115f4c734aa5eeac1775aaace95748849e1216a09f028fc">InlineInfo</a>.InlinedCalls) {</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span><span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>            <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DbgCallSites</a>.count(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;CallBase&gt;</a>(Ptr)) == 0);</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>            CallSites.push_back(</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>                std::make_pair(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;CallBase&gt;</a>(Ptr), <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NewHistoryID</a>));</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>          }</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>        }</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>      }</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span> </div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>      <span class="comment">// If we inlined or deleted the last possible call site to the function,</span></div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>      <span class="comment">// delete the function body now.</span></div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> &amp;&amp; <a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;use_empty() &amp;&amp; <a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;hasLocalLinkage() &amp;&amp;</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>          <span class="comment">// TODO: Can remove if in SCC now.</span></div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>          !<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SCCFunctions</a>.count(<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>) &amp;&amp;</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>          <span class="comment">// The function may be apparently dead, but if there are indirect</span></div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>          <span class="comment">// callgraph references to the node, we cannot delete it yet, this</span></div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>          <span class="comment">// could invalidate the CGSCC iterator.</span></div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>          <a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>[<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>]-&gt;getNumReferences() == 0) {</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>        <a class="code hl_define" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;    -&gt; Deleting dead function: &quot;</span></div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>                          &lt;&lt; <a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>        <a class="code hl_class" href="classllvm_1_1CallGraphNode.html">CallGraphNode</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CalleeNode</a> = <a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>[<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>];</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span> </div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>        <span class="comment">// Remove any call graph edges from the callee to its callees.</span></div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>        <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CalleeNode</a>-&gt;removeAllCalledFunctions();</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span> </div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>        <span class="comment">// Removing the node for callee from the call graph and delete it.</span></div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>        <span class="keyword">delete</span> <a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>.removeFunctionFromModule(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CalleeNode</a>);</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>        ++<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NumDeleted</a>;</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>      }</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span> </div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>      <span class="comment">// Remove this call site from the list.  If possible, use</span></div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>      <span class="comment">// swap/pop_back for efficiency, but do not use it if doing so would</span></div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>      <span class="comment">// move a call site to a function in this SCC before the</span></div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>      <span class="comment">// &#39;FirstCallInSCC&#39; barrier.</span></div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>      <span class="keywordflow">if</span> (SCC.<a class="code hl_function" href="classllvm_1_1CallGraphSCC.html#a07db419e819bdce43515ca70d515a151">isSingular</a>()) {</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>        CallSites[<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CSi</a>] = CallSites.back();</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>        CallSites.pop_back();</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>        CallSites.erase(CallSites.begin() + <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CSi</a>);</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>      }</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>      --<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CSi</a>;</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span> </div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>      <a class="code hl_variable" href="CoroSplit_8cpp.html#a1b7259e431066a500b6b6e7267fad8c3">Changed</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>      <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LocalChange</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>    }</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>  } <span class="keywordflow">while</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">LocalChange</a>);</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span> </div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="CoroSplit_8cpp.html#a1b7259e431066a500b6b6e7267fad8c3">Changed</a>;</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>}</div>
</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span> </div>
<div class="foldopen" id="foldopen00533" data-start="{" data-end="}">
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno"><a class="line" href="structllvm_1_1LegacyInlinerBase.html#ab3786fe5854f2e264beecacc4abac4ea">  533</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="structllvm_1_1LegacyInlinerBase.html#ab3786fe5854f2e264beecacc4abac4ea">LegacyInlinerBase::inlineCalls</a>(<a class="code hl_class" href="classllvm_1_1CallGraphSCC.html">CallGraphSCC</a> &amp;SCC) {</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>  <a class="code hl_class" href="classllvm_1_1CallGraph.html">CallGraph</a> &amp;<a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">getAnalysis&lt;CallGraphWrapperPass&gt;</a>().getCallGraph();</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>  <a class="code hl_variable" href="structllvm_1_1LegacyInlinerBase.html#a261a6e97f9fb889152e31269ee07ac20">ACT</a> = &amp;<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">getAnalysis&lt;AssumptionCacheTracker&gt;</a>();</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>  <a class="code hl_variable" href="structllvm_1_1LegacyInlinerBase.html#a0ba622185349ede8d8a137d7a7367840">PSI</a> = &amp;<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">getAnalysis&lt;ProfileSummaryInfoWrapperPass&gt;</a>().getPSI();</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>  <a class="code hl_variable" href="structllvm_1_1LegacyInlinerBase.html#ab52f33be73a14cc2697eeaad1a2e5714">GetTLI</a> = [&amp;](<a class="code hl_class" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) -&gt; <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> &amp; {</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">getAnalysis&lt;TargetLibraryInfoWrapperPass&gt;</a>().getTLI(<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>  };</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>  <span class="keyword">auto</span> GetAssumptionCache = [&amp;](<a class="code hl_class" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) -&gt; <a class="code hl_class" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp; {</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="structllvm_1_1LegacyInlinerBase.html#a261a6e97f9fb889152e31269ee07ac20">ACT</a>-&gt;<a class="code hl_function" href="classllvm_1_1AssumptionCacheTracker.html#af0c9a679eca493aa32aa7002bf4a50a3">getAssumptionCache</a>(<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>  };</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="Inliner_8cpp.html#a05a1189b53c3a073702cb69dd07d326d">inlineCallsImpl</a>(</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>      SCC, <a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>, GetAssumptionCache, <a class="code hl_variable" href="structllvm_1_1LegacyInlinerBase.html#a0ba622185349ede8d8a137d7a7367840">PSI</a>, <a class="code hl_variable" href="structllvm_1_1LegacyInlinerBase.html#ab52f33be73a14cc2697eeaad1a2e5714">GetTLI</a>, InsertLifetime,</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>      [&amp;](<a class="code hl_class" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB) { <span class="keywordflow">return</span> <a class="code hl_function" href="structllvm_1_1LegacyInlinerBase.html#a6fbb9f30a9224cbd7cb15dd5cb0ac688">getInlineCost</a>(CB); }, <a class="code hl_class" href="classllvm_1_1LegacyAARGetter.html">LegacyAARGetter</a>(*<span class="keyword">this</span>),</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>      <a class="code hl_variable" href="structllvm_1_1LegacyInlinerBase.html#a10a2aafd78d3c0454aee31053cfcf56b">ImportedFunctionsStats</a>);</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>}</div>
</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span><span class="comment"></span> </div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span><span class="comment">/// Remove now-dead linkonce functions at the end of</span></div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span><span class="comment">/// processing to avoid breaking the SCC traversal.</span></div>
<div class="foldopen" id="foldopen00551" data-start="{" data-end="}">
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno"><a class="line" href="structllvm_1_1LegacyInlinerBase.html#aa989a9a80b5b2a6a11876cc8ee61c064">  551</a></span><span class="comment"></span><span class="keywordtype">bool</span> <a class="code hl_function" href="structllvm_1_1LegacyInlinerBase.html#aa989a9a80b5b2a6a11876cc8ee61c064">LegacyInlinerBase::doFinalization</a>(<a class="code hl_class" href="classllvm_1_1CallGraph.html">CallGraph</a> &amp;<a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>) {</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="ImportedFunctionsInliningStatistics_8cpp.html#aa248aa4f3640cd30247a25878a60380e">InlinerFunctionImportStats</a> != <a class="code hl_enumvalue" href="namespacellvm.html#adacba4cb06d1dd9232ee3d2d49a44d8fabafd7322c6e97d25b6299b5d6fe8920b">InlinerFunctionImportStatsOpts::No</a>)</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>    <a class="code hl_variable" href="structllvm_1_1LegacyInlinerBase.html#a10a2aafd78d3c0454aee31053cfcf56b">ImportedFunctionsStats</a>.<a class="code hl_function" href="classllvm_1_1ImportedFunctionsInliningStatistics.html#a776e5ef304e07acc5bbbf585443459a4">dump</a>(<a class="code hl_variable" href="ImportedFunctionsInliningStatistics_8cpp.html#aa248aa4f3640cd30247a25878a60380e">InlinerFunctionImportStats</a> ==</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>                                <a class="code hl_enumvalue" href="namespacellvm.html#adacba4cb06d1dd9232ee3d2d49a44d8fad4a9fa383ab700c5bdd6f31cf7df0faf">InlinerFunctionImportStatsOpts::Verbose</a>);</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="structllvm_1_1LegacyInlinerBase.html#a017ac48c1ce23159cf7704fd43999c8a">removeDeadFunctions</a>(<a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>);</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>}</div>
</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span><span class="comment"></span> </div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span><span class="comment">/// Remove dead functions that are not included in DNR (Do Not Remove) list.</span></div>
<div class="foldopen" id="foldopen00559" data-start="{" data-end="}">
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno"><a class="line" href="structllvm_1_1LegacyInlinerBase.html#a017ac48c1ce23159cf7704fd43999c8a">  559</a></span><span class="comment"></span><span class="keywordtype">bool</span> <a class="code hl_function" href="structllvm_1_1LegacyInlinerBase.html#a017ac48c1ce23159cf7704fd43999c8a">LegacyInlinerBase::removeDeadFunctions</a>(<a class="code hl_class" href="classllvm_1_1CallGraph.html">CallGraph</a> &amp;<a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>,</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>                                            <span class="keywordtype">bool</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AlwaysInlineOnly</a>) {</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;CallGraphNode *, 16&gt;</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FunctionsToRemove</a>;</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;Function *, 16&gt;</a> DeadFunctionsInComdats;</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span> </div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>  <span class="keyword">auto</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RemoveCGN</a> = [&amp;](<a class="code hl_class" href="classllvm_1_1CallGraphNode.html">CallGraphNode</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CGN</a>) {</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>    <span class="comment">// Remove any call graph edges from the function to its callees.</span></div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CGN</a>-&gt;removeAllCalledFunctions();</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span> </div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>    <span class="comment">// Remove any edges from the external node to the function&#39;s call graph</span></div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>    <span class="comment">// node.  These edges might have been made irrelegant due to</span></div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>    <span class="comment">// optimization of the program.</span></div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>    <a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>.getExternalCallingNode()-&gt;removeAnyCallEdgeTo(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CGN</a>);</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span> </div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>    <span class="comment">// Removing the node for callee from the call graph and delete it.</span></div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FunctionsToRemove</a>.push_back(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CGN</a>);</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>  };</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span> </div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>  <span class="comment">// Scan for all of the functions, looking for ones that should now be removed</span></div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>  <span class="comment">// from the program.  Insert the dead ones in the FunctionsToRemove set.</span></div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>) {</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>    <a class="code hl_class" href="classllvm_1_1CallGraphNode.html">CallGraphNode</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CGN</a> = <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second.get();</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>    <a class="code hl_class" href="classllvm_1_1Function.html">Function</a> *<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CGN</a>-&gt;getFunction();</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> || <a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;isDeclaration())</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span> </div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>    <span class="comment">// Handle the case when this function is called and we only want to care</span></div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>    <span class="comment">// about always-inline functions. This is a bit of a hack to share code</span></div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>    <span class="comment">// between here and the InlineAlways pass.</span></div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AlwaysInlineOnly</a> &amp;&amp; !<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasFnAttribute(Attribute::AlwaysInline))</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span> </div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>    <span class="comment">// If the only remaining users of the function are dead constants, remove</span></div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>    <span class="comment">// them.</span></div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>    <a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;removeDeadConstantUsers();</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span> </div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;isDefTriviallyDead())</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span> </div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>    <span class="comment">// It is unsafe to drop a function with discardable linkage from a COMDAT</span></div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>    <span class="comment">// without also dropping the other members of the COMDAT.</span></div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>    <span class="comment">// The inliner doesn&#39;t visit non-function entities which are in COMDAT</span></div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>    <span class="comment">// groups so it is unsafe to do so *unless* the linkage is local.</span></div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasLocalLinkage()) {</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>      <span class="keywordflow">if</span> (<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasComdat()) {</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>        DeadFunctionsInComdats.push_back(<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>      }</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>    }</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span> </div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RemoveCGN</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CGN</a>);</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>  }</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>  <span class="keywordflow">if</span> (!DeadFunctionsInComdats.empty()) {</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>    <span class="comment">// Filter out the functions whose comdats remain alive.</span></div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>    <a class="code hl_function" href="namespacellvm.html#a072ba11b671d86dd2d3418661915c5d2">filterDeadComdatFunctions</a>(<a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>.getModule(), DeadFunctionsInComdats);</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>    <span class="comment">// Remove the rest.</span></div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>    <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1Function.html">Function</a> *<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : DeadFunctionsInComdats)</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>      <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">RemoveCGN</a>(<a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>[<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>]);</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>  }</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span> </div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FunctionsToRemove</a>.empty())</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span> </div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>  <span class="comment">// Now that we know which functions to delete, do so.  We didn&#39;t want to do</span></div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>  <span class="comment">// this inline, because that would invalidate our CallGraph::iterator</span></div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>  <span class="comment">// objects. :(</span></div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>  <span class="comment">// Note that it doesn&#39;t matter that we are iterating over a non-stable order</span></div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>  <span class="comment">// here to do this, it doesn&#39;t matter which order the functions are deleted</span></div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>  <span class="comment">// in.</span></div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>  <a class="code hl_function" href="namespacellvm.html#add1eb5637dd671428b6f138ed3db6428">array_pod_sort</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FunctionsToRemove</a>.begin(), <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FunctionsToRemove</a>.end());</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FunctionsToRemove</a>.erase(</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>      std::unique(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FunctionsToRemove</a>.begin(), <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FunctionsToRemove</a>.end()),</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>      <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FunctionsToRemove</a>.end());</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1CallGraphNode.html">CallGraphNode</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CGN</a> : <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">FunctionsToRemove</a>) {</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>    <span class="keyword">delete</span> <a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>.removeFunctionFromModule(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CGN</a>);</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>    ++<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NumDeleted</a>;</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>  }</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>}</div>
</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span> </div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span><a class="code hl_class" href="classllvm_1_1InlineAdvisor.html">InlineAdvisor</a> &amp;</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>InlinerPass::getAdvisor(<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1OuterAnalysisManagerProxy_1_1Result.html">ModuleAnalysisManagerCGSCCProxy::Result</a> &amp;MAM,</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>                        <a class="code hl_class" href="classllvm_1_1AnalysisManager.html">FunctionAnalysisManager</a> &amp;FAM, <a class="code hl_class" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>  <span class="keywordflow">if</span> (OwnedAdvisor)</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>    <span class="keywordflow">return</span> *OwnedAdvisor;</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span> </div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>  <span class="keyword">auto</span> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IAA</a> = MAM.<a class="code hl_function" href="classllvm_1_1OuterAnalysisManagerProxy_1_1Result.html#a11b47a107f405156c54ef83b8529459b">getCachedResult</a>&lt;<a class="code hl_class" href="classllvm_1_1InlineAdvisorAnalysis.html">InlineAdvisorAnalysis</a>&gt;(M);</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>  <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IAA</a>) {</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>    <span class="comment">// It should still be possible to run the inliner as a stand-alone SCC pass,</span></div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>    <span class="comment">// for test scenarios. In that case, we default to the</span></div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>    <span class="comment">// DefaultInlineAdvisor, which doesn&#39;t need to keep state between SCC pass</span></div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>    <span class="comment">// runs. It also uses just the default InlineParams.</span></div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>    <span class="comment">// In this case, we need to use the provided FAM, which is valid for the</span></div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>    <span class="comment">// duration of the inliner pass, and thus the lifetime of the owned advisor.</span></div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>    <span class="comment">// The one we would get from the MAM can be invalidated as a result of the</span></div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>    <span class="comment">// inliner&#39;s activity.</span></div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>    OwnedAdvisor =</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>        std::make_unique&lt;DefaultInlineAdvisor&gt;(M, FAM, <a class="code hl_function" href="namespacellvm.html#aba7063dea024346c7b70099c63703f50">getInlineParams</a>());</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span> </div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="Inliner_8cpp.html#a376ef0ac66e97ad474ee2bbffadde359">CGSCCInlineReplayFile</a>.empty())</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>      OwnedAdvisor = std::make_unique&lt;ReplayInlineAdvisor&gt;(</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>          M, FAM, M.getContext(), std::move(OwnedAdvisor),</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>          <a class="code hl_variable" href="Inliner_8cpp.html#a376ef0ac66e97ad474ee2bbffadde359">CGSCCInlineReplayFile</a>,</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>          <span class="comment">/*EmitRemarks=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span> </div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>    <span class="keywordflow">return</span> *OwnedAdvisor;</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>  }</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>  <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IAA</a>-&gt;getAdvisor() &amp;&amp;</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>         <span class="stringliteral">&quot;Expected a present InlineAdvisorAnalysis also have an &quot;</span></div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>         <span class="stringliteral">&quot;InlineAdvisor initialized&quot;</span>);</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>  <span class="keywordflow">return</span> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IAA</a>-&gt;getAdvisor();</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>}</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span> </div>
<div class="foldopen" id="foldopen00673" data-start="{" data-end="}">
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno"><a class="line" href="classllvm_1_1InlinerPass.html#a78e09cea341cfdf58869920175c52d82">  673</a></span><a class="code hl_class" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> <a class="code hl_function" href="classllvm_1_1InlinerPass.html#a78e09cea341cfdf58869920175c52d82">InlinerPass::run</a>(<a class="code hl_class" href="classllvm_1_1LazyCallGraph_1_1SCC.html">LazyCallGraph::SCC</a> &amp;<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InitialC</a>,</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>                                   <a class="code hl_class" href="classllvm_1_1AnalysisManager.html">CGSCCAnalysisManager</a> &amp;AM, <a class="code hl_class" href="classllvm_1_1LazyCallGraph.html">LazyCallGraph</a> &amp;<a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>,</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>                                   <a class="code hl_struct" href="structllvm_1_1CGSCCUpdateResult.html">CGSCCUpdateResult</a> &amp;UR) {</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">MAMProxy</a> =</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>      AM.<a class="code hl_function" href="classllvm_1_1AnalysisManager.html#aaab1fad63e4f3b8679469720a873fedd">getResult</a>&lt;<a class="code hl_class" href="classllvm_1_1OuterAnalysisManagerProxy.html">ModuleAnalysisManagerCGSCCProxy</a>&gt;(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InitialC</a>, <a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>);</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="CoroSplit_8cpp.html#a1b7259e431066a500b6b6e7267fad8c3">Changed</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span> </div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>  <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InitialC</a>.size() &gt; 0 &amp;&amp; <span class="stringliteral">&quot;Cannot handle an empty SCC!&quot;</span>);</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>  <a class="code hl_class" href="classllvm_1_1Module.html">Module</a> &amp;M = *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InitialC</a>.begin()-&gt;getFunction().getParent();</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>  <a class="code hl_class" href="classllvm_1_1ProfileSummaryInfo.html">ProfileSummaryInfo</a> *PSI = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">MAMProxy</a>.getCachedResult&lt;<a class="code hl_class" href="classllvm_1_1ProfileSummaryAnalysis.html">ProfileSummaryAnalysis</a>&gt;(M);</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span> </div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>  <a class="code hl_class" href="classllvm_1_1AnalysisManager.html">FunctionAnalysisManager</a> &amp;FAM =</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>      AM.<a class="code hl_function" href="classllvm_1_1AnalysisManager.html#aaab1fad63e4f3b8679469720a873fedd">getResult</a>&lt;<a class="code hl_class" href="classllvm_1_1FunctionAnalysisManagerCGSCCProxy.html">FunctionAnalysisManagerCGSCCProxy</a>&gt;(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InitialC</a>, <a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>)</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>          .getManager();</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span> </div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>  <a class="code hl_class" href="classllvm_1_1InlineAdvisor.html">InlineAdvisor</a> &amp;Advisor = getAdvisor(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">MAMProxy</a>, FAM, M);</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>  Advisor.<a class="code hl_function" href="classllvm_1_1InlineAdvisor.html#a54963101ab0404fae86e71683367e599">onPassEntry</a>();</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span> </div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>  <span class="keyword">auto</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">AdvisorOnExit</a> = <a class="code hl_function" href="namespacellvm.html#a546d82d3e067a9979464ddde9fc2f46a">make_scope_exit</a>([&amp;] { Advisor.<a class="code hl_function" href="classllvm_1_1InlineAdvisor.html#af14b8fcd755111a2fc8f52dac99898f8">onPassExit</a>(); });</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span> </div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>  <span class="comment">// We use a single common worklist for calls across the entire SCC. We</span></div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>  <span class="comment">// process these in-order and append new calls introduced during inlining to</span></div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>  <span class="comment">// the end.</span></div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>  <span class="comment">// Note that this particular order of processing is actually critical to</span></div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>  <span class="comment">// avoid very bad behaviors. Consider *highly connected* call graphs where</span></div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>  <span class="comment">// each function contains a small amount of code and a couple of calls to</span></div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>  <span class="comment">// other functions. Because the LLVM inliner is fundamentally a bottom-up</span></div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>  <span class="comment">// inliner, it can handle gracefully the fact that these all appear to be</span></div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>  <span class="comment">// reasonable inlining candidates as it will flatten things until they become</span></div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>  <span class="comment">// too big to inline, and then move on and flatten another batch.</span></div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>  <span class="comment">// However, when processing call edges *within* an SCC we cannot rely on this</span></div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>  <span class="comment">// bottom-up behavior. As a consequence, with heavily connected *SCCs* of</span></div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>  <span class="comment">// functions we can end up incrementally inlining N calls into each of</span></div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>  <span class="comment">// N functions because each incremental inlining decision looks good and we</span></div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>  <span class="comment">// don&#39;t have a topological ordering to prevent explosions.</span></div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>  <span class="comment">// To compensate for this, we don&#39;t process transitive edges made immediate</span></div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>  <span class="comment">// by inlining until we&#39;ve done one pass of inlining across the entire SCC.</span></div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>  <span class="comment">// Large, highly connected SCCs still lead to some amount of code bloat in</span></div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>  <span class="comment">// this model, but it is uniformly spread across all the functions in the SCC</span></div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>  <span class="comment">// and eventually they all become too large to inline, rather than</span></div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>  <span class="comment">// incrementally maknig a single function grow in a super linear fashion.</span></div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;std::pair&lt;CallBase *, int&gt;</a>, 16&gt; Calls;</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span> </div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>  <span class="comment">// Populate the initial list of calls in this SCC.</span></div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code hl_define" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> : <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InitialC</a>) {</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>    <span class="keyword">auto</span> &amp;ORE =</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>        FAM.getResult&lt;<a class="code hl_class" href="classllvm_1_1OptimizationRemarkEmitterAnalysis.html">OptimizationRemarkEmitterAnalysis</a>&gt;(<a class="code hl_define" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getFunction());</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>    <span class="comment">// We want to generally process call sites top-down in order for</span></div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>    <span class="comment">// simplifications stemming from replacing the call with the returned value</span></div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>    <span class="comment">// after inlining to be visible to subsequent inlining decisions.</span></div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>    <span class="comment">// FIXME: Using instructions sequence is a really bad way to do this.</span></div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>    <span class="comment">// Instead we should do an actual RPO walk of the function body.</span></div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>    <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code hl_variable" href="MustExecute_8cpp.html#a13fbdcf3bc34f504e8f2b5f2aa7d7f7c">instructions</a>(<a class="code hl_define" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getFunction()))</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CB = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">dyn_cast&lt;CallBase&gt;</a>(&amp;<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1Function.html">Function</a> *<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = CB-&gt;<a class="code hl_function" href="classllvm_1_1CallBase.html#a2b1ae7cf1bafdd43d1fee4c6ad0a2913">getCalledFunction</a>()) {</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>          <span class="keywordflow">if</span> (!<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;isDeclaration())</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>            Calls.push_back({CB, -1});</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">isa&lt;IntrinsicInst&gt;</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>            <span class="keyword">using namespace </span>ore;</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>            <a class="code hl_function" href="namespacellvm.html#a444e3e622a00db2be6dcaf46cef996f5">setInlineRemark</a>(*CB, <span class="stringliteral">&quot;unavailable definition&quot;</span>);</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>            ORE.emit([&amp;]() {</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>              <span class="keywordflow">return</span> <a class="code hl_class" href="classllvm_1_1OptimizationRemarkMissed.html">OptimizationRemarkMissed</a>(<a class="code hl_define" href="BlockFrequencyInfoImpl_8h.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <span class="stringliteral">&quot;NoDefinition&quot;</span>, &amp;<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>                     &lt;&lt; NV(<span class="stringliteral">&quot;Callee&quot;</span>, <a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>) &lt;&lt; <span class="stringliteral">&quot; will not be inlined into &quot;</span></div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>                     &lt;&lt; NV(<span class="stringliteral">&quot;Caller&quot;</span>, CB-&gt;<a class="code hl_function" href="classllvm_1_1CallBase.html#afac5b39bcbb90d660f83d9b4bd8c6d95">getCaller</a>())</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>                     &lt;&lt; <span class="stringliteral">&quot; because its definition is unavailable&quot;</span></div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>                     &lt;&lt; setIsVerbose();</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>            });</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>          }</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>        }</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>  }</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>  <span class="keywordflow">if</span> (Calls.empty())</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span> </div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>  <span class="comment">// Capture updatable variable for the current SCC.</span></div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>  <span class="keyword">auto</span> *<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a694d9607a781d330039787de0726acc0">C</a> = &amp;<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InitialC</a>;</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span> </div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>  <span class="comment">// When inlining a callee produces new call sites, we want to keep track of</span></div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>  <span class="comment">// the fact that they were inlined from the callee.  This allows us to avoid</span></div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>  <span class="comment">// infinite inlining in some obscure cases.  To represent this, we use an</span></div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>  <span class="comment">// index into the InlineHistory vector.</span></div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;std::pair&lt;Function *, int&gt;</a>, 16&gt; <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistory</a>;</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span> </div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>  <span class="comment">// Track a set vector of inlined callees so that we can augment the caller</span></div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>  <span class="comment">// with all of their edges in the call graph before pruning out the ones that</span></div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>  <span class="comment">// got simplified away.</span></div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallSetVector&lt;Function *, 4&gt;</a> InlinedCallees;</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span> </div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>  <span class="comment">// Track the dead functions to delete once finished with inlining calls. We</span></div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>  <span class="comment">// defer deleting these to make it easier to handle the call graph updates.</span></div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">SmallVector&lt;Function *, 4&gt;</a> DeadFunctions;</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span> </div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>  <span class="comment">// Loop forward over all of the calls. Note that we cannot cache the size as</span></div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>  <span class="comment">// inlining can introduce new calls that need to be processed.</span></div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; (int)Calls.size(); ++<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>    <span class="comment">// We expect the calls to typically be batched with sequences of calls that</span></div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>    <span class="comment">// have the same caller, so we first set up some shared infrastructure for</span></div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>    <span class="comment">// this caller. We also do any pruning we can at this layer on the caller</span></div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>    <span class="comment">// alone.</span></div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>    <a class="code hl_class" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = *Calls[<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].first-&gt;getCaller();</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>    <a class="code hl_class" href="classllvm_1_1LazyCallGraph_1_1Node.html">LazyCallGraph::Node</a> &amp;<a class="code hl_define" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = *<a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>.lookup(<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>.lookupSCC(<a class="code hl_define" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) != <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a694d9607a781d330039787de0726acc0">C</a>)</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span> </div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>    <a class="code hl_define" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Inlining calls in: &quot;</span> &lt;&lt; <a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span> </div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>    <span class="keyword">auto</span> GetAssumptionCache = [&amp;](<a class="code hl_class" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) -&gt; <a class="code hl_class" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp; {</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>      <span class="keywordflow">return</span> FAM.<a class="code hl_function" href="classllvm_1_1AnalysisManager.html#aaab1fad63e4f3b8679469720a873fedd">getResult</a>&lt;<a class="code hl_class" href="classllvm_1_1AssumptionAnalysis.html">AssumptionAnalysis</a>&gt;(<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>    };</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span> </div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>    <span class="comment">// Now process as many calls as we have within this caller in the sequence.</span></div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>    <span class="comment">// We bail out as soon as the caller has to change so we can update the</span></div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>    <span class="comment">// call graph and prepare the context of that new caller.</span></div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>    <span class="keywordtype">bool</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DidInline</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>    <span class="keywordflow">for</span> (; <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; (int)Calls.size() &amp;&amp; Calls[<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].first-&gt;getCaller() == &amp;<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>; ++<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>      <span class="keyword">auto</span> &amp;<a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a> = Calls[<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>      <a class="code hl_class" href="classllvm_1_1CallBase.html">CallBase</a> *CB = <a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>.first;</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistoryID</a> = <a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>.second;</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>      <a class="code hl_class" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = *CB-&gt;<a class="code hl_function" href="classllvm_1_1CallBase.html#a2b1ae7cf1bafdd43d1fee4c6ad0a2913">getCalledFunction</a>();</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span> </div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>      <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistoryID</a> != -1 &amp;&amp;</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>          <a class="code hl_function" href="Inliner_8cpp.html#a12a3c37c6bd2a94f388aafe4e68462f1">inlineHistoryIncludes</a>(&amp;<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistoryID</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistory</a>)) {</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>        <a class="code hl_function" href="namespacellvm.html#a444e3e622a00db2be6dcaf46cef996f5">setInlineRemark</a>(*CB, <span class="stringliteral">&quot;recursive&quot;</span>);</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>      }</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span> </div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>      <span class="comment">// Check if this inlining may repeat breaking an SCC apart that has</span></div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>      <span class="comment">// already been split once before. In that case, inlining here may</span></div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>      <span class="comment">// trigger infinite inlining, much like is prevented within the inliner</span></div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>      <span class="comment">// itself by the InlineHistory above, but spread across CGSCC iterations</span></div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>      <span class="comment">// and thus hidden from the full inline history.</span></div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>.lookupSCC(*<a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>.lookup(<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>)) == <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a694d9607a781d330039787de0726acc0">C</a> &amp;&amp;</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>          UR.InlinedInternalEdges.count({&amp;N, C})) {</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>        <a class="code hl_define" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Skipping inlining internal SCC edge from a node &quot;</span></div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>                             <span class="stringliteral">&quot;previously split out of this SCC by inlining: &quot;</span></div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>                          &lt;&lt; <a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName() &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; <a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>.getName() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>        <a class="code hl_function" href="namespacellvm.html#a444e3e622a00db2be6dcaf46cef996f5">setInlineRemark</a>(*CB, <span class="stringliteral">&quot;recursive SCC split&quot;</span>);</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>      }</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span> </div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>      <span class="keyword">auto</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Advice</a> = Advisor.getAdvice(*CB, OnlyMandatory);</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>      <span class="comment">// Check whether we want to inline this callsite.</span></div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>      <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Advice</a>-&gt;isInliningRecommended()) {</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>        <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Advice</a>-&gt;recordUnattemptedInlining();</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>      }</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span> </div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>      <span class="comment">// Setup the data structure used to plumb customization into the</span></div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>      <span class="comment">// `InlineFunction` routine.</span></div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>      <a class="code hl_class" href="classllvm_1_1InlineFunctionInfo.html">InlineFunctionInfo</a> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IFI</a>(</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>          <span class="comment">/*cg=*/</span><span class="keyword">nullptr</span>, GetAssumptionCache, PSI,</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>          &amp;FAM.<a class="code hl_function" href="classllvm_1_1AnalysisManager.html#aaab1fad63e4f3b8679469720a873fedd">getResult</a>&lt;<a class="code hl_class" href="classllvm_1_1BlockFrequencyAnalysis.html">BlockFrequencyAnalysis</a>&gt;(*(CB-&gt;<a class="code hl_function" href="classllvm_1_1CallBase.html#afac5b39bcbb90d660f83d9b4bd8c6d95">getCaller</a>())),</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>          &amp;FAM.<a class="code hl_function" href="classllvm_1_1AnalysisManager.html#aaab1fad63e4f3b8679469720a873fedd">getResult</a>&lt;<a class="code hl_class" href="classllvm_1_1BlockFrequencyAnalysis.html">BlockFrequencyAnalysis</a>&gt;(<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>));</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span> </div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>      <a class="code hl_class" href="classllvm_1_1InlineResult.html">InlineResult</a> <a class="code hl_variable" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a> =</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>          <a class="code hl_function" href="namespacellvm.html#a7e39b6f753eab4236840973d7f6ddbfe">InlineFunction</a>(*CB, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IFI</a>, &amp;FAM.<a class="code hl_function" href="classllvm_1_1AnalysisManager.html#aaab1fad63e4f3b8679469720a873fedd">getResult</a>&lt;<a class="code hl_class" href="classllvm_1_1AAManager.html">AAManager</a>&gt;(*CB-&gt;<a class="code hl_function" href="classllvm_1_1CallBase.html#afac5b39bcbb90d660f83d9b4bd8c6d95">getCaller</a>()));</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>      <span class="keywordflow">if</span> (!<a class="code hl_variable" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>.isSuccess()) {</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>        <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Advice</a>-&gt;recordUnsuccessfulInlining(<a class="code hl_variable" href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a>);</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>      }</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span> </div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>      <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DidInline</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>      InlinedCallees.insert(&amp;<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>);</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>      ++<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NumInlined</a>;</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span> </div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>      <span class="comment">// Add any new callsites to defined functions to the worklist.</span></div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>      <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IFI</a>.InlinedCallSites.empty()) {</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>        <span class="keywordtype">int</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NewHistoryID</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistory</a>.size();</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>        <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistory</a>.push_back({&amp;<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">InlineHistoryID</a>});</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span> </div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>        <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1CallBase.html">CallBase</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ICB</a> : <a class="code hl_function" href="namespacellvm.html#a469101ea87b8b432a1b4f7935c97f35c">reverse</a>(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IFI</a>.InlinedCallSites)) {</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>          <a class="code hl_class" href="classllvm_1_1Function.html">Function</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NewCallee</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ICB</a>-&gt;getCalledFunction();</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>          <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NewCallee</a>) {</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>            <span class="comment">// Try to promote an indirect (virtual) call without waiting for</span></div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>            <span class="comment">// the post-inline cleanup and the next DevirtSCCRepeatedPass</span></div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>            <span class="comment">// iteration because the next iteration may not happen and we may</span></div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>            <span class="comment">// miss inlining it.</span></div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacellvm.html#ad3219f7b717320ae52f53ccb09ad5a84">tryPromoteCall</a>(*<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ICB</a>))</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>              <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NewCallee</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ICB</a>-&gt;getCalledFunction();</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>          }</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>          <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NewCallee</a>)</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>            <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NewCallee</a>-&gt;isDeclaration())</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>              Calls.push_back({<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">ICB</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NewHistoryID</a>});</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>        }</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>      }</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span> </div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>      <span class="comment">// Merge the attributes based on the inlining.</span></div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>      <a class="code hl_function" href="namespacellvm_1_1AttributeFuncs.html#ae05b3471aef6ffe376ceef99af9b4709">AttributeFuncs::mergeAttributesForInlining</a>(<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>);</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span> </div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>      <span class="comment">// For local functions, check whether this makes the callee trivially</span></div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>      <span class="comment">// dead. In that case, we can drop the body of the function eagerly</span></div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>      <span class="comment">// which may reduce the number of callers of other functions to one,</span></div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>      <span class="comment">// changing inline cost thresholds.</span></div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>      <span class="keywordtype">bool</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CalleeWasDeleted</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>.hasLocalLinkage()) {</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>        <span class="comment">// To check this we also need to nuke any dead constant uses (perhaps</span></div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>        <span class="comment">// made dead by this operation on other functions).</span></div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>        <a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>.removeDeadConstantUsers();</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>.use_empty() &amp;&amp; !<a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>.isLibFunction(<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>)) {</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>          Calls.erase(</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>              std::remove_if(Calls.begin() + <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> + 1, Calls.end(),</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>                             [&amp;](<span class="keyword">const</span> std::pair&lt;CallBase *, int&gt; &amp;Call) {</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>                               return Call.first-&gt;getCaller() == &amp;Callee;</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>                             }),</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>              Calls.end());</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>          <span class="comment">// Clear the body and queue the function itself for deletion when we</span></div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>          <span class="comment">// finish inlining and call graph updates.</span></div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>          <span class="comment">// Note that after this point, it is an error to do anything other</span></div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>          <span class="comment">// than use the callee&#39;s address or delete it.</span></div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>          <a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>.dropAllReferences();</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>          <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code hl_function" href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">is_contained</a>(DeadFunctions, &amp;<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>) &amp;&amp;</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>                 <span class="stringliteral">&quot;Cannot put cause a function to become dead twice!&quot;</span>);</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>          DeadFunctions.push_back(&amp;<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>);</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>          <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CalleeWasDeleted</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>        }</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>      }</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>      <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">CalleeWasDeleted</a>)</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>        <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Advice</a>-&gt;recordInliningWithCalleeDeleted();</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>      <span class="keywordflow">else</span></div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>        <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Advice</a>-&gt;recordInlining();</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>    }</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span> </div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>    <span class="comment">// Back the call index up by one to put us in a good position to go around</span></div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>    <span class="comment">// the outer loop.</span></div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>    --<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span> </div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>    <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DidInline</a>)</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>    <a class="code hl_variable" href="CoroSplit_8cpp.html#a1b7259e431066a500b6b6e7267fad8c3">Changed</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span> </div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>    <span class="comment">// At this point, since we have made changes we have at least removed</span></div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>    <span class="comment">// a call instruction. However, in the process we do some incremental</span></div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>    <span class="comment">// simplification of the surrounding code. This simplification can</span></div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>    <span class="comment">// essentially do all of the same things as a function pass and we can</span></div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>    <span class="comment">// re-use the exact same logic for updating the call graph to reflect the</span></div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>    <span class="comment">// change.</span></div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span> </div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>    <span class="comment">// Inside the update, we also update the FunctionAnalysisManager in the</span></div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>    <span class="comment">// proxy for this particular SCC. We do this as the SCC may have changed and</span></div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>    <span class="comment">// as we&#39;re going to mutate this particular function we want to make sure</span></div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>    <span class="comment">// the proxy is in place to forward any invalidation events.</span></div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>    <a class="code hl_class" href="classllvm_1_1LazyCallGraph_1_1SCC.html">LazyCallGraph::SCC</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OldC</a> = <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a694d9607a781d330039787de0726acc0">C</a>;</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>    <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a694d9607a781d330039787de0726acc0">C</a> = &amp;<a class="code hl_function" href="namespacellvm.html#a2e739fb4907159062aacbbafea669592">updateCGAndAnalysisManagerForCGSCCPass</a>(<a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>, *<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a694d9607a781d330039787de0726acc0">C</a>, <a class="code hl_define" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, AM, UR, FAM);</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>    <a class="code hl_define" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Updated inlining SCC: &quot;</span> &lt;&lt; *<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a694d9607a781d330039787de0726acc0">C</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span> </div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>    <span class="comment">// If this causes an SCC to split apart into multiple smaller SCCs, there</span></div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>    <span class="comment">// is a subtle risk we need to prepare for. Other transformations may</span></div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>    <span class="comment">// expose an &quot;infinite inlining&quot; opportunity later, and because of the SCC</span></div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>    <span class="comment">// mutation, we will revisit this function and potentially re-inline. If we</span></div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>    <span class="comment">// do, and that re-inlining also has the potentially to mutate the SCC</span></div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>    <span class="comment">// structure, the infinite inlining problem can manifest through infinite</span></div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>    <span class="comment">// SCC splits and merges. To avoid this, we capture the originating caller</span></div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>    <span class="comment">// node and the SCC containing the call edge. This is a slight over</span></div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>    <span class="comment">// approximation of the possible inlining decisions that must be avoided,</span></div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>    <span class="comment">// but is relatively efficient to store. We use C != OldC to know when</span></div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>    <span class="comment">// a new SCC is generated and the original SCC may be generated via merge</span></div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>    <span class="comment">// in later iterations.</span></div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>    <span class="comment">//</span></div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>    <span class="comment">// It is also possible that even if no new SCC is generated</span></div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>    <span class="comment">// (i.e., C == OldC), the original SCC could be split and then merged</span></div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>    <span class="comment">// into the same one as itself. and the original SCC will be added into</span></div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>    <span class="comment">// UR.CWorklist again, we want to catch such cases too.</span></div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>    <span class="comment">//</span></div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>    <span class="comment">// FIXME: This seems like a very heavyweight way of retaining the inline</span></div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>    <span class="comment">// history, we should look for a more efficient way of tracking it.</span></div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a694d9607a781d330039787de0726acc0">C</a> != <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OldC</a> || UR.CWorklist.count(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OldC</a>)) &amp;&amp;</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>        <a class="code hl_function" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a>(InlinedCallees, [&amp;](<a class="code hl_class" href="classllvm_1_1Function.html">Function</a> *<a class="code hl_variable" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>) {</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>          return CG.lookupSCC(*CG.lookup(*Callee)) == OldC;</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>        })) {</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>      <a class="code hl_define" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Inlined an internal call edge and split an SCC, &quot;</span></div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>                           <span class="stringliteral">&quot;retaining this to avoid infinite inlining.\n&quot;</span>);</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>      UR.InlinedInternalEdges.insert({&amp;<a class="code hl_define" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">OldC</a>});</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>    }</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>    InlinedCallees.clear();</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>  }</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span> </div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>  <span class="comment">// Now that we&#39;ve finished inlining all of the calls across this SCC, delete</span></div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>  <span class="comment">// all of the trivially dead functions, updating the call graph and the CGSCC</span></div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>  <span class="comment">// pass manager in the process.</span></div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>  <span class="comment">// Note that this walks a pointer set which has non-deterministic order but</span></div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>  <span class="comment">// that is OK as all we do is delete things and add pointers to unordered</span></div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>  <span class="comment">// sets.</span></div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1Function.html">Function</a> *<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DeadF</a> : DeadFunctions) {</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>    <span class="comment">// Get the necessary information out of the call graph and nuke the</span></div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>    <span class="comment">// function there. Also, clear out any cached analyses.</span></div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>    <span class="keyword">auto</span> &amp;<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DeadC</a> = *<a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>.lookupSCC(*<a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>.lookup(*<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DeadF</a>));</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>    FAM.<a class="code hl_function" href="classllvm_1_1AnalysisManager.html#a4926331431f03253ee3ec8e6e3bb9d1c">clear</a>(*<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DeadF</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DeadF</a>-&gt;getName());</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>    AM.clear(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DeadC</a>, <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DeadC</a>.getName());</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>    <span class="keyword">auto</span> &amp;<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DeadRC</a> = <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DeadC</a>.getOuterRefSCC();</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>    <a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>.removeDeadFunction(*<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DeadF</a>);</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span> </div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>    <span class="comment">// Mark the relevant parts of the call graph as invalid so we don&#39;t visit</span></div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>    <span class="comment">// them.</span></div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>    UR.InvalidatedSCCs.insert(&amp;<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DeadC</a>);</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>    UR.InvalidatedRefSCCs.insert(&amp;<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DeadRC</a>);</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span> </div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>    <span class="comment">// And delete the actual function from the module.</span></div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>    <span class="comment">// The Advisor may use Function pointers to efficiently index various</span></div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>    <span class="comment">// internal maps, e.g. for memoization. Function cleanup passes like</span></div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>    <span class="comment">// argument promotion create new functions. It is possible for a new</span></div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>    <span class="comment">// function to be allocated at the address of a deleted function. We could</span></div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>    <span class="comment">// index using names, but that&#39;s inefficient. Alternatively, we let the</span></div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>    <span class="comment">// Advisor free the functions when it sees fit.</span></div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>    <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DeadF</a>-&gt;getBasicBlockList().clear();</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>    M.getFunctionList().remove(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">DeadF</a>);</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span> </div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>    ++<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">NumDeleted</a>;</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>  }</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span> </div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="CoroSplit_8cpp.html#a1b7259e431066a500b6b6e7267fad8c3">Changed</a>)</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span> </div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>  <span class="comment">// Even if we change the IR, we update the core CGSCC data structures and so</span></div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>  <span class="comment">// can preserve the proxy to the function analysis manager.</span></div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>  <a class="code hl_class" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> PA;</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>  PA.<a class="code hl_function" href="classllvm_1_1PreservedAnalyses.html#ad966bea18aa62ffb9e040509adc7c99f">preserve</a>&lt;<a class="code hl_class" href="classllvm_1_1FunctionAnalysisManagerCGSCCProxy.html">FunctionAnalysisManagerCGSCCProxy</a>&gt;();</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>  <span class="keywordflow">return</span> PA;</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>}</div>
</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span> </div>
<div class="foldopen" id="foldopen00995" data-start="{" data-end="}">
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno"><a class="line" href="classllvm_1_1ModuleInlinerWrapperPass.html#a3e7ab44640563d46ae7aff9758e3e93a">  995</a></span><a class="code hl_function" href="classllvm_1_1ModuleInlinerWrapperPass.html#a3e7ab44640563d46ae7aff9758e3e93a">ModuleInlinerWrapperPass::ModuleInlinerWrapperPass</a>(<a class="code hl_struct" href="structllvm_1_1InlineParams.html">InlineParams</a> Params,</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>                                                   <span class="keywordtype">bool</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Debugging</a>,</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>                                                   <span class="keywordtype">bool</span> <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">MandatoryFirst</a>,</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>                                                   <a class="code hl_enumeration" href="namespacellvm.html#a239c4ac35d6028bfacaed4018d0488fa">InliningAdvisorMode</a> Mode,</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>                                                   <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="CallGraphSCCPass_8cpp.html#a5fcbd0a32a9c589f5e5390dcf9ad1f03">MaxDevirtIterations</a>)</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>    : Params(Params), Mode(Mode), <a class="code hl_variable" href="CallGraphSCCPass_8cpp.html#a5fcbd0a32a9c589f5e5390dcf9ad1f03">MaxDevirtIterations</a>(<a class="code hl_variable" href="CallGraphSCCPass_8cpp.html#a5fcbd0a32a9c589f5e5390dcf9ad1f03">MaxDevirtIterations</a>),</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>      PM(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Debugging</a>), MPM(<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">Debugging</a>) {</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>  <span class="comment">// Run the inliner first. The theory is that we are walking bottom-up and so</span></div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>  <span class="comment">// the callees have already been fully optimized, and we want to inline them</span></div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>  <span class="comment">// into the callers so that our optimizations can reflect that.</span></div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>  <span class="comment">// For PreLinkThinLTO pass, we disable hot-caller heuristic for sample PGO</span></div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>  <span class="comment">// because it makes profile annotation in the backend inaccurate.</span></div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">MandatoryFirst</a>)</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>    PM.<a class="code hl_function" href="classllvm_1_1PassManager.html#a85c7e1b4e9db38c3d23307333f12574e">addPass</a>(<a class="code hl_class" href="classllvm_1_1InlinerPass.html">InlinerPass</a>(<span class="comment">/*OnlyMandatory*/</span> <span class="keyword">true</span>));</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>  PM.<a class="code hl_function" href="classllvm_1_1PassManager.html#a85c7e1b4e9db38c3d23307333f12574e">addPass</a>(<a class="code hl_class" href="classllvm_1_1InlinerPass.html">InlinerPass</a>());</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>}</div>
</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span> </div>
<div class="foldopen" id="foldopen01012" data-start="{" data-end="}">
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"><a class="line" href="classllvm_1_1ModuleInlinerWrapperPass.html#a302bbe2963bced6cb8460b94f89dd0be"> 1012</a></span><a class="code hl_class" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> <a class="code hl_function" href="classllvm_1_1ModuleInlinerWrapperPass.html#a302bbe2963bced6cb8460b94f89dd0be">ModuleInlinerWrapperPass::run</a>(<a class="code hl_class" href="classllvm_1_1Module.html">Module</a> &amp;M,</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>                                                <a class="code hl_class" href="classllvm_1_1AnalysisManager.html">ModuleAnalysisManager</a> &amp;MAM) {</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>  <span class="keyword">auto</span> &amp;<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IAA</a> = MAM.<a class="code hl_function" href="classllvm_1_1AnalysisManager.html#aaab1fad63e4f3b8679469720a873fedd">getResult</a>&lt;<a class="code hl_class" href="classllvm_1_1InlineAdvisorAnalysis.html">InlineAdvisorAnalysis</a>&gt;(M);</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>  <span class="keywordflow">if</span> (!<a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IAA</a>.tryCreate(Params, Mode, <a class="code hl_variable" href="Inliner_8cpp.html#a376ef0ac66e97ad474ee2bbffadde359">CGSCCInlineReplayFile</a>)) {</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>    M.getContext().emitError(</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>        <span class="stringliteral">&quot;Could not setup Inlining Advisor for the requested &quot;</span></div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>        <span class="stringliteral">&quot;mode and/or options&quot;</span>);</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>  }</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span> </div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>  <span class="comment">// We wrap the CGSCC pipeline in a devirtualization repeater. This will try</span></div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>  <span class="comment">// to detect when we devirtualize indirect calls and iterate the SCC passes</span></div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>  <span class="comment">// in that case to try and catch knock-on inlining or function attrs</span></div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>  <span class="comment">// opportunities. Then we add it to the module pipeline by walking the SCCs</span></div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>  <span class="comment">// in postorder (or bottom-up).</span></div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>  <span class="comment">// If MaxDevirtIterations is 0, we just don&#39;t use the devirtualization</span></div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>  <span class="comment">// wrapper.</span></div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>  <span class="keywordflow">if</span> (MaxDevirtIterations == 0)</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>    MPM.<a class="code hl_function" href="classllvm_1_1PassManager.html#a85c7e1b4e9db38c3d23307333f12574e">addPass</a>(<a class="code hl_function" href="namespacellvm.html#a9839ababd890716f93ea73e5b909cc20">createModuleToPostOrderCGSCCPassAdaptor</a>(std::move(PM)));</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>  <span class="keywordflow">else</span></div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>    MPM.<a class="code hl_function" href="classllvm_1_1PassManager.html#a85c7e1b4e9db38c3d23307333f12574e">addPass</a>(<a class="code hl_function" href="namespacellvm.html#a9839ababd890716f93ea73e5b909cc20">createModuleToPostOrderCGSCCPassAdaptor</a>(</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>        <a class="code hl_function" href="namespacellvm.html#a3f7902f4d67a0c32a82e3b00d869e2cd">createDevirtSCCRepeatedPass</a>(std::move(PM), MaxDevirtIterations)));</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>  <span class="keyword">auto</span> Ret = MPM.<a class="code hl_function" href="classllvm_1_1PassManager.html#aef5d9142acafceffd14c76b8ddd0fd4e">run</a>(M, MAM);</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span> </div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>  <a class="code hl_class" href="classllvm_1_1ilist__node__impl.html">IAA</a>.clear();</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>  <span class="keywordflow">return</span> Ret;</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>}</div>
</div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_a537c835c34f0b44b6ad2696643754390"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Callee</div><div class="ttdef"><b>Definition</b> <a href="AMDGPULibCalls_8cpp_source.html#l00205">AMDGPULibCalls.cpp:205</a></div></div>
<div class="ttc" id="aAssumptionCache_8h_html"><div class="ttname"><a href="AssumptionCache_8h.html">AssumptionCache.h</a></div></div>
<div class="ttc" id="aAttributes_8h_html"><div class="ttname"><a href="Attributes_8h.html">Attributes.h</a></div><div class="ttdoc">This file contains the simple types necessary to represent the attributes associated with functions a...</div></div>
<div class="ttc" id="aBasicAliasAnalysis_8h_html"><div class="ttname"><a href="BasicAliasAnalysis_8h.html">BasicAliasAnalysis.h</a></div><div class="ttdoc">This is the interface for LLVM's primary stateless and local alias analysis.</div></div>
<div class="ttc" id="aBasicBlock_8h_html"><div class="ttname"><a href="BasicBlock_8h.html">BasicBlock.h</a></div></div>
<div class="ttc" id="aBlockFrequencyInfoImpl_8h_html_ad78e062f62e0d6e453941fb4ca843e4d"><div class="ttname"><a href="BlockFrequencyInfoImpl_8h.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a></div><div class="ttdeci">#define DEBUG_TYPE</div><div class="ttdef"><b>Definition</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00049">BlockFrequencyInfoImpl.h:49</a></div></div>
<div class="ttc" id="aBlockFrequencyInfo_8h_html"><div class="ttname"><a href="BlockFrequencyInfo_8h.html">BlockFrequencyInfo.h</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a694d9607a781d330039787de0726acc0"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a694d9607a781d330039787de0726acc0">C</a></div><div class="ttdeci">static GCRegistry::Add&lt; ShadowStackGC &gt; C(&quot;shadow-stack&quot;, &quot;Very portable GC for uncooperative code generators&quot;)</div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_ab5899ca200d34e3cc6bb09ebce5e5b3c"><div class="ttname"><a href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aCGSCCPassManager_8h_html"><div class="ttname"><a href="CGSCCPassManager_8h.html">CGSCCPassManager.h</a></div><div class="ttdoc">This header provides classes for managing passes over SCCs of the call graph.</div></div>
<div class="ttc" id="aCallGraphSCCPass_8cpp_html_a5fcbd0a32a9c589f5e5390dcf9ad1f03"><div class="ttname"><a href="CallGraphSCCPass_8cpp.html#a5fcbd0a32a9c589f5e5390dcf9ad1f03">MaxDevirtIterations</a></div><div class="ttdeci">cl::opt&lt; unsigned &gt; MaxDevirtIterations(&quot;max-devirt-iterations&quot;, cl::ReallyHidden, cl::init(4))</div></div>
<div class="ttc" id="aCallGraph_8h_html"><div class="ttname"><a href="CallGraph_8h.html">CallGraph.h</a></div><div class="ttdoc">This file provides interfaces used to build and manipulate a call graph, which is a very useful tool ...</div></div>
<div class="ttc" id="aCallPromotionUtils_8h_html"><div class="ttname"><a href="CallPromotionUtils_8h.html">CallPromotionUtils.h</a></div></div>
<div class="ttc" id="aCasting_8h_html"><div class="ttname"><a href="Casting_8h.html">Casting.h</a></div></div>
<div class="ttc" id="aCloning_8h_html"><div class="ttname"><a href="Cloning_8h.html">Cloning.h</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aCoroSplit_8cpp_html_a1b7259e431066a500b6b6e7267fad8c3"><div class="ttname"><a href="CoroSplit_8cpp.html#a1b7259e431066a500b6b6e7267fad8c3">Changed</a></div><div class="ttdeci">return Changed</div><div class="ttdef"><b>Definition</b> <a href="CoroSplit_8cpp_source.html#l01999">CoroSplit.cpp:1999</a></div></div>
<div class="ttc" id="aCoroSplit_8cpp_html_a870dde7776fd5695fbfa39d3c6396fc6"><div class="ttname"><a href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a></div><div class="ttdeci">Remove calls to llvm coro prepare a barrier meant to prevent IPO from operating on calls to a retcon coroutine before it s been split This is only safe to do after we ve split all retcon coroutines in the module We can do that this in this pass because this pass does promise to split all retcon CallGraph &amp; CG</div><div class="ttdef"><b>Definition</b> <a href="CoroSplit_8cpp_source.html#l01989">CoroSplit.cpp:1989</a></div></div>
<div class="ttc" id="aDataLayout_8h_html"><div class="ttname"><a href="DataLayout_8h.html">DataLayout.h</a></div></div>
<div class="ttc" id="aDebugLoc_8h_html"><div class="ttname"><a href="DebugLoc_8h.html">DebugLoc.h</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition</b> <a href="Debug_8h_source.html#l00122">Debug.h:122</a></div></div>
<div class="ttc" id="aDenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="aDerivedTypes_8h_html"><div class="ttname"><a href="DerivedTypes_8h.html">DerivedTypes.h</a></div></div>
<div class="ttc" id="aDiagnosticInfo_8h_html"><div class="ttname"><a href="DiagnosticInfo_8h.html">DiagnosticInfo.h</a></div></div>
<div class="ttc" id="aFunctionInfo_8cpp_html_a3e1eb307ada3e1ef3a115f4c734aa5eeac1775aaace95748849e1216a09f028fc"><div class="ttname"><a href="FunctionInfo_8cpp.html#a3e1eb307ada3e1ef3a115f4c734aa5eeac1775aaace95748849e1216a09f028fc">InlineInfo</a></div><div class="ttdeci">@ InlineInfo</div><div class="ttdef"><b>Definition</b> <a href="FunctionInfo_8cpp_source.html#l00025">FunctionInfo.cpp:24</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="aGlobalsModRef_8h_html"><div class="ttname"><a href="GlobalsModRef_8h.html">GlobalsModRef.h</a></div><div class="ttdoc">This is the interface for a simple mod/ref and alias analysis over globals.</div></div>
<div class="ttc" id="aIR_2Instruction_8h_html"><div class="ttname"><a href="IR_2Instruction_8h.html">Instruction.h</a></div></div>
<div class="ttc" id="aImportedFunctionsInliningStatistics_8cpp_html_aa248aa4f3640cd30247a25878a60380e"><div class="ttname"><a href="ImportedFunctionsInliningStatistics_8cpp.html#aa248aa4f3640cd30247a25878a60380e">InlinerFunctionImportStats</a></div><div class="ttdeci">cl::opt&lt; InlinerFunctionImportStatsOpts &gt; InlinerFunctionImportStats(&quot;inliner-function-import-stats&quot;, cl::init(InlinerFunctionImportStatsOpts::No), cl::values(clEnumValN(InlinerFunctionImportStatsOpts::Basic, &quot;basic&quot;, &quot;basic statistics&quot;), clEnumValN(InlinerFunctionImportStatsOpts::Verbose, &quot;verbose&quot;, &quot;printing of statistics for each inlined function&quot;)), cl::Hidden, cl::desc(&quot;Enable inliner stats for imported functions&quot;))</div></div>
<div class="ttc" id="aImportedFunctionsInliningStatistics_8h_html"><div class="ttname"><a href="ImportedFunctionsInliningStatistics_8h.html">ImportedFunctionsInliningStatistics.h</a></div></div>
<div class="ttc" id="aInlineAdvisor_8h_html"><div class="ttname"><a href="InlineAdvisor_8h.html">InlineAdvisor.h</a></div></div>
<div class="ttc" id="aInlineCost_8h_html"><div class="ttname"><a href="InlineCost_8h.html">InlineCost.h</a></div></div>
<div class="ttc" id="aInliner_8cpp_html_a05a1189b53c3a073702cb69dd07d326d"><div class="ttname"><a href="Inliner_8cpp.html#a05a1189b53c3a073702cb69dd07d326d">inlineCallsImpl</a></div><div class="ttdeci">static bool inlineCallsImpl(CallGraphSCC &amp;SCC, CallGraph &amp;CG, std::function&lt; AssumptionCache &amp;(Function &amp;)&gt; GetAssumptionCache, ProfileSummaryInfo *PSI, std::function&lt; const TargetLibraryInfo &amp;(Function &amp;)&gt; GetTLI, bool InsertLifetime, function_ref&lt; InlineCost(CallBase &amp;CB)&gt; GetInlineCost, function_ref&lt; AAResults &amp;(Function &amp;)&gt; AARGetter, ImportedFunctionsInliningStatistics &amp;ImportedFunctionsStats)</div><div class="ttdef"><b>Definition</b> <a href="#l00298">Inliner.cpp:298</a></div></div>
<div class="ttc" id="aInliner_8cpp_html_a12a3c37c6bd2a94f388aafe4e68462f1"><div class="ttname"><a href="Inliner_8cpp.html#a12a3c37c6bd2a94f388aafe4e68462f1">inlineHistoryIncludes</a></div><div class="ttdeci">static bool inlineHistoryIncludes(Function *F, int InlineHistoryID, const SmallVectorImpl&lt; std::pair&lt; Function *, int &gt; &gt; &amp;InlineHistory)</div><div class="ttdoc">Return true if the specified inline history ID indicates an inline history that includes the specifie...</div><div class="ttdef"><b>Definition</b> <a href="#l00272">Inliner.cpp:272</a></div></div>
<div class="ttc" id="aInliner_8cpp_html_a278a797d47de053934b02441a306d6a7"><div class="ttname"><a href="Inliner_8cpp.html#a278a797d47de053934b02441a306d6a7">InlinerFunctionImportStats</a></div><div class="ttdeci">cl::opt&lt; InlinerFunctionImportStatsOpts &gt; InlinerFunctionImportStats</div></div>
<div class="ttc" id="aInliner_8cpp_html_a376ef0ac66e97ad474ee2bbffadde359"><div class="ttname"><a href="Inliner_8cpp.html#a376ef0ac66e97ad474ee2bbffadde359">CGSCCInlineReplayFile</a></div><div class="ttdeci">static cl::opt&lt; std::string &gt; CGSCCInlineReplayFile(&quot;cgscc-inline-replay&quot;, cl::init(&quot;&quot;), cl::value_desc(&quot;filename&quot;), cl::desc(&quot;Optimization remarks file containing inline remarks to be replayed &quot; &quot;by inlining from cgscc inline remarks.&quot;), cl::Hidden)</div></div>
<div class="ttc" id="aInliner_8cpp_html_a4019f8ca0130f36f347225ac8f36d3d5"><div class="ttname"><a href="Inliner_8cpp.html#a4019f8ca0130f36f347225ac8f36d3d5">inlineCallIfPossible</a></div><div class="ttdeci">static InlineResult inlineCallIfPossible(CallBase &amp;CB, InlineFunctionInfo &amp;IFI, InlinedArrayAllocasTy &amp;InlinedArrayAllocas, int InlineHistory, bool InsertLifetime, function_ref&lt; AAResults &amp;(Function &amp;)&gt; &amp;AARGetter, ImportedFunctionsInliningStatistics &amp;ImportedFunctionsStats)</div><div class="ttdoc">If it is possible to inline the specified call site, do so and update the CallGraph for this operatio...</div><div class="ttdef"><b>Definition</b> <a href="#l00243">Inliner.cpp:243</a></div></div>
<div class="ttc" id="aInliner_8cpp_html_a9e4999207cf9e82c0ccc74d2a6040c15"><div class="ttname"><a href="Inliner_8cpp.html#a9e4999207cf9e82c0ccc74d2a6040c15">mergeInlinedArrayAllocas</a></div><div class="ttdeci">static void mergeInlinedArrayAllocas(Function *Caller, InlineFunctionInfo &amp;IFI, InlinedArrayAllocasTy &amp;InlinedArrayAllocas, int InlineHistory)</div><div class="ttdoc">Look at all of the allocas that we inlined through this call site.</div><div class="ttdef"><b>Definition</b> <a href="#l00140">Inliner.cpp:140</a></div></div>
<div class="ttc" id="aInliner_8cpp_html_ab3fd3da39238388603e77cadb102ee5c"><div class="ttname"><a href="Inliner_8cpp.html#ab3fd3da39238388603e77cadb102ee5c">DisableInlinedAllocaMerging</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; DisableInlinedAllocaMerging(&quot;disable-inlined-alloca-merging&quot;, cl::init(false), cl::Hidden)</div><div class="ttdoc">Flag to disable manual alloca merging.</div></div>
<div class="ttc" id="aInliner_8h_html"><div class="ttname"><a href="Inliner_8h.html">Inliner.h</a></div></div>
<div class="ttc" id="aInstIterator_8h_html"><div class="ttname"><a href="InstIterator_8h.html">InstIterator.h</a></div></div>
<div class="ttc" id="aInstructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="aIntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="aLazyCallGraph_8h_html"><div class="ttname"><a href="LazyCallGraph_8h.html">LazyCallGraph.h</a></div><div class="ttdoc">Implements a lazy call graph analysis and related passes for the new pass manager.</div></div>
<div class="ttc" id="aLint_8cpp_html_a7fb3c9caadeb0f7fe4828d380158d0f9"><div class="ttname"><a href="Lint_8cpp.html#a7fb3c9caadeb0f7fe4828d380158d0f9">IR</a></div><div class="ttdeci">Statically lint checks LLVM IR</div><div class="ttdef"><b>Definition</b> <a href="Lint_8cpp_source.html#l00742">Lint.cpp:742</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition</b> <a href="MD5_8cpp_source.html#l00056">MD5.cpp:56</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition</b> <a href="MD5_8cpp_source.html#l00059">MD5.cpp:59</a></div></div>
<div class="ttc" id="aMetadata_8h_html"><div class="ttname"><a href="Metadata_8h.html">Metadata.h</a></div><div class="ttdoc">This file contains the declarations for metadata subclasses.</div></div>
<div class="ttc" id="aModuleUtils_8h_html"><div class="ttname"><a href="ModuleUtils_8h.html">ModuleUtils.h</a></div></div>
<div class="ttc" id="aModule_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div><div class="ttdoc">Module.h This file contains the declarations for the Module class.</div></div>
<div class="ttc" id="aMustExecute_8cpp_html_a13fbdcf3bc34f504e8f2b5f2aa7d7f7c"><div class="ttname"><a href="MustExecute_8cpp.html#a13fbdcf3bc34f504e8f2b5f2aa7d7f7c">instructions</a></div><div class="ttdeci">print must be executed print the must be executed context for all instructions</div><div class="ttdef"><b>Definition</b> <a href="MustExecute_8cpp_source.html#l00354">MustExecute.cpp:354</a></div></div>
<div class="ttc" id="aNone_8h_html"><div class="ttname"><a href="None_8h.html">None.h</a></div></div>
<div class="ttc" id="aOptimizationRemarkEmitter_8h_html"><div class="ttname"><a href="OptimizationRemarkEmitter_8h.html">OptimizationRemarkEmitter.h</a></div></div>
<div class="ttc" id="aOption_8cpp_html_a04665169063c8ca1f2ea96c27fc7c2b2"><div class="ttname"><a href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a></div><div class="ttdeci">#define P(N)</div></div>
<div class="ttc" id="aOptional_8h_html"><div class="ttname"><a href="Optional_8h.html">Optional.h</a></div></div>
<div class="ttc" id="aPassManager_8h_html"><div class="ttname"><a href="PassManager_8h.html">PassManager.h</a></div><div class="ttdoc">This header defines various interfaces for pass management in LLVM.</div></div>
<div class="ttc" id="aPass_8h_html"><div class="ttname"><a href="Pass_8h.html">Pass.h</a></div></div>
<div class="ttc" id="aProfileSummaryInfo_8h_html"><div class="ttname"><a href="ProfileSummaryInfo_8h.html">ProfileSummaryInfo.h</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aSTLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="aScopeExit_8h_html"><div class="ttname"><a href="ScopeExit_8h.html">ScopeExit.h</a></div></div>
<div class="ttc" id="aSetVector_8h_html"><div class="ttname"><a href="SetVector_8h.html">SetVector.h</a></div></div>
<div class="ttc" id="aSmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aStatistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="aStatistic_8h_html_ad6117415b93e5675d5a6c8e1855b3b2f"><div class="ttname"><a href="Statistic_8h.html#ad6117415b93e5675d5a6c8e1855b3b2f">STATISTIC</a></div><div class="ttdeci">#define STATISTIC(VARNAME, DESC)</div><div class="ttdef"><b>Definition</b> <a href="Statistic_8h_source.html#l00169">Statistic.h:169</a></div></div>
<div class="ttc" id="aStringRef_8h_html"><div class="ttname"><a href="StringRef_8h.html">StringRef.h</a></div></div>
<div class="ttc" id="aTargetLibraryInfo_8h_html"><div class="ttname"><a href="TargetLibraryInfo_8h.html">TargetLibraryInfo.h</a></div></div>
<div class="ttc" id="aTargetTransformInfo_8h_html"><div class="ttname"><a href="TargetTransformInfo_8h.html">TargetTransformInfo.h</a></div><div class="ttdoc">This pass exposes codegen information to IR-level passes.</div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8h_html"><div class="ttname"><a href="Transforms_2Utils_2Local_8h.html">Local.h</a></div></div>
<div class="ttc" id="aUser_8h_html"><div class="ttname"><a href="User_8h.html">User.h</a></div></div>
<div class="ttc" id="aValue_8h_html"><div class="ttname"><a href="Value_8h.html">Value.h</a></div></div>
<div class="ttc" id="aclassArrayType_html"><div class="ttname"><a href="classArrayType.html">ArrayType</a></div><div class="ttdef"><b>Definition</b> <a href="ItaniumDemangle_8h_source.html#l00611">ItaniumDemangle.h:611</a></div></div>
<div class="ttc" id="aclassNode_html"><div class="ttname"><a href="classNode.html">Node</a></div><div class="ttdef"><b>Definition</b> <a href="ItaniumDemangle_8h_source.html#l00114">ItaniumDemangle.h:114</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAManager_html"><div class="ttname"><a href="classllvm_1_1AAManager.html">llvm::AAManager</a></div><div class="ttdoc">A manager for alias analyses.</div><div class="ttdef"><b>Definition</b> <a href="AliasAnalysis_8h_source.html#l01143">AliasAnalysis.h:1143</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAResults_html"><div class="ttname"><a href="classllvm_1_1AAResults.html">llvm::AAResults</a></div><div class="ttdef"><b>Definition</b> <a href="AliasAnalysis_8h_source.html#l00376">AliasAnalysis.h:376</a></div></div>
<div class="ttc" id="aclassllvm_1_1AllocaInst_html"><div class="ttname"><a href="classllvm_1_1AllocaInst.html">llvm::AllocaInst</a></div><div class="ttdoc">an instruction to allocate memory on the stack</div><div class="ttdef"><b>Definition</b> <a href="Instructions_8h_source.html#l00061">Instructions.h:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1AllocaInst_html_a42438d0a43720a6571c9138224481754"><div class="ttname"><a href="classllvm_1_1AllocaInst.html#a42438d0a43720a6571c9138224481754">llvm::AllocaInst::getAlign</a></div><div class="ttdeci">Align getAlign() const</div><div class="ttdoc">Return the alignment of the memory that is being allocated by the instruction.</div><div class="ttdef"><b>Definition</b> <a href="Instructions_8h_source.html#l00119">Instructions.h:119</a></div></div>
<div class="ttc" id="aclassllvm_1_1AllocaInst_html_a9b5ec84ea363eca9e35ddca20a5313af"><div class="ttname"><a href="classllvm_1_1AllocaInst.html#a9b5ec84ea363eca9e35ddca20a5313af">llvm::AllocaInst::getAllocatedType</a></div><div class="ttdeci">Type * getAllocatedType() const</div><div class="ttdoc">Return the type that is being allocated by the instruction.</div><div class="ttdef"><b>Definition</b> <a href="Instructions_8h_source.html#l00112">Instructions.h:112</a></div></div>
<div class="ttc" id="aclassllvm_1_1AllocaInst_html_aea74164514e7164813ab30bcc4b7c557"><div class="ttname"><a href="classllvm_1_1AllocaInst.html#aea74164514e7164813ab30bcc4b7c557">llvm::AllocaInst::isArrayAllocation</a></div><div class="ttdeci">bool isArrayAllocation() const</div><div class="ttdoc">Return true if there is an allocation size parameter to the allocation instruction that is not 1.</div><div class="ttdef"><b>Definition</b> <a href="Instructions_8cpp_source.html#l01335">Instructions.cpp:1335</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html">llvm::AnalysisManager</a></div><div class="ttdoc">A container for analyses that lazily runs them and caches their results.</div><div class="ttdef"><b>Definition</b> <a href="PassManager_8h_source.html#l00629">PassManager.h:629</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html_a4926331431f03253ee3ec8e6e3bb9d1c"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#a4926331431f03253ee3ec8e6e3bb9d1c">llvm::AnalysisManager::clear</a></div><div class="ttdeci">void clear(IRUnitT &amp;IR, llvm::StringRef Name)</div><div class="ttdoc">Clear any cached analysis results for a single unit of IR.</div><div class="ttdef"><b>Definition</b> <a href="PassManagerImpl_8h_source.html#l00038">PassManagerImpl.h:38</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html_aaab1fad63e4f3b8679469720a873fedd"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#aaab1fad63e4f3b8679469720a873fedd">llvm::AnalysisManager::getResult</a></div><div class="ttdeci">PassT::Result &amp; getResult(IRUnitT &amp;IR, ExtraArgTs... ExtraArgs)</div><div class="ttdoc">Get the result of an analysis pass for a given IR unit.</div><div class="ttdef"><b>Definition</b> <a href="PassManager_8h_source.html#l00785">PassManager.h:785</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdoc">Represent the analysis usage information of a pass.</div><div class="ttdef"><b>Definition</b> <a href="PassAnalysisSupport_8h_source.html#l00047">PassAnalysisSupport.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_ae0adcccca08fb686c9ce00f9397b660c"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ae0adcccca08fb686c9ce00f9397b660c">llvm::AnalysisUsage::addRequired</a></div><div class="ttdeci">AnalysisUsage &amp; addRequired()</div><div class="ttdef"><b>Definition</b> <a href="PassAnalysisSupport_8h_source.html#l00075">PassAnalysisSupport.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionAnalysis_html"><div class="ttname"><a href="classllvm_1_1AssumptionAnalysis.html">llvm::AssumptionAnalysis</a></div><div class="ttdoc">A function analysis which provides an AssumptionCache.</div><div class="ttdef"><b>Definition</b> <a href="AssumptionCache_8h_source.html#l00169">AssumptionCache.h:169</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionCacheTracker_html"><div class="ttname"><a href="classllvm_1_1AssumptionCacheTracker.html">llvm::AssumptionCacheTracker</a></div><div class="ttdoc">An immutable pass that tracks lazily created AssumptionCache objects.</div><div class="ttdef"><b>Definition</b> <a href="AssumptionCache_8h_source.html#l00200">AssumptionCache.h:200</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionCacheTracker_html_af0c9a679eca493aa32aa7002bf4a50a3"><div class="ttname"><a href="classllvm_1_1AssumptionCacheTracker.html#af0c9a679eca493aa32aa7002bf4a50a3">llvm::AssumptionCacheTracker::getAssumptionCache</a></div><div class="ttdeci">AssumptionCache &amp; getAssumptionCache(Function &amp;F)</div><div class="ttdoc">Get the cached assumptions for a function.</div><div class="ttdef"><b>Definition</b> <a href="AssumptionCache_8cpp_source.html#l00275">AssumptionCache.cpp:275</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionCache_html"><div class="ttname"><a href="classllvm_1_1AssumptionCache.html">llvm::AssumptionCache</a></div><div class="ttdoc">A cache of @llvm.assume calls within a function.</div><div class="ttdef"><b>Definition</b> <a href="AssumptionCache_8h_source.html#l00041">AssumptionCache.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition</b> <a href="BasicBlock_8h_source.html#l00058">BasicBlock.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyAnalysis_html"><div class="ttname"><a href="classllvm_1_1BlockFrequencyAnalysis.html">llvm::BlockFrequencyAnalysis</a></div><div class="ttdoc">Analysis pass which computes BlockFrequencyInfo.</div><div class="ttdef"><b>Definition</b> <a href="BlockFrequencyInfo_8h_source.html#l00112">BlockFrequencyInfo.h:113</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html"><div class="ttname"><a href="classllvm_1_1CallBase.html">llvm::CallBase</a></div><div class="ttdoc">Base class for all callable instructions (InvokeInst and CallInst) Holds everything related to callin...</div><div class="ttdef"><b>Definition</b> <a href="InstrTypes_8h_source.html#l01164">InstrTypes.h:1164</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a2b1ae7cf1bafdd43d1fee4c6ad0a2913"><div class="ttname"><a href="classllvm_1_1CallBase.html#a2b1ae7cf1bafdd43d1fee4c6ad0a2913">llvm::CallBase::getCalledFunction</a></div><div class="ttdeci">Function * getCalledFunction() const</div><div class="ttdoc">Returns the function called, or null if this is an indirect function invocation.</div><div class="ttdef"><b>Definition</b> <a href="InstrTypes_8h_source.html#l01378">InstrTypes.h:1378</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_afac5b39bcbb90d660f83d9b4bd8c6d95"><div class="ttname"><a href="classllvm_1_1CallBase.html#afac5b39bcbb90d660f83d9b4bd8c6d95">llvm::CallBase::getCaller</a></div><div class="ttdeci">Function * getCaller()</div><div class="ttdoc">Helper to get the caller (the parent function).</div><div class="ttdef"><b>Definition</b> <a href="Instructions_8cpp_source.html#l00265">Instructions.cpp:265</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallGraphNode_html"><div class="ttname"><a href="classllvm_1_1CallGraphNode.html">llvm::CallGraphNode</a></div><div class="ttdoc">A node in the call graph for a module.</div><div class="ttdef"><b>Definition</b> <a href="CallGraph_8h_source.html#l00167">CallGraph.h:167</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallGraphSCCPass_html"><div class="ttname"><a href="classllvm_1_1CallGraphSCCPass.html">llvm::CallGraphSCCPass</a></div><div class="ttdef"><b>Definition</b> <a href="CallGraphSCCPass_8h_source.html#l00034">CallGraphSCCPass.h:34</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallGraphSCCPass_html_a6cc67c5a27b53bc940d292c0aeb6aba3"><div class="ttname"><a href="classllvm_1_1CallGraphSCCPass.html#a6cc67c5a27b53bc940d292c0aeb6aba3">llvm::CallGraphSCCPass::getAnalysisUsage</a></div><div class="ttdeci">void getAnalysisUsage(AnalysisUsage &amp;Info) const override</div><div class="ttdoc">getAnalysisUsage - For this class, we declare that we require and preserve the call graph.</div><div class="ttdef"><b>Definition</b> <a href="CallGraphSCCPass_8cpp_source.html#l00657">CallGraphSCCPass.cpp:657</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallGraphSCCPass_html_a978ee5e9b5b33e10cea60aea38f80788"><div class="ttname"><a href="classllvm_1_1CallGraphSCCPass.html#a978ee5e9b5b33e10cea60aea38f80788">llvm::CallGraphSCCPass::skipSCC</a></div><div class="ttdeci">bool skipSCC(CallGraphSCC &amp;SCC) const</div><div class="ttdoc">Optional passes call this function to check whether the pass should be skipped.</div><div class="ttdef"><b>Definition</b> <a href="CallGraphSCCPass_8cpp_source.html#l00753">CallGraphSCCPass.cpp:753</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallGraphSCC_html"><div class="ttname"><a href="classllvm_1_1CallGraphSCC.html">llvm::CallGraphSCC</a></div><div class="ttdoc">CallGraphSCC - This is a single SCC that a CallGraphSCCPass is run on.</div><div class="ttdef"><b>Definition</b> <a href="CallGraphSCCPass_8h_source.html#l00087">CallGraphSCCPass.h:87</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallGraphSCC_html_a07db419e819bdce43515ca70d515a151"><div class="ttname"><a href="classllvm_1_1CallGraphSCC.html#a07db419e819bdce43515ca70d515a151">llvm::CallGraphSCC::isSingular</a></div><div class="ttdeci">bool isSingular() const</div><div class="ttdef"><b>Definition</b> <a href="CallGraphSCCPass_8h_source.html#l00099">CallGraphSCCPass.h:99</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallGraph_html"><div class="ttname"><a href="classllvm_1_1CallGraph.html">llvm::CallGraph</a></div><div class="ttdoc">The basic data container for the call graph of a Module of IR.</div><div class="ttdef"><b>Definition</b> <a href="CallGraph_8h_source.html#l00073">CallGraph.h:73</a></div></div>
<div class="ttc" id="aclassllvm_1_1DbgDeclareInst_html"><div class="ttname"><a href="classllvm_1_1DbgDeclareInst.html">llvm::DbgDeclareInst</a></div><div class="ttdoc">This represents the llvm.dbg.declare instruction.</div><div class="ttdef"><b>Definition</b> <a href="IntrinsicInst_8h_source.html#l00176">IntrinsicInst.h:176</a></div></div>
<div class="ttc" id="aclassllvm_1_1DebugLoc_html"><div class="ttname"><a href="classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdoc">A debug info location.</div><div class="ttdef"><b>Definition</b> <a href="DebugLoc_8h_source.html#l00033">DebugLoc.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionAnalysisManagerCGSCCProxy_html"><div class="ttname"><a href="classllvm_1_1FunctionAnalysisManagerCGSCCProxy.html">llvm::FunctionAnalysisManagerCGSCCProxy</a></div><div class="ttdoc">A proxy from a FunctionAnalysisManager to an SCC.</div><div class="ttdef"><b>Definition</b> <a href="CGSCCPassManager_8h_source.html#l00392">CGSCCPassManager.h:393</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition</b> <a href="Function_8h_source.html#l00061">Function.h:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1ImportedFunctionsInliningStatistics_html"><div class="ttname"><a href="classllvm_1_1ImportedFunctionsInliningStatistics.html">llvm::ImportedFunctionsInliningStatistics</a></div><div class="ttdoc">Calculate and dump ThinLTO specific inliner stats.</div><div class="ttdef"><b>Definition</b> <a href="ImportedFunctionsInliningStatistics_8h_source.html#l00044">ImportedFunctionsInliningStatistics.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1ImportedFunctionsInliningStatistics_html_a00fe0b2043a8218ede17ada91d286272"><div class="ttname"><a href="classllvm_1_1ImportedFunctionsInliningStatistics.html#a00fe0b2043a8218ede17ada91d286272">llvm::ImportedFunctionsInliningStatistics::setModuleInfo</a></div><div class="ttdeci">void setModuleInfo(const Module &amp;M)</div><div class="ttdoc">Set information like AllFunctions, ImportedFunctions, ModuleName.</div><div class="ttdef"><b>Definition</b> <a href="ImportedFunctionsInliningStatistics_8cpp_source.html#l00071">ImportedFunctionsInliningStatistics.cpp:71</a></div></div>
<div class="ttc" id="aclassllvm_1_1ImportedFunctionsInliningStatistics_html_a776e5ef304e07acc5bbbf585443459a4"><div class="ttname"><a href="classllvm_1_1ImportedFunctionsInliningStatistics.html#a776e5ef304e07acc5bbbf585443459a4">llvm::ImportedFunctionsInliningStatistics::dump</a></div><div class="ttdeci">void dump(bool Verbose)</div><div class="ttdoc">Dump stats computed with InlinerStatistics class.</div><div class="ttdef"><b>Definition</b> <a href="ImportedFunctionsInliningStatistics_8cpp_source.html#l00095">ImportedFunctionsInliningStatistics.cpp:95</a></div></div>
<div class="ttc" id="aclassllvm_1_1ImportedFunctionsInliningStatistics_html_a869c36ec45c584dfa6f3d914d230b15f"><div class="ttname"><a href="classllvm_1_1ImportedFunctionsInliningStatistics.html#a869c36ec45c584dfa6f3d914d230b15f">llvm::ImportedFunctionsInliningStatistics::recordInline</a></div><div class="ttdeci">void recordInline(const Function &amp;Caller, const Function &amp;Callee)</div><div class="ttdoc">Record inline of.</div><div class="ttdef"><b>Definition</b> <a href="ImportedFunctionsInliningStatistics_8cpp_source.html#l00044">ImportedFunctionsInliningStatistics.cpp:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAdvisorAnalysis_html"><div class="ttname"><a href="classllvm_1_1InlineAdvisorAnalysis.html">llvm::InlineAdvisorAnalysis</a></div><div class="ttdoc">The InlineAdvisorAnalysis is a module pass because the InlineAdvisor needs to capture state right bef...</div><div class="ttdef"><b>Definition</b> <a href="InlineAdvisor_8h_source.html#l00220">InlineAdvisor.h:220</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAdvisor_html"><div class="ttname"><a href="classllvm_1_1InlineAdvisor.html">llvm::InlineAdvisor</a></div><div class="ttdoc">Interface for deciding whether to inline a call site or not.</div><div class="ttdef"><b>Definition</b> <a href="InlineAdvisor_8h_source.html#l00140">InlineAdvisor.h:140</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAdvisor_html_a54963101ab0404fae86e71683367e599"><div class="ttname"><a href="classllvm_1_1InlineAdvisor.html#a54963101ab0404fae86e71683367e599">llvm::InlineAdvisor::onPassEntry</a></div><div class="ttdeci">virtual void onPassEntry()</div><div class="ttdoc">This must be called when the Inliner pass is entered, to allow the InlineAdvisor update internal stat...</div><div class="ttdef"><b>Definition</b> <a href="InlineAdvisor_8h_source.html#l00157">InlineAdvisor.h:157</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAdvisor_html_af14b8fcd755111a2fc8f52dac99898f8"><div class="ttname"><a href="classllvm_1_1InlineAdvisor.html#af14b8fcd755111a2fc8f52dac99898f8">llvm::InlineAdvisor::onPassExit</a></div><div class="ttdeci">virtual void onPassExit()</div><div class="ttdoc">This must be called when the Inliner pass is exited, as function passes may be run subsequently.</div><div class="ttdef"><b>Definition</b> <a href="InlineAdvisor_8h_source.html#l00162">InlineAdvisor.h:162</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineCost_html"><div class="ttname"><a href="classllvm_1_1InlineCost.html">llvm::InlineCost</a></div><div class="ttdoc">Represents the cost of inlining a function.</div><div class="ttdef"><b>Definition</b> <a href="InlineCost_8h_source.html#l00067">InlineCost.h:67</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineFunctionInfo_html"><div class="ttname"><a href="classllvm_1_1InlineFunctionInfo.html">llvm::InlineFunctionInfo</a></div><div class="ttdoc">This class captures the data input to the InlineFunction call, and records the auxiliary results prod...</div><div class="ttdef"><b>Definition</b> <a href="Cloning_8h_source.html#l00172">Cloning.h:172</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineResult_html"><div class="ttname"><a href="classllvm_1_1InlineResult.html">llvm::InlineResult</a></div><div class="ttdoc">InlineResult is basically true or false.</div><div class="ttdef"><b>Definition</b> <a href="InlineCost_8h_source.html#l00134">InlineCost.h:134</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlinerPass_html"><div class="ttname"><a href="classllvm_1_1InlinerPass.html">llvm::InlinerPass</a></div><div class="ttdoc">The inliner pass for the new pass manager.</div><div class="ttdef"><b>Definition</b> <a href="Inliner_8h_source.html#l00098">Inliner.h:98</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlinerPass_html_a78e09cea341cfdf58869920175c52d82"><div class="ttname"><a href="classllvm_1_1InlinerPass.html#a78e09cea341cfdf58869920175c52d82">llvm::InlinerPass::run</a></div><div class="ttdeci">PreservedAnalyses run(LazyCallGraph::SCC &amp;C, CGSCCAnalysisManager &amp;AM, LazyCallGraph &amp;CG, CGSCCUpdateResult &amp;UR)</div><div class="ttdef"><b>Definition</b> <a href="#l00673">Inliner.cpp:673</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition</b> <a href="IR_2Instruction_8h_source.html#l00045">Instruction.h:46</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a4b8faae4ff9e7434a1d226d03d15dcd2"><div class="ttname"><a href="classllvm_1_1Instruction.html#a4b8faae4ff9e7434a1d226d03d15dcd2">llvm::Instruction::getDebugLoc</a></div><div class="ttdeci">const DebugLoc &amp; getDebugLoc() const</div><div class="ttdoc">Return the debug location for this node as a DebugLoc.</div><div class="ttdef"><b>Definition</b> <a href="IR_2Instruction_8h_source.html#l00365">Instruction.h:365</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a5e6364c710de3afb5449588baab260fd"><div class="ttname"><a href="classllvm_1_1Instruction.html#a5e6364c710de3afb5449588baab260fd">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const</div><div class="ttdef"><b>Definition</b> <a href="IR_2Instruction_8h_source.html#l00094">Instruction.h:94</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ae6b978645b8ac72d1a35e1298ffdd4f0"><div class="ttname"><a href="classllvm_1_1Instruction.html#ae6b978645b8ac72d1a35e1298ffdd4f0">llvm::Instruction::eraseFromParent</a></div><div class="ttdeci">SymbolTableList&lt; Instruction &gt;::iterator eraseFromParent()</div><div class="ttdoc">This method unlinks 'this' from the containing basic block and deletes it.</div><div class="ttdef"><b>Definition</b> <a href="IR_2Instruction_8cpp_source.html#l00077">Instruction.cpp:77</a></div></div>
<div class="ttc" id="aclassllvm_1_1LazyCallGraph_1_1Node_html"><div class="ttname"><a href="classllvm_1_1LazyCallGraph_1_1Node.html">llvm::LazyCallGraph::Node</a></div><div class="ttdoc">A node in the call graph.</div><div class="ttdef"><b>Definition</b> <a href="LazyCallGraph_8h_source.html#l00319">LazyCallGraph.h:319</a></div></div>
<div class="ttc" id="aclassllvm_1_1LazyCallGraph_1_1SCC_html"><div class="ttname"><a href="classllvm_1_1LazyCallGraph_1_1SCC.html">llvm::LazyCallGraph::SCC</a></div><div class="ttdoc">An SCC of the call graph.</div><div class="ttdef"><b>Definition</b> <a href="LazyCallGraph_8h_source.html#l00423">LazyCallGraph.h:423</a></div></div>
<div class="ttc" id="aclassllvm_1_1LazyCallGraph_html"><div class="ttname"><a href="classllvm_1_1LazyCallGraph.html">llvm::LazyCallGraph</a></div><div class="ttdoc">A lazily constructed view of the call graph of a module.</div><div class="ttdef"><b>Definition</b> <a href="LazyCallGraph_8h_source.html#l00112">LazyCallGraph.h:112</a></div></div>
<div class="ttc" id="aclassllvm_1_1LegacyAARGetter_html"><div class="ttname"><a href="classllvm_1_1LegacyAARGetter.html">llvm::LegacyAARGetter</a></div><div class="ttdoc">This class is a functor to be used in legacy module or SCC passes for computing AA results for a func...</div><div class="ttdef"><b>Definition</b> <a href="BasicAliasAnalysis_8h_source.html#l00294">BasicAliasAnalysis.h:294</a></div></div>
<div class="ttc" id="aclassllvm_1_1LocalAsMetadata_html_ab3824551809fd3b92409d32854adff80"><div class="ttname"><a href="classllvm_1_1LocalAsMetadata.html#ab3824551809fd3b92409d32854adff80">llvm::LocalAsMetadata::getIfExists</a></div><div class="ttdeci">static LocalAsMetadata * getIfExists(Value *Local)</div><div class="ttdef"><b>Definition</b> <a href="Metadata_8h_source.html#l00440">Metadata.h:440</a></div></div>
<div class="ttc" id="aclassllvm_1_1MetadataAsValue_html_a43da96a342731ffba21f83523a9c787a"><div class="ttname"><a href="classllvm_1_1MetadataAsValue.html#a43da96a342731ffba21f83523a9c787a">llvm::MetadataAsValue::getIfExists</a></div><div class="ttdeci">static MetadataAsValue * getIfExists(LLVMContext &amp;Context, Metadata *MD)</div><div class="ttdef"><b>Definition</b> <a href="Metadata_8cpp_source.html#l00114">Metadata.cpp:114</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleInlinerWrapperPass_html_a302bbe2963bced6cb8460b94f89dd0be"><div class="ttname"><a href="classllvm_1_1ModuleInlinerWrapperPass.html#a302bbe2963bced6cb8460b94f89dd0be">llvm::ModuleInlinerWrapperPass::run</a></div><div class="ttdeci">PreservedAnalyses run(Module &amp;, ModuleAnalysisManager &amp;)</div><div class="ttdef"><b>Definition</b> <a href="#l01012">Inliner.cpp:1012</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleInlinerWrapperPass_html_a3e7ab44640563d46ae7aff9758e3e93a"><div class="ttname"><a href="classllvm_1_1ModuleInlinerWrapperPass.html#a3e7ab44640563d46ae7aff9758e3e93a">llvm::ModuleInlinerWrapperPass::ModuleInlinerWrapperPass</a></div><div class="ttdeci">ModuleInlinerWrapperPass(InlineParams Params=getInlineParams(), bool Debugging=false, bool MandatoryFirst=true, InliningAdvisorMode Mode=InliningAdvisorMode::Default, unsigned MaxDevirtIterations=0)</div><div class="ttdef"><b>Definition</b> <a href="#l00995">Inliner.cpp:995</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition</b> <a href="Module_8h_source.html#l00067">Module.h:67</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkEmitterAnalysis_html"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkEmitterAnalysis.html">llvm::OptimizationRemarkEmitterAnalysis</a></div><div class="ttdef"><b>Definition</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00156">OptimizationRemarkEmitter.h:157</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkEmitter_html"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkEmitter.html">llvm::OptimizationRemarkEmitter</a></div><div class="ttdoc">The optimization diagnostic interface.</div><div class="ttdef"><b>Definition</b> <a href="OptimizationRemarkEmitter_8h_source.html#l00033">OptimizationRemarkEmitter.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkEmitter_html_aae6a98aea85aa3af87357cc5448db499"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkEmitter.html#aae6a98aea85aa3af87357cc5448db499">llvm::OptimizationRemarkEmitter::emit</a></div><div class="ttdeci">void emit(DiagnosticInfoOptimizationBase &amp;OptDiag)</div><div class="ttdoc">Output the remark via the diagnostic handler and to the optimization record file.</div><div class="ttdef"><b>Definition</b> <a href="OptimizationRemarkEmitter_8cpp_source.html#l00077">OptimizationRemarkEmitter.cpp:77</a></div></div>
<div class="ttc" id="aclassllvm_1_1OptimizationRemarkMissed_html"><div class="ttname"><a href="classllvm_1_1OptimizationRemarkMissed.html">llvm::OptimizationRemarkMissed</a></div><div class="ttdoc">Diagnostic information for missed-optimization remarks.</div><div class="ttdef"><b>Definition</b> <a href="DiagnosticInfo_8h_source.html#l00728">DiagnosticInfo.h:728</a></div></div>
<div class="ttc" id="aclassllvm_1_1OuterAnalysisManagerProxy_1_1Result_html"><div class="ttname"><a href="classllvm_1_1OuterAnalysisManagerProxy_1_1Result.html">llvm::OuterAnalysisManagerProxy::Result</a></div><div class="ttdoc">Result proxy object for OuterAnalysisManagerProxy.</div><div class="ttdef"><b>Definition</b> <a href="PassManager_8h_source.html#l01099">PassManager.h:1099</a></div></div>
<div class="ttc" id="aclassllvm_1_1OuterAnalysisManagerProxy_1_1Result_html_a11b47a107f405156c54ef83b8529459b"><div class="ttname"><a href="classllvm_1_1OuterAnalysisManagerProxy_1_1Result.html#a11b47a107f405156c54ef83b8529459b">llvm::OuterAnalysisManagerProxy::Result::getCachedResult</a></div><div class="ttdeci">PassT::Result * getCachedResult(IRUnitTParam &amp;IR) const</div><div class="ttdoc">Get a cached analysis.</div><div class="ttdef"><b>Definition</b> <a href="PassManager_8h_source.html#l01106">PassManager.h:1106</a></div></div>
<div class="ttc" id="aclassllvm_1_1OuterAnalysisManagerProxy_html"><div class="ttname"><a href="classllvm_1_1OuterAnalysisManagerProxy.html">llvm::OuterAnalysisManagerProxy</a></div><div class="ttdoc">An analysis over an &quot;inner&quot; IR unit that provides access to an analysis manager over a &quot;outer&quot; IR uni...</div><div class="ttdef"><b>Definition</b> <a href="PassManager_8h_source.html#l01094">PassManager.h:1096</a></div></div>
<div class="ttc" id="aclassllvm_1_1PassManager_html_a85c7e1b4e9db38c3d23307333f12574e"><div class="ttname"><a href="classllvm_1_1PassManager.html#a85c7e1b4e9db38c3d23307333f12574e">llvm::PassManager::addPass</a></div><div class="ttdeci">std::enable_if_t&lt;!std::is_same&lt; PassT, PassManager &gt;::value &gt; addPass(PassT Pass)</div><div class="ttdef"><b>Definition</b> <a href="PassManager_8h_source.html#l00553">PassManager.h:553</a></div></div>
<div class="ttc" id="aclassllvm_1_1PassManager_html_aef5d9142acafceffd14c76b8ddd0fd4e"><div class="ttname"><a href="classllvm_1_1PassManager.html#aef5d9142acafceffd14c76b8ddd0fd4e">llvm::PassManager::run</a></div><div class="ttdeci">PreservedAnalyses run(IRUnitT &amp;IR, AnalysisManagerT &amp;AM, ExtraArgTs... ExtraArgs)</div><div class="ttdoc">Run all of the passes in this manager over the given unit of IR.</div><div class="ttdef"><b>Definition</b> <a href="PassManager_8h_source.html#l00490">PassManager.h:490</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html">llvm::PreservedAnalyses</a></div><div class="ttdoc">A set of analyses that are preserved following a run of a transformation pass.</div><div class="ttdef"><b>Definition</b> <a href="PassManager_8h_source.html#l00155">PassManager.h:155</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a1258a1ff55557c27684010ebd7283712"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">llvm::PreservedAnalyses::all</a></div><div class="ttdeci">static PreservedAnalyses all()</div><div class="ttdoc">Construct a special preserved set that preserves all passes.</div><div class="ttdef"><b>Definition</b> <a href="PassManager_8h_source.html#l00161">PassManager.h:161</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_ad966bea18aa62ffb9e040509adc7c99f"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#ad966bea18aa62ffb9e040509adc7c99f">llvm::PreservedAnalyses::preserve</a></div><div class="ttdeci">void preserve()</div><div class="ttdoc">Mark an analysis as preserved.</div><div class="ttdef"><b>Definition</b> <a href="PassManager_8h_source.html#l00176">PassManager.h:176</a></div></div>
<div class="ttc" id="aclassllvm_1_1ProfileSummaryAnalysis_html"><div class="ttname"><a href="classllvm_1_1ProfileSummaryAnalysis.html">llvm::ProfileSummaryAnalysis</a></div><div class="ttdoc">An analysis pass based on the new PM to deliver ProfileSummaryInfo.</div><div class="ttdef"><b>Definition</b> <a href="ProfileSummaryInfo_8h_source.html#l00204">ProfileSummaryInfo.h:205</a></div></div>
<div class="ttc" id="aclassllvm_1_1ProfileSummaryInfoWrapperPass_html"><div class="ttname"><a href="classllvm_1_1ProfileSummaryInfoWrapperPass.html">llvm::ProfileSummaryInfoWrapperPass</a></div><div class="ttdoc">An analysis pass based on legacy pass manager to deliver ProfileSummaryInfo.</div><div class="ttdef"><b>Definition</b> <a href="ProfileSummaryInfo_8h_source.html#l00186">ProfileSummaryInfo.h:186</a></div></div>
<div class="ttc" id="aclassllvm_1_1ProfileSummaryInfo_html"><div class="ttname"><a href="classllvm_1_1ProfileSummaryInfo.html">llvm::ProfileSummaryInfo</a></div><div class="ttdoc">Analysis providing profile information.</div><div class="ttdef"><b>Definition</b> <a href="ProfileSummaryInfo_8h_source.html#l00039">ProfileSummaryInfo.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdoc">This class consists of common code factored out of the SmallVector class to reduce code duplication b...</div><div class="ttdef"><b>Definition</b> <a href="SmallVector_8h_source.html#l00558">SmallVector.h:558</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfoWrapperPass_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfoWrapperPass.html">llvm::TargetLibraryInfoWrapperPass</a></div><div class="ttdef"><b>Definition</b> <a href="TargetLibraryInfo_8h_source.html#l00451">TargetLibraryInfo.h:451</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLibraryInfo_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html">llvm::TargetLibraryInfo</a></div><div class="ttdoc">Provides information about what library functions are available for the current target.</div><div class="ttdef"><b>Definition</b> <a href="TargetLibraryInfo_8h_source.html#l00213">TargetLibraryInfo.h:213</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html"><div class="ttname"><a href="classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition</b> <a href="User_8h_source.html#l00044">User.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition</b> <a href="Value_8h_source.html#l00075">Value.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a3ab5fc45117b450e8bb04e564cb6e5f2"><div class="ttname"><a href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">llvm::Value::replaceAllUsesWith</a></div><div class="ttdeci">void replaceAllUsesWith(Value *V)</div><div class="ttdoc">Change all uses of this to point to a new Value.</div><div class="ttdef"><b>Definition</b> <a href="Value_8cpp_source.html#l00523">Value.cpp:523</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ab3fc0225d8aaf8434026c3573f961f2c"><div class="ttname"><a href="classllvm_1_1Value.html#ab3fc0225d8aaf8434026c3573f961f2c">llvm::Value::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const</div><div class="ttdoc">All values hold a context through their type.</div><div class="ttdef"><b>Definition</b> <a href="Value_8cpp_source.html#l00868">Value.cpp:868</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition</b> <a href="CommandLine_8h_source.html#l01419">CommandLine.h:1421</a></div></div>
<div class="ttc" id="aclassllvm_1_1function__ref_html"><div class="ttname"><a href="classllvm_1_1function__ref.html">llvm::function_ref</a></div><div class="ttdoc">An efficient, type-erasing, non-owning reference to a callable.</div><div class="ttdef"><b>Definition</b> <a href="STLExtras_8h_source.html#l00176">STLExtras.h:176</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__node__impl_html"><div class="ttname"><a href="classllvm_1_1ilist__node__impl.html">llvm::ilist_node_impl</a></div><div class="ttdoc">Implementation for an ilist node.</div><div class="ttdef"><b>Definition</b> <a href="ilist__node_8h_source.html#l00039">ilist_node.h:39</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AttributeFuncs_html_ae05b3471aef6ffe376ceef99af9b4709"><div class="ttname"><a href="namespacellvm_1_1AttributeFuncs.html#ae05b3471aef6ffe376ceef99af9b4709">llvm::AttributeFuncs::mergeAttributesForInlining</a></div><div class="ttdeci">void mergeAttributesForInlining(Function &amp;Caller, const Function &amp;Callee)</div><div class="ttdoc">Merge caller's and callee's attributes.</div><div class="ttdef"><b>Definition</b> <a href="Attributes_8cpp_source.html#l02106">Attributes.cpp:2106</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition</b> <a href="CommandLine_8h_source.html#l00140">CommandLine.h:140</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_ac12e6a8f3a1b511f0dee2ed6de0ae806"><div class="ttname"><a href="namespacellvm_1_1cl.html#ac12e6a8f3a1b511f0dee2ed6de0ae806">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition</b> <a href="CommandLine_8h_source.html#l00440">CommandLine.h:440</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This class represents lattice values for constants.</div><div class="ttdef"><b>Definition</b> <a href="AllocatorList_8h_source.html#l00023">AllocatorList.h:23</a></div></div>
<div class="ttc" id="anamespacellvm_html_a072ba11b671d86dd2d3418661915c5d2"><div class="ttname"><a href="namespacellvm.html#a072ba11b671d86dd2d3418661915c5d2">llvm::filterDeadComdatFunctions</a></div><div class="ttdeci">void filterDeadComdatFunctions(Module &amp;M, SmallVectorImpl&lt; Function * &gt; &amp;DeadComdatFunctions)</div><div class="ttdoc">Filter out potentially dead comdat functions where other entries keep the entire comdat group alive.</div><div class="ttdef"><b>Definition</b> <a href="ModuleUtils_8cpp_source.html#l00197">ModuleUtils.cpp:197</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0e00fad9c34de40b1e31f3aa6f8e024cae1e4c8c9ccd9fc39c391da4bcd093fb2"><div class="ttname"><a href="namespacellvm.html#a0e00fad9c34de40b1e31f3aa6f8e024cae1e4c8c9ccd9fc39c391da4bcd093fb2">llvm::PseudoProbeType::Block</a></div><div class="ttdeci">@ Block</div></div>
<div class="ttc" id="anamespacellvm_html_a20cfa993dffa4fbef8ce57257098a786"><div class="ttname"><a href="namespacellvm.html#a20cfa993dffa4fbef8ce57257098a786">llvm::inlineCostStr</a></div><div class="ttdeci">std::string inlineCostStr(const InlineCost &amp;IC)</div><div class="ttdoc">Utility for extracting the inline cost message to a string.</div><div class="ttdef"><b>Definition</b> <a href="InlineAdvisor_8cpp_source.html#l00304">InlineAdvisor.cpp:304</a></div></div>
<div class="ttc" id="anamespacellvm_html_a239c4ac35d6028bfacaed4018d0488fa"><div class="ttname"><a href="namespacellvm.html#a239c4ac35d6028bfacaed4018d0488fa">llvm::InliningAdvisorMode</a></div><div class="ttdeci">InliningAdvisorMode</div><div class="ttdoc">There are 3 scenarios we can use the InlineAdvisor:</div><div class="ttdef"><b>Definition</b> <a href="InlineAdvisor_8h_source.html#l00039">InlineAdvisor.h:39</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2e739fb4907159062aacbbafea669592"><div class="ttname"><a href="namespacellvm.html#a2e739fb4907159062aacbbafea669592">llvm::updateCGAndAnalysisManagerForCGSCCPass</a></div><div class="ttdeci">LazyCallGraph::SCC &amp; updateCGAndAnalysisManagerForCGSCCPass(LazyCallGraph &amp;G, LazyCallGraph::SCC &amp;C, LazyCallGraph::Node &amp;N, CGSCCAnalysisManager &amp;AM, CGSCCUpdateResult &amp;UR, FunctionAnalysisManager &amp;FAM)</div><div class="ttdoc">Helper to update the call graph after running a CGSCC pass.</div><div class="ttdef"><b>Definition</b> <a href="CGSCCPassManager_8cpp_source.html#l01228">CGSCCPassManager.cpp:1228</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3f7902f4d67a0c32a82e3b00d869e2cd"><div class="ttname"><a href="namespacellvm.html#a3f7902f4d67a0c32a82e3b00d869e2cd">llvm::createDevirtSCCRepeatedPass</a></div><div class="ttdeci">DevirtSCCRepeatedPass createDevirtSCCRepeatedPass(CGSCCPassT Pass, int MaxIterations)</div><div class="ttdoc">A function to deduce a function pass type and wrap it in the templated adaptor.</div><div class="ttdef"><b>Definition</b> <a href="CGSCCPassManager_8h_source.html#l00539">CGSCCPassManager.h:539</a></div></div>
<div class="ttc" id="anamespacellvm_html_a444e3e622a00db2be6dcaf46cef996f5"><div class="ttname"><a href="namespacellvm.html#a444e3e622a00db2be6dcaf46cef996f5">llvm::setInlineRemark</a></div><div class="ttdeci">void setInlineRemark(CallBase &amp;CB, StringRef Message)</div><div class="ttdoc">Set the inline-remark attribute.</div><div class="ttdef"><b>Definition</b> <a href="InlineAdvisor_8cpp_source.html#l00310">InlineAdvisor.cpp:310</a></div></div>
<div class="ttc" id="anamespacellvm_html_a469101ea87b8b432a1b4f7935c97f35c"><div class="ttname"><a href="namespacellvm.html#a469101ea87b8b432a1b4f7935c97f35c">llvm::reverse</a></div><div class="ttdeci">auto reverse(ContainerTy &amp;&amp;C, std::enable_if_t&lt; has_rbegin&lt; ContainerTy &gt;::value &gt; *=nullptr)</div><div class="ttdef"><b>Definition</b> <a href="STLExtras_8h_source.html#l00338">STLExtras.h:338</a></div></div>
<div class="ttc" id="anamespacellvm_html_a546d82d3e067a9979464ddde9fc2f46a"><div class="ttname"><a href="namespacellvm.html#a546d82d3e067a9979464ddde9fc2f46a">llvm::make_scope_exit</a></div><div class="ttdeci">LLVM_NODISCARD detail::scope_exit&lt; typename std::decay&lt; Callable &gt;::type &gt; make_scope_exit(Callable &amp;&amp;F)</div><div class="ttdef"><b>Definition</b> <a href="ScopeExit_8h_source.html#l00058">ScopeExit.h:58</a></div></div>
<div class="ttc" id="anamespacellvm_html_a61d13d6824ec46c31260a4fd0997eda0"><div class="ttname"><a href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a></div><div class="ttdeci">bool any_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::any_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition</b> <a href="STLExtras_8h_source.html#l01505">STLExtras.h:1505</a></div></div>
<div class="ttc" id="anamespacellvm_html_a627b2f86ac433d829482d5a5a0f50668"><div class="ttname"><a href="namespacellvm.html#a627b2f86ac433d829482d5a5a0f50668">llvm::isInstructionTriviallyDead</a></div><div class="ttdeci">bool isInstructionTriviallyDead(Instruction *I, const TargetLibraryInfo *TLI=nullptr)</div><div class="ttdoc">Return true if the result produced by the instruction is not used, and the instruction has no side ef...</div><div class="ttdef"><b>Definition</b> <a href="Local_8cpp_source.html#l00388">Local.cpp:388</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition</b> <a href="Debug_8cpp_source.html#l00132">Debug.cpp:132</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7e39b6f753eab4236840973d7f6ddbfe"><div class="ttname"><a href="namespacellvm.html#a7e39b6f753eab4236840973d7f6ddbfe">llvm::InlineFunction</a></div><div class="ttdeci">InlineResult InlineFunction(CallBase &amp;CB, InlineFunctionInfo &amp;IFI, AAResults *CalleeAAR=nullptr, bool InsertLifetime=true, Function *ForwardVarArgsTo=nullptr)</div><div class="ttdoc">This function inlines the called function into the basic block of the caller.</div><div class="ttdef"><b>Definition</b> <a href="InlineFunction_8cpp_source.html#l01661">InlineFunction.cpp:1661</a></div></div>
<div class="ttc" id="anamespacellvm_html_a900f3a78adcdae820536c776900726fc"><div class="ttname"><a href="namespacellvm.html#a900f3a78adcdae820536c776900726fc">llvm::emitInlinedInto</a></div><div class="ttdeci">void emitInlinedInto(OptimizationRemarkEmitter &amp;ORE, DebugLoc DLoc, const BasicBlock *Block, const Function &amp;Callee, const Function &amp;Caller, const InlineCost &amp;IC, bool ForProfileContext=false, const char *PassName=nullptr)</div><div class="ttdoc">Emit ORE message.</div><div class="ttdef"><b>Definition</b> <a href="InlineAdvisor_8cpp_source.html#l00436">InlineAdvisor.cpp:436</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9839ababd890716f93ea73e5b909cc20"><div class="ttname"><a href="namespacellvm.html#a9839ababd890716f93ea73e5b909cc20">llvm::createModuleToPostOrderCGSCCPassAdaptor</a></div><div class="ttdeci">ModuleToPostOrderCGSCCPassAdaptor createModuleToPostOrderCGSCCPassAdaptor(CGSCCPassT Pass)</div><div class="ttdoc">A function to deduce a function pass type and wrap it in the templated adaptor.</div><div class="ttdef"><b>Definition</b> <a href="CGSCCPassManager_8h_source.html#l00376">CGSCCPassManager.h:376</a></div></div>
<div class="ttc" id="anamespacellvm_html_aba7063dea024346c7b70099c63703f50"><div class="ttname"><a href="namespacellvm.html#aba7063dea024346c7b70099c63703f50">llvm::getInlineParams</a></div><div class="ttdeci">InlineParams getInlineParams()</div><div class="ttdoc">Generate the parameters to tune the inline cost analysis based only on the commandline options.</div><div class="ttdef"><b>Definition</b> <a href="InlineCost_8cpp_source.html#l02732">InlineCost.cpp:2732</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac08ed1ec3e6d465de23a2a6100d5df38"><div class="ttname"><a href="namespacellvm.html#ac08ed1ec3e6d465de23a2a6100d5df38">llvm::getAAResultsAnalysisUsage</a></div><div class="ttdeci">void getAAResultsAnalysisUsage(AnalysisUsage &amp;AU)</div><div class="ttdoc">A helper for the legacy pass manager to populate AU to add uses to make sure the analyses required by...</div><div class="ttdef"><b>Definition</b> <a href="AliasAnalysis_8cpp_source.html#l00968">AliasAnalysis.cpp:968</a></div></div>
<div class="ttc" id="anamespacellvm_html_acaba49eb4d306971b9eeee1180065791"><div class="ttname"><a href="namespacellvm.html#acaba49eb4d306971b9eeee1180065791">llvm::shouldInline</a></div><div class="ttdeci">Optional&lt; InlineCost &gt; shouldInline(CallBase &amp;CB, function_ref&lt; InlineCost(CallBase &amp;CB)&gt; GetInlineCost, OptimizationRemarkEmitter &amp;ORE, bool EnableDeferral=true)</div><div class="ttdoc">Return the cost only if the inliner should attempt to inline at the given CallSite.</div><div class="ttdef"><b>Definition</b> <a href="InlineAdvisor_8cpp_source.html#l00323">InlineAdvisor.cpp:323</a></div></div>
<div class="ttc" id="anamespacellvm_html_acd1cd968cb420c82d70926920fcdc7d7"><div class="ttname"><a href="namespacellvm.html#acd1cd968cb420c82d70926920fcdc7d7">llvm::is_contained</a></div><div class="ttdeci">bool is_contained(R &amp;&amp;Range, const E &amp;Element)</div><div class="ttdoc">Wrapper function around std::find to detect if an element exists in a container.</div><div class="ttdef"><b>Definition</b> <a href="STLExtras_8h_source.html#l01563">STLExtras.h:1563</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad3219f7b717320ae52f53ccb09ad5a84"><div class="ttname"><a href="namespacellvm.html#ad3219f7b717320ae52f53ccb09ad5a84">llvm::tryPromoteCall</a></div><div class="ttdeci">bool tryPromoteCall(CallBase &amp;CB)</div><div class="ttdoc">Try to promote (devirtualize) a virtual call on an Alloca.</div><div class="ttdef"><b>Definition</b> <a href="CallPromotionUtils_8cpp_source.html#l00536">CallPromotionUtils.cpp:536</a></div></div>
<div class="ttc" id="anamespacellvm_html_adacba4cb06d1dd9232ee3d2d49a44d8fabafd7322c6e97d25b6299b5d6fe8920b"><div class="ttname"><a href="namespacellvm.html#adacba4cb06d1dd9232ee3d2d49a44d8fabafd7322c6e97d25b6299b5d6fe8920b">llvm::InlinerFunctionImportStatsOpts::No</a></div><div class="ttdeci">@ No</div></div>
<div class="ttc" id="anamespacellvm_html_adacba4cb06d1dd9232ee3d2d49a44d8fad4a9fa383ab700c5bdd6f31cf7df0faf"><div class="ttname"><a href="namespacellvm.html#adacba4cb06d1dd9232ee3d2d49a44d8fad4a9fa383ab700c5bdd6f31cf7df0faf">llvm::InlinerFunctionImportStatsOpts::Verbose</a></div><div class="ttdeci">@ Verbose</div></div>
<div class="ttc" id="anamespacellvm_html_add1eb5637dd671428b6f138ed3db6428"><div class="ttname"><a href="namespacellvm.html#add1eb5637dd671428b6f138ed3db6428">llvm::array_pod_sort</a></div><div class="ttdeci">void array_pod_sort(IteratorTy Start, IteratorTy End)</div><div class="ttdoc">array_pod_sort - This sorts an array with the specified start and end extent.</div><div class="ttdef"><b>Definition</b> <a href="STLExtras_8h_source.html#l01397">STLExtras.h:1397</a></div></div>
<div class="ttc" id="anamespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap.</div><div class="ttdef"><b>Definition</b> <a href="BitVector_8h_source.html#l00944">BitVector.h:944</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="astructllvm_1_1Align_html"><div class="ttname"><a href="structllvm_1_1Align.html">llvm::Align</a></div><div class="ttdoc">This struct is a compact representation of a valid (non-zero power of two) alignment.</div><div class="ttdef"><b>Definition</b> <a href="Alignment_8h_source.html#l00039">Alignment.h:39</a></div></div>
<div class="ttc" id="astructllvm_1_1CGSCCUpdateResult_html"><div class="ttname"><a href="structllvm_1_1CGSCCUpdateResult.html">llvm::CGSCCUpdateResult</a></div><div class="ttdoc">Support structure for SCC passes to communicate updates the call graph back to the CGSCC pass manager...</div><div class="ttdef"><b>Definition</b> <a href="CGSCCPassManager_8h_source.html#l00232">CGSCCPassManager.h:232</a></div></div>
<div class="ttc" id="astructllvm_1_1InlineParams_html"><div class="ttname"><a href="structllvm_1_1InlineParams.html">llvm::InlineParams</a></div><div class="ttdoc">Thresholds to tune inline cost analysis.</div><div class="ttdef"><b>Definition</b> <a href="InlineCost_8h_source.html#l00160">InlineCost.h:160</a></div></div>
<div class="ttc" id="astructllvm_1_1LegacyInlinerBase_html_a017ac48c1ce23159cf7704fd43999c8a"><div class="ttname"><a href="structllvm_1_1LegacyInlinerBase.html#a017ac48c1ce23159cf7704fd43999c8a">llvm::LegacyInlinerBase::removeDeadFunctions</a></div><div class="ttdeci">bool removeDeadFunctions(CallGraph &amp;CG, bool AlwaysInlineOnly=false)</div><div class="ttdoc">Remove dead functions.</div><div class="ttdef"><b>Definition</b> <a href="#l00559">Inliner.cpp:559</a></div></div>
<div class="ttc" id="astructllvm_1_1LegacyInlinerBase_html_a0ba622185349ede8d8a137d7a7367840"><div class="ttname"><a href="structllvm_1_1LegacyInlinerBase.html#a0ba622185349ede8d8a137d7a7367840">llvm::LegacyInlinerBase::PSI</a></div><div class="ttdeci">ProfileSummaryInfo * PSI</div><div class="ttdef"><b>Definition</b> <a href="Inliner_8h_source.html#l00079">Inliner.h:79</a></div></div>
<div class="ttc" id="astructllvm_1_1LegacyInlinerBase_html_a10a2aafd78d3c0454aee31053cfcf56b"><div class="ttname"><a href="structllvm_1_1LegacyInlinerBase.html#a10a2aafd78d3c0454aee31053cfcf56b">llvm::LegacyInlinerBase::ImportedFunctionsStats</a></div><div class="ttdeci">ImportedFunctionsInliningStatistics ImportedFunctionsStats</div><div class="ttdef"><b>Definition</b> <a href="Inliner_8h_source.html#l00081">Inliner.h:81</a></div></div>
<div class="ttc" id="astructllvm_1_1LegacyInlinerBase_html_a261a6e97f9fb889152e31269ee07ac20"><div class="ttname"><a href="structllvm_1_1LegacyInlinerBase.html#a261a6e97f9fb889152e31269ee07ac20">llvm::LegacyInlinerBase::ACT</a></div><div class="ttdeci">AssumptionCacheTracker * ACT</div><div class="ttdef"><b>Definition</b> <a href="Inliner_8h_source.html#l00078">Inliner.h:78</a></div></div>
<div class="ttc" id="astructllvm_1_1LegacyInlinerBase_html_a6fa5720081fc61d2458e38f05aaad4b7"><div class="ttname"><a href="structllvm_1_1LegacyInlinerBase.html#a6fa5720081fc61d2458e38f05aaad4b7">llvm::LegacyInlinerBase::LegacyInlinerBase</a></div><div class="ttdeci">LegacyInlinerBase(char &amp;ID)</div><div class="ttdef"><b>Definition</b> <a href="#l00102">Inliner.cpp:102</a></div></div>
<div class="ttc" id="astructllvm_1_1LegacyInlinerBase_html_a6fbb9f30a9224cbd7cb15dd5cb0ac688"><div class="ttname"><a href="structllvm_1_1LegacyInlinerBase.html#a6fbb9f30a9224cbd7cb15dd5cb0ac688">llvm::LegacyInlinerBase::getInlineCost</a></div><div class="ttdeci">virtual InlineCost getInlineCost(CallBase &amp;CB)=0</div><div class="ttdoc">This method must be implemented by the subclass to determine the cost of inlining the specified call ...</div></div>
<div class="ttc" id="astructllvm_1_1LegacyInlinerBase_html_aa989a9a80b5b2a6a11876cc8ee61c064"><div class="ttname"><a href="structllvm_1_1LegacyInlinerBase.html#aa989a9a80b5b2a6a11876cc8ee61c064">llvm::LegacyInlinerBase::doFinalization</a></div><div class="ttdeci">bool doFinalization(CallGraph &amp;CG) override</div><div class="ttdoc">Remove now-dead linkonce functions at the end of processing to avoid breaking the SCC traversal.</div><div class="ttdef"><b>Definition</b> <a href="#l00551">Inliner.cpp:551</a></div></div>
<div class="ttc" id="astructllvm_1_1LegacyInlinerBase_html_ab3786fe5854f2e264beecacc4abac4ea"><div class="ttname"><a href="structllvm_1_1LegacyInlinerBase.html#ab3786fe5854f2e264beecacc4abac4ea">llvm::LegacyInlinerBase::inlineCalls</a></div><div class="ttdeci">bool inlineCalls(CallGraphSCC &amp;SCC)</div><div class="ttdoc">This function performs the main work of the pass.</div><div class="ttdef"><b>Definition</b> <a href="#l00533">Inliner.cpp:533</a></div></div>
<div class="ttc" id="astructllvm_1_1LegacyInlinerBase_html_ab52f33be73a14cc2697eeaad1a2e5714"><div class="ttname"><a href="structllvm_1_1LegacyInlinerBase.html#ab52f33be73a14cc2697eeaad1a2e5714">llvm::LegacyInlinerBase::GetTLI</a></div><div class="ttdeci">std::function&lt; const TargetLibraryInfo &amp;(Function &amp;) GetTLI)</div><div class="ttdef"><b>Definition</b> <a href="Inliner_8h_source.html#l00080">Inliner.h:80</a></div></div>
<div class="ttc" id="astructllvm_1_1LegacyInlinerBase_html_ac9c9490e1fd3ad1ff4252a273751e000"><div class="ttname"><a href="structllvm_1_1LegacyInlinerBase.html#ac9c9490e1fd3ad1ff4252a273751e000">llvm::LegacyInlinerBase::doInitialization</a></div><div class="ttdeci">bool doInitialization(CallGraph &amp;CG) override</div><div class="ttdoc">doInitialization - This method is called before the SCC's of the program has been processed,...</div><div class="ttdef"><b>Definition</b> <a href="#l00285">Inliner.cpp:285</a></div></div>
<div class="ttc" id="astructllvm_1_1LegacyInlinerBase_html_ad902305635f915a580455ba5fbe6fa78"><div class="ttname"><a href="structllvm_1_1LegacyInlinerBase.html#ad902305635f915a580455ba5fbe6fa78">llvm::LegacyInlinerBase::getAnalysisUsage</a></div><div class="ttdeci">void getAnalysisUsage(AnalysisUsage &amp;Info) const override</div><div class="ttdoc">For this class, we declare that we require and preserve the call graph.</div><div class="ttdef"><b>Definition</b> <a href="#l00110">Inliner.cpp:110</a></div></div>
<div class="ttc" id="astructllvm_1_1LegacyInlinerBase_html_ae8c56810a4e199c830acc88b08dce370"><div class="ttname"><a href="structllvm_1_1LegacyInlinerBase.html#ae8c56810a4e199c830acc88b08dce370">llvm::LegacyInlinerBase::runOnSCC</a></div><div class="ttdeci">bool runOnSCC(CallGraphSCC &amp;SCC) override</div><div class="ttdoc">Main run interface method, this implements the interface required by the Pass class.</div><div class="ttdef"><b>Definition</b> <a href="#l00291">Inliner.cpp:291</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1value__desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1value__desc.html">llvm::cl::value_desc</a></div><div class="ttdef"><b>Definition</b> <a href="CommandLine_8h_source.html#l00421">CommandLine.h:421</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Feb 20 2024 14:04:18 for LLVM by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
