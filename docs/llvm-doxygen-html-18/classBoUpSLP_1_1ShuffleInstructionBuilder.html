<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: llvm::slpvectorizer::BoUpSLP::ShuffleInstructionBuilder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LLVM<span id="projectnumber">&#160;18.1.0rc</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacellvm.html">llvm</a></li><li class="navelem"><a class="el" href="namespacellvm_1_1slpvectorizer.html">slpvectorizer</a></li><li class="navelem"><a class="el" href="classllvm_1_1slpvectorizer_1_1BoUpSLP.html">BoUpSLP</a></li><li class="navelem"><a class="el" href="classBoUpSLP_1_1ShuffleInstructionBuilder.html">ShuffleInstructionBuilder</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classBoUpSLP_1_1ShuffleInstructionBuilder-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">llvm::slpvectorizer::BoUpSLP::ShuffleInstructionBuilder Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>Merges shuffle masks and emits final shuffle instruction, if required.  
 <a href="classBoUpSLP_1_1ShuffleInstructionBuilder.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for llvm::slpvectorizer::BoUpSLP::ShuffleInstructionBuilder:</div>
<div class="dyncontent">
<div class="center"><img src="classBoUpSLP_1_1ShuffleInstructionBuilder__inherit__graph.png" border="0" usemap="#allvm_1_1slpvectorizer_1_1BoUpSLP_1_1ShuffleInstructionBuilder_inherit__map" alt="Inheritance graph"/></div>
<map name="allvm_1_1slpvectorizer_1_1BoUpSLP_1_1ShuffleInstructionBuilder_inherit__map" id="allvm_1_1slpvectorizer_1_1BoUpSLP_1_1ShuffleInstructionBuilder_inherit__map">
<area shape="rect" title="Merges shuffle masks and emits final shuffle instruction, if required." alt="" coords="5,81,200,135"/>
<area shape="rect" title=" " alt="" coords="55,6,151,31"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a45f57ee10b934d535a71532cbc1acbba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBoUpSLP_1_1ShuffleInstructionBuilder.html#a45f57ee10b934d535a71532cbc1acbba">ShuffleInstructionBuilder</a> (<a class="el" href="classllvm_1_1IRBuilderBase.html">IRBuilderBase</a> &amp;Builder, <a class="el" href="classllvm_1_1slpvectorizer_1_1BoUpSLP.html">BoUpSLP</a> &amp;R)</td></tr>
<tr class="separator:a45f57ee10b934d535a71532cbc1acbba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60d13f7863772bd84f52feda244e894"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBoUpSLP_1_1ShuffleInstructionBuilder.html#ad60d13f7863772bd84f52feda244e894">adjustExtracts</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> TreeEntry *<a class="el" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a>, <a class="el" href="classllvm_1_1MutableArrayRef.html">MutableArrayRef</a>&lt; int &gt; Mask, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; std::optional&lt; <a class="el" href="classllvm_1_1TargetTransformInfo.html#af46433d0e36d3f80afc3a8c67b5c53ec">TTI::ShuffleKind</a> &gt; &gt; ShuffleKinds, <a class="el" href="classunsigned.html">unsigned</a> NumParts, <a class="el" href="classbool.html">bool</a> &amp;UseVecBaseAsInput)</td></tr>
<tr class="memdesc:ad60d13f7863772bd84f52feda244e894"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjusts extractelements after reusing them.  <br /></td></tr>
<tr class="separator:ad60d13f7863772bd84f52feda244e894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4055f1bab55c76c243c3bf42c1a7e45a"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBoUpSLP_1_1ShuffleInstructionBuilder.html#a4055f1bab55c76c243c3bf42c1a7e45a">needToDelay</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> TreeEntry *<a class="el" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a>, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt; <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> TreeEntry * &gt; &gt; Deps) <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a></td></tr>
<tr class="memdesc:a4055f1bab55c76c243c3bf42c1a7e45a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the specified entry <code>E</code> needs to be delayed because of its dependency nodes.  <br /></td></tr>
<tr class="separator:a4055f1bab55c76c243c3bf42c1a7e45a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9d11e9f66eb3617827801cb7f0f6619"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBoUpSLP_1_1ShuffleInstructionBuilder.html#ac9d11e9f66eb3617827801cb7f0f6619">add</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> TreeEntry &amp;E1, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> TreeEntry &amp;E2, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; int &gt; Mask)</td></tr>
<tr class="memdesc:ac9d11e9f66eb3617827801cb7f0f6619"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds 2 input vectors (in form of tree entries) and the mask for their shuffling.  <br /></td></tr>
<tr class="separator:ac9d11e9f66eb3617827801cb7f0f6619"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42662469b6d20c41b3ed64e9f215b041"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBoUpSLP_1_1ShuffleInstructionBuilder.html#a42662469b6d20c41b3ed64e9f215b041">add</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> TreeEntry &amp;E1, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; int &gt; Mask)</td></tr>
<tr class="memdesc:a42662469b6d20c41b3ed64e9f215b041"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds single input vector (in form of tree entry) and the mask for its shuffling.  <br /></td></tr>
<tr class="separator:a42662469b6d20c41b3ed64e9f215b041"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71ce471fff7e2bde83cdbdeb6bd506d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBoUpSLP_1_1ShuffleInstructionBuilder.html#a71ce471fff7e2bde83cdbdeb6bd506d8">add</a> (<a class="el" href="classllvm_1_1Value.html">Value</a> *V1, <a class="el" href="classllvm_1_1Value.html">Value</a> *V2, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; int &gt; Mask)</td></tr>
<tr class="memdesc:a71ce471fff7e2bde83cdbdeb6bd506d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds 2 input vectors and the mask for their shuffling.  <br /></td></tr>
<tr class="separator:a71ce471fff7e2bde83cdbdeb6bd506d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10d4c86d6600a1727f3d3bd9e8f39314"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBoUpSLP_1_1ShuffleInstructionBuilder.html#a10d4c86d6600a1727f3d3bd9e8f39314">add</a> (<a class="el" href="classllvm_1_1Value.html">Value</a> *V1, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; int &gt; Mask, <a class="el" href="classbool.html">bool</a>=false)</td></tr>
<tr class="memdesc:a10d4c86d6600a1727f3d3bd9e8f39314"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds another one input vector and the mask for the shuffling.  <br /></td></tr>
<tr class="separator:a10d4c86d6600a1727f3d3bd9e8f39314"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34c3ba98fb3849595c565342c8c3b78b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBoUpSLP_1_1ShuffleInstructionBuilder.html#a34c3ba98fb3849595c565342c8c3b78b">addOrdered</a> (<a class="el" href="classllvm_1_1Value.html">Value</a> *V1, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt; Order)</td></tr>
<tr class="memdesc:a34c3ba98fb3849595c565342c8c3b78b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds another one input vector and the mask for the shuffling.  <br /></td></tr>
<tr class="separator:a34c3ba98fb3849595c565342c8c3b78b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5db3e3478b2d1b08f12c1960f1a92af1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBoUpSLP_1_1ShuffleInstructionBuilder.html#a5db3e3478b2d1b08f12c1960f1a92af1">gather</a> (<a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; VL, <a class="el" href="classunsigned.html">unsigned</a> MaskVF=0, <a class="el" href="classllvm_1_1Value.html">Value</a> *Root=nullptr)</td></tr>
<tr class="separator:a5db3e3478b2d1b08f12c1960f1a92af1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a4f4eb21e4820281bd94386fe524395"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBoUpSLP_1_1ShuffleInstructionBuilder.html#a9a4f4eb21e4820281bd94386fe524395">createFreeze</a> (<a class="el" href="classllvm_1_1Value.html">Value</a> *V)</td></tr>
<tr class="separator:a9a4f4eb21e4820281bd94386fe524395"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcef8497399236de21dee199d38463c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBoUpSLP_1_1ShuffleInstructionBuilder.html#adcef8497399236de21dee199d38463c0">finalize</a> (<a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; int &gt; ExtMask, <a class="el" href="classunsigned.html">unsigned</a> VF=0, <a class="el" href="classllvm_1_1function__ref.html">function_ref</a>&lt; void(<a class="el" href="classllvm_1_1Value.html">Value</a> *&amp;, <a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; int &gt; &amp;)&gt; Action={})</td></tr>
<tr class="memdesc:adcef8497399236de21dee199d38463c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalize emission of the shuffles.  <br /></td></tr>
<tr class="separator:adcef8497399236de21dee199d38463c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed02f405909dc40a81d537066ae87f4e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBoUpSLP_1_1ShuffleInstructionBuilder.html#aed02f405909dc40a81d537066ae87f4e">~ShuffleInstructionBuilder</a> ()</td></tr>
<tr class="separator:aed02f405909dc40a81d537066ae87f4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Merges shuffle masks and emits final shuffle instruction, if required. </p>
<p>It supports shuffling of 2 input vectors. It implements lazy shuffles emission, when the actual shuffle instruction is generated only if this is actually required. Otherwise, the shuffle instruction emission is delayed till the end of the process, to reduce the number of emitted instructions and further analysis/transformations. The class also will look through the previously emitted shuffle instructions and properly mark indices in mask as undef. For example, given the code </p><div class="fragment"><div class="line">%s1 = shufflevector &lt;2 x ty&gt; %0, poison, &lt;1, 0&gt;</div>
<div class="line">%s2 = shufflevector &lt;2 x ty&gt; %1, poison, &lt;1, 0&gt;</div>
</div><!-- fragment --><p> and if need to emit shuffle of s1 and s2 with mask &lt;1, 0, 3, 2&gt;, it will look through s1 and s2 and emit </p><div class="fragment"><div class="line">%res = shufflevector &lt;2 x ty&gt; %0, %1, &lt;0, 1, 2, 3&gt;</div>
</div><!-- fragment --><p> instead. If 2 operands are of different size, the smallest one will be resized and the mask recalculated properly. For example, given the code </p><div class="fragment"><div class="line">%s1 = shufflevector &lt;2 x ty&gt; %0, poison, &lt;1, 0, 1, 0&gt;</div>
<div class="line">%s2 = shufflevector &lt;2 x ty&gt; %1, poison, &lt;1, 0, 1, 0&gt;</div>
</div><!-- fragment --><p> and if need to emit shuffle of s1 and s2 with mask &lt;1, 0, 5, 4&gt;, it will look through s1 and s2 and emit </p><div class="fragment"><div class="line">%res = shufflevector &lt;2 x ty&gt; %0, %1, &lt;0, 1, 2, 3&gt;</div>
</div><!-- fragment --><p> instead. </p>

<p class="definition">Definition at line <a class="el" href="SLPVectorizer_8cpp_source.html#l10093">10093</a> of file <a class="el" href="SLPVectorizer_8cpp_source.html">SLPVectorizer.cpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a45f57ee10b934d535a71532cbc1acbba" name="a45f57ee10b934d535a71532cbc1acbba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45f57ee10b934d535a71532cbc1acbba">&#9670;&#160;</a></span>ShuffleInstructionBuilder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">llvm::slpvectorizer::BoUpSLP::ShuffleInstructionBuilder::ShuffleInstructionBuilder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1IRBuilderBase.html">IRBuilderBase</a> &amp;&#160;</td>
          <td class="paramname"><em>Builder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1slpvectorizer_1_1BoUpSLP.html">BoUpSLP</a> &amp;&#160;</td>
          <td class="paramname"><em>R</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SLPVectorizer_8cpp_source.html#l10196">10196</a> of file <a class="el" href="SLPVectorizer_8cpp_source.html">SLPVectorizer.cpp</a>.</p>

</div>
</div>
<a id="aed02f405909dc40a81d537066ae87f4e" name="aed02f405909dc40a81d537066ae87f4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed02f405909dc40a81d537066ae87f4e">&#9670;&#160;</a></span>~ShuffleInstructionBuilder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">llvm::slpvectorizer::BoUpSLP::ShuffleInstructionBuilder::~ShuffleInstructionBuilder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SLPVectorizer_8cpp_source.html#l10490">10490</a> of file <a class="el" href="SLPVectorizer_8cpp_source.html">SLPVectorizer.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, and <a class="el" href="SmallVector_8h_source.html#l00094">llvm::SmallVectorBase&lt; Size_T &gt;::empty()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a42662469b6d20c41b3ed64e9f215b041" name="a42662469b6d20c41b3ed64e9f215b041"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42662469b6d20c41b3ed64e9f215b041">&#9670;&#160;</a></span>add() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void llvm::slpvectorizer::BoUpSLP::ShuffleInstructionBuilder::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> TreeEntry &amp;&#160;</td>
          <td class="paramname"><em>E1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; int &gt;&#160;</td>
          <td class="paramname"><em>Mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds single input vector (in form of tree entry) and the mask for its shuffling. </p>

<p class="definition">Definition at line <a class="el" href="SLPVectorizer_8cpp_source.html#l10340">10340</a> of file <a class="el" href="SLPVectorizer_8cpp_source.html">SLPVectorizer.cpp</a>.</p>

</div>
</div>
<a id="ac9d11e9f66eb3617827801cb7f0f6619" name="ac9d11e9f66eb3617827801cb7f0f6619"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9d11e9f66eb3617827801cb7f0f6619">&#9670;&#160;</a></span>add() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void llvm::slpvectorizer::BoUpSLP::ShuffleInstructionBuilder::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> TreeEntry &amp;&#160;</td>
          <td class="paramname"><em>E1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> TreeEntry &amp;&#160;</td>
          <td class="paramname"><em>E2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; int &gt;&#160;</td>
          <td class="paramname"><em>Mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds 2 input vectors (in form of tree entries) and the mask for their shuffling. </p>

<p class="definition">Definition at line <a class="el" href="SLPVectorizer_8cpp_source.html#l10335">10335</a> of file <a class="el" href="SLPVectorizer_8cpp_source.html">SLPVectorizer.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="SLPVectorizer_8cpp_source.html#l11817">llvm::slpvectorizer::BoUpSLP::vectorizeTree()</a>.</p>

</div>
</div>
<a id="a10d4c86d6600a1727f3d3bd9e8f39314" name="a10d4c86d6600a1727f3d3bd9e8f39314"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10d4c86d6600a1727f3d3bd9e8f39314">&#9670;&#160;</a></span>add() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void llvm::slpvectorizer::BoUpSLP::ShuffleInstructionBuilder::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>V1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; int &gt;&#160;</td>
          <td class="paramname"><em>Mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds another one input vector and the mask for the shuffling. </p>

<p class="definition">Definition at line <a class="el" href="SLPVectorizer_8cpp_source.html#l10372">10372</a> of file <a class="el" href="SLPVectorizer_8cpp_source.html">SLPVectorizer.cpp</a>.</p>

<p class="reference">References <a class="el" href="SmallVector_8h_source.html#l00717">llvm::SmallVectorImpl&lt; T &gt;::assign()</a>, <a class="el" href="SmallVector_8h_source.html#l00321">llvm::SmallVectorTemplateCommon&lt; T, typename &gt;::back()</a>, <a class="el" href="SmallVector_8h_source.html#l00280">llvm::SmallVectorTemplateCommon&lt; T, typename &gt;::begin()</a>, <a class="el" href="SmallVector_8h_source.html#l00094">llvm::SmallVectorBase&lt; Size_T &gt;::empty()</a>, <a class="el" href="SmallVector_8h_source.html#l00282">llvm::SmallVectorTemplateCommon&lt; T, typename &gt;::end()</a>, <a class="el" href="STLExtras_8h_source.html#l01751">llvm::find()</a>, <a class="el" href="SmallVector_8h_source.html#l00312">llvm::SmallVectorTemplateCommon&lt; T, typename &gt;::front()</a>, <a class="el" href="Value_8h_source.html#l00255">llvm::Value::getType()</a>, <a class="el" href="DeadArgumentElimination_8cpp_source.html#l00354">Idx</a>, <a class="el" href="Instructions_8h_source.html#l01960">llvm::PoisonMaskElem</a>, <a class="el" href="SmallVector_8h_source.html#l00426">llvm::SmallVectorTemplateBase&lt; T, bool &gt;::push_back()</a>, and <a class="el" href="SmallVector_8h_source.html#l00091">llvm::SmallVectorBase&lt; Size_T &gt;::size()</a>.</p>

</div>
</div>
<a id="a71ce471fff7e2bde83cdbdeb6bd506d8" name="a71ce471fff7e2bde83cdbdeb6bd506d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71ce471fff7e2bde83cdbdeb6bd506d8">&#9670;&#160;</a></span>add() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void llvm::slpvectorizer::BoUpSLP::ShuffleInstructionBuilder::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>V1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>V2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; int &gt;&#160;</td>
          <td class="paramname"><em>Mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds 2 input vectors and the mask for their shuffling. </p>

<p class="definition">Definition at line <a class="el" href="SLPVectorizer_8cpp_source.html#l10344">10344</a> of file <a class="el" href="SLPVectorizer_8cpp_source.html">SLPVectorizer.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="SmallVector_8h_source.html#l00717">llvm::SmallVectorImpl&lt; T &gt;::assign()</a>, <a class="el" href="SmallVector_8h_source.html#l00321">llvm::SmallVectorTemplateCommon&lt; T, typename &gt;::back()</a>, <a class="el" href="SmallVector_8h_source.html#l00094">llvm::SmallVectorBase&lt; Size_T &gt;::empty()</a>, <a class="el" href="SmallVector_8h_source.html#l00312">llvm::SmallVectorTemplateCommon&lt; T, typename &gt;::front()</a>, <a class="el" href="Value_8h_source.html#l00255">llvm::Value::getType()</a>, <a class="el" href="DeadArgumentElimination_8cpp_source.html#l00354">Idx</a>, <a class="el" href="Instructions_8h_source.html#l01960">llvm::PoisonMaskElem</a>, <a class="el" href="SmallVector_8h_source.html#l00426">llvm::SmallVectorTemplateBase&lt; T, bool &gt;::push_back()</a>, and <a class="el" href="SmallVector_8h_source.html#l00091">llvm::SmallVectorBase&lt; Size_T &gt;::size()</a>.</p>

</div>
</div>
<a id="a34c3ba98fb3849595c565342c8c3b78b" name="a34c3ba98fb3849595c565342c8c3b78b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34c3ba98fb3849595c565342c8c3b78b">&#9670;&#160;</a></span>addOrdered()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void llvm::slpvectorizer::BoUpSLP::ShuffleInstructionBuilder::addOrdered </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>V1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt;&#160;</td>
          <td class="paramname"><em>Order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds another one input vector and the mask for the shuffling. </p>

<p class="definition">Definition at line <a class="el" href="SLPVectorizer_8cpp_source.html#l10429">10429</a> of file <a class="el" href="SLPVectorizer_8cpp_source.html">SLPVectorizer.cpp</a>.</p>

<p class="reference">References <a class="el" href="SLPVectorizer_8cpp_source.html#l00887">llvm::inversePermutation()</a>.</p>

</div>
</div>
<a id="ad60d13f7863772bd84f52feda244e894" name="ad60d13f7863772bd84f52feda244e894"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60d13f7863772bd84f52feda244e894">&#9670;&#160;</a></span>adjustExtracts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1Value.html">Value</a> * llvm::slpvectorizer::BoUpSLP::ShuffleInstructionBuilder::adjustExtracts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> TreeEntry *&#160;</td>
          <td class="paramname"><em>E</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MutableArrayRef.html">MutableArrayRef</a>&lt; int &gt;&#160;</td>
          <td class="paramname"><em>Mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; std::optional&lt; <a class="el" href="classllvm_1_1TargetTransformInfo.html#af46433d0e36d3f80afc3a8c67b5c53ec">TTI::ShuffleKind</a> &gt; &gt;&#160;</td>
          <td class="paramname"><em>ShuffleKinds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a>&#160;</td>
          <td class="paramname"><em>NumParts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a> &amp;&#160;</td>
          <td class="paramname"><em>UseVecBaseAsInput</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adjusts extractelements after reusing them. </p>

<p class="definition">Definition at line <a class="el" href="SLPVectorizer_8cpp_source.html#l10200">10200</a> of file <a class="el" href="SLPVectorizer_8cpp_source.html">SLPVectorizer.cpp</a>.</p>

<p class="reference">References <a class="el" href="STLExtras_8h_source.html#l01738">llvm::any_of()</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="STLExtras_8h_source.html#l01923">llvm::count()</a>, <a class="el" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="DeadArgumentElimination_8cpp_source.html#l00354">Idx</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00366">llvm::SmallPtrSetImpl&lt; PtrType &gt;::insert()</a>, and <a class="el" href="Instructions_8h_source.html#l01960">llvm::PoisonMaskElem</a>.</p>

</div>
</div>
<a id="a9a4f4eb21e4820281bd94386fe524395" name="a9a4f4eb21e4820281bd94386fe524395"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a4f4eb21e4820281bd94386fe524395">&#9670;&#160;</a></span>createFreeze()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1Value.html">Value</a> * llvm::slpvectorizer::BoUpSLP::ShuffleInstructionBuilder::createFreeze </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>V</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SLPVectorizer_8cpp_source.html#l10438">10438</a> of file <a class="el" href="SLPVectorizer_8cpp_source.html">SLPVectorizer.cpp</a>.</p>

<p class="reference">References <a class="el" href="IRBuilder_8h_source.html#l02518">llvm::IRBuilderBase::CreateFreeze()</a>.</p>

</div>
</div>
<a id="adcef8497399236de21dee199d38463c0" name="adcef8497399236de21dee199d38463c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcef8497399236de21dee199d38463c0">&#9670;&#160;</a></span>finalize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1Value.html">Value</a> * llvm::slpvectorizer::BoUpSLP::ShuffleInstructionBuilder::finalize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; int &gt;&#160;</td>
          <td class="paramname"><em>ExtMask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a>&#160;</td>
          <td class="paramname"><em>VF</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1function__ref.html">function_ref</a>&lt; void(<a class="el" href="classllvm_1_1Value.html">Value</a> *&amp;, <a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; int &gt; &amp;)&gt;&#160;</td>
          <td class="paramname"><em>Action</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finalize emission of the shuffles. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Action</td><td>the action (if any) to be performed before final applying of the <code>ExtMask</code> mask. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="SLPVectorizer_8cpp_source.html#l10443">10443</a> of file <a class="el" href="SLPVectorizer_8cpp_source.html">SLPVectorizer.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="SLPVectorizer_8cpp_source.html#l11817">llvm::slpvectorizer::BoUpSLP::vectorizeTree()</a>.</p>

</div>
</div>
<a id="a5db3e3478b2d1b08f12c1960f1a92af1" name="a5db3e3478b2d1b08f12c1960f1a92af1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5db3e3478b2d1b08f12c1960f1a92af1">&#9670;&#160;</a></span>gather()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1Value.html">Value</a> * llvm::slpvectorizer::BoUpSLP::ShuffleInstructionBuilder::gather </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt;&#160;</td>
          <td class="paramname"><em>VL</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a>&#160;</td>
          <td class="paramname"><em>MaskVF</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>Root</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SLPVectorizer_8cpp_source.html#l10434">10434</a> of file <a class="el" href="SLPVectorizer_8cpp_source.html">SLPVectorizer.cpp</a>.</p>

</div>
</div>
<a id="a4055f1bab55c76c243c3bf42c1a7e45a" name="a4055f1bab55c76c243c3bf42c1a7e45a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4055f1bab55c76c243c3bf42c1a7e45a">&#9670;&#160;</a></span>needToDelay()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; llvm::slpvectorizer::BoUpSLP::ShuffleInstructionBuilder::needToDelay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> TreeEntry *&#160;</td>
          <td class="paramname"><em>E</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt; <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> TreeEntry * &gt; &gt;&#160;</td>
          <td class="paramname"><em>Deps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the specified entry <code>E</code> needs to be delayed because of its dependency nodes. </p>

<p class="definition">Definition at line <a class="el" href="SLPVectorizer_8cpp_source.html#l10317">10317</a> of file <a class="el" href="SLPVectorizer_8cpp_source.html">SLPVectorizer.cpp</a>.</p>

<p class="reference">References <a class="el" href="STLExtras_8h_source.html#l01731">llvm::all_of()</a>, <a class="el" href="IRBuilder_8h_source.html#l01806">llvm::IRBuilderBase::CreateAlignedLoad()</a>, <a class="el" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a>, <a class="el" href="Type_8cpp_source.html#l00692">llvm::FixedVectorType::get()</a>, <a class="el" href="Constants_8cpp_source.html#l01743">llvm::PoisonValue::get()</a>, <a class="el" href="Type_8h_source.html#l00129">llvm::Type::getContext()</a>, and <a class="el" href="DerivedTypes_8h_source.html#l00662">llvm::PointerType::getUnqual()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>lib/Transforms/Vectorize/<a class="el" href="SLPVectorizer_8cpp_source.html">SLPVectorizer.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jul 8 2024 18:10:40 for LLVM by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
