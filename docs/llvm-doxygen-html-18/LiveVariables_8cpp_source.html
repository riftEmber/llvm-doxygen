<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/CodeGen/LiveVariables.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LLVM<span id="projectnumber">&#160;18.1.0rc</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1e8ad0574bd6e387992681ee57691a07.html">CodeGen</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">LiveVariables.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="LiveVariables_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">//===-- LiveVariables.cpp - Live Variable Analysis for Machine Code -------===//</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">//</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">//</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">//</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">// This file implements the LiveVariable analysis pass.  For each machine</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">// instruction in the function, this pass calculates the set of registers that</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">// are immediately dead after the instruction (i.e., the instruction calculates</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">// the value, but it is never used) and the set of registers that are used by</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">// the instruction, but are never used after the instruction (i.e., they are</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment">// killed).</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment">//</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment">// This class computes live variables using a sparse implementation based on</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="comment">// the machine code SSA form.  This class computes live variable information for</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="comment">// each virtual and _register allocatable_ physical register in a function.  It</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="comment">// uses the dominance properties of SSA form to efficiently compute live</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="comment">// variables for virtual registers, and assumes that physical registers are only</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="comment">// live within a single basic block (allowing it to do a single local analysis</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="comment">// to resolve physical register lifetimes in each basic block).  If a physical</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="comment">// register is not register allocatable, it is not tracked.  This is useful for</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="comment">// things like the stack pointer and condition codes.</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="comment">//</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span> </div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;<a class="code" href="LiveVariables_8h.html">llvm/CodeGen/LiveVariables.h</a>&quot;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &quot;<a class="code" href="DenseSet_8h.html">llvm/ADT/DenseSet.h</a>&quot;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &quot;<a class="code" href="DepthFirstIterator_8h.html">llvm/ADT/DepthFirstIterator.h</a>&quot;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &quot;<a class="code" href="SmallSet_8h.html">llvm/ADT/SmallSet.h</a>&quot;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#include &quot;<a class="code" href="MachineInstr_8h.html">llvm/CodeGen/MachineInstr.h</a>&quot;</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#include &quot;<a class="code" href="MachineRegisterInfo_8h.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#include &quot;<a class="code" href="CodeGen_2Passes_8h.html">llvm/CodeGen/Passes.h</a>&quot;</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="preprocessor">#include &quot;llvm/Config/llvm-config.h&quot;</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="preprocessor">#include &quot;<a class="code" href="llvm_2Support_2ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span> </div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="keywordtype">char</span> <a class="code hl_variable" href="classllvm_1_1LiveVariables.html#a42e1e6f4c393e0339a1583d20eb06b42">LiveVariables::ID</a> = 0;</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno"><a class="line" href="namespacellvm.html#ab80163ae002e9cec63a9e279d5b1c2d7">   45</a></span><span class="keywordtype">char</span> &amp;<a class="code hl_variable" href="namespacellvm.html#ab80163ae002e9cec63a9e279d5b1c2d7">llvm::LiveVariablesID</a> = <a class="code hl_variable" href="classllvm_1_1LiveVariables.html#a42e1e6f4c393e0339a1583d20eb06b42">LiveVariables::ID</a>;</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno"><a class="line" href="LiveVariables_8cpp.html#a2b3535c8945ebd171758e98406b7a60d">   46</a></span><a class="code hl_define" href="PassSupport_8h.html#aaa970fc931c1c63037a8182e028d04b1">INITIALIZE_PASS_BEGIN</a>(<a class="code hl_class" href="classllvm_1_1LiveVariables.html">LiveVariables</a>, <span class="stringliteral">&quot;livevars&quot;</span>,</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>                <span class="stringliteral">&quot;Live Variable Analysis&quot;</span>, <span class="keyword">false</span>, <span class="keyword">false</span>)</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><a class="code hl_define" href="PassSupport_8h.html#a14724f1ccf528e73bb29bc9230737967">INITIALIZE_PASS_DEPENDENCY</a>(UnreachableMachineBlockElim)</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno"><a class="line" href="LiveVariables_8cpp.html#a5bcde61f356a5d1dd5eed019a43749b6">   49</a></span><a class="code hl_define" href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a>(<a class="code hl_class" href="classllvm_1_1LiveVariables.html">LiveVariables</a>, &quot;<a class="code hl_variable" href="LiveVariables_8cpp.html#a5bcde61f356a5d1dd5eed019a43749b6">livevars</a>&quot;,</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno"><a class="line" href="LiveVariables_8cpp.html#a1c1026418988cb4fbcd5df72bb6a50b5">   50</a></span>                &quot;<a class="code hl_variable" href="DeadArgumentElimination_8cpp.html#ab782e7853df58ea8e42350a3546fccc9">Live</a> Variable <a class="code hl_variable" href="LiveVariables_8cpp.html#a1c1026418988cb4fbcd5df72bb6a50b5">Analysis</a>&quot;, <a class="code hl_namespace" href="namespacefalse.html">false</a>, <a class="code hl_namespace" href="namespacefalse.html">false</a>)</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span> </div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span> </div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveVariables.html#a0f96726eeba40ee358eb50494f3729d0">   53</a></span><span class="keywordtype">void</span> <a class="code hl_class" href="classllvm_1_1LiveVariables.html">LiveVariables</a>::getAnalysisUsage(<a class="code hl_class" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>  AU.addRequiredID(<a class="code hl_variable" href="namespacellvm.html#ad810a1e96a20217be2b5ce15066af066">UnreachableMachineBlockElimID</a>);</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>  AU.setPreservesAll();</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>  <a class="code hl_function" href="classllvm_1_1MachineFunctionPass.html#a864fd57b4304ef933b3281d0ef85a88e">MachineFunctionPass::getAnalysisUsage</a>(AU);</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>}</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span> </div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span><a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno"><a class="line" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a935158aa13ae361427aa4c76d40693a0">   60</a></span><a class="code hl_function" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a935158aa13ae361427aa4c76d40693a0">LiveVariables::VarInfo::findKill</a>(<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : <a class="code hl_variable" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a65c816771eca7465f5e3e0bb6624ad88">Kills</a>)</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getParent() == <a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>)</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>}</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span> </div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span><span class="preprocessor">#if !defined(NDEBUG) || defined(LLVM_ENABLE_DUMP)</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno"><a class="line" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a578f01f3e0679351d97facbba44c583e">   68</a></span><a class="code hl_define" href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a> <span class="keywordtype">void</span> <a class="code hl_function" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a578f01f3e0679351d97facbba44c583e">LiveVariables::VarInfo::dump</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>  <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Alive in blocks: &quot;</span>;</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> AB : AliveBlocks)</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; AB &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>  <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n  Killed by:&quot;</span>;</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>  <span class="keywordflow">if</span> (Kills.empty())</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; No instructions.\n&quot;</span>;</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>  <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = Kills.size(); i != e; ++i)</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>      <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n    #&quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; *Kills[i];</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>    <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>  }</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>}</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span><span class="comment"></span> </div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span><span class="comment">/// getVarInfo - Get (possibly creating) a VarInfo object for the given vreg.</span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveVariables.html#af73ca972d296b25a689a90fb5a0713f3">   84</a></span><span class="comment"></span><a class="code hl_struct" href="structllvm_1_1LiveVariables_1_1VarInfo.html">LiveVariables::VarInfo</a> &amp;<a class="code hl_function" href="classllvm_1_1LiveVariables.html#af73ca972d296b25a689a90fb5a0713f3">LiveVariables::getVarInfo</a>(<a class="code hl_class" href="classllvm_1_1Register.html">Register</a> Reg) {</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>  <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Reg.isVirtual() &amp;&amp; <span class="stringliteral">&quot;getVarInfo: not a virtual register!&quot;</span>);</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>  <a class="code hl_struct" href="structllvm_1_1VirtRegInfo.html">VirtRegInfo</a>.grow(Reg);</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>  <span class="keywordflow">return</span> <a class="code hl_struct" href="structllvm_1_1VirtRegInfo.html">VirtRegInfo</a>[Reg];</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>}</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span> </div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveVariables.html#a296cf971c4bc03d1b469f52b687661db">   90</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classllvm_1_1LiveVariables.html#a051cfe914c1c4eb2ceabb758d018a966">LiveVariables::MarkVirtRegAliveInBlock</a>(</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>    <a class="code hl_struct" href="structllvm_1_1LiveVariables_1_1VarInfo.html">VarInfo</a> &amp;VRInfo, <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *DefBlock, <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    <a class="code hl_class" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineBasicBlock *&gt;</a> &amp;WorkList) {</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>  <span class="keywordtype">unsigned</span> BBNum = <a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>();</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span> </div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>  <span class="comment">// Check to see if this basic block is one of the killing blocks.  If so,</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>  <span class="comment">// remove it.</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = VRInfo.<a class="code hl_variable" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a65c816771eca7465f5e3e0bb6624ad88">Kills</a>.size(); i != e; ++i)</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <span class="keywordflow">if</span> (VRInfo.<a class="code hl_variable" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a65c816771eca7465f5e3e0bb6624ad88">Kills</a>[i]-&gt;getParent() == <a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) {</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>      VRInfo.<a class="code hl_variable" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a65c816771eca7465f5e3e0bb6624ad88">Kills</a>.erase(VRInfo.<a class="code hl_variable" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a65c816771eca7465f5e3e0bb6624ad88">Kills</a>.begin()+i);  <span class="comment">// Erase entry</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    }</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span> </div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> == DefBlock) <span class="keywordflow">return</span>;  <span class="comment">// Terminate recursion</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span> </div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>  <span class="keywordflow">if</span> (VRInfo.<a class="code hl_variable" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a76321b20db4feab750d85c2329cfcbc6">AliveBlocks</a>.<a class="code hl_function" href="classllvm_1_1SparseBitVector.html#aaa2827e67554a0b81f693dc61a3a40b5">test</a>(BBNum))</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>    <span class="keywordflow">return</span>;  <span class="comment">// We already know the block is live</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span> </div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>  <span class="comment">// Mark the variable known alive in this bb</span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>  VRInfo.<a class="code hl_variable" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a76321b20db4feab750d85c2329cfcbc6">AliveBlocks</a>.<a class="code hl_function" href="classllvm_1_1SparseBitVector.html#a613c1e44c4e88e9a1e0be386cb5fa828">set</a>(BBNum);</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span> </div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>  <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> != &amp;MF-&gt;<a class="code hl_function" href="classllvm_1_1MachineFunction.html#ac8ca28de0f4dcee651340e7ef0c45233">front</a>() &amp;&amp; <span class="stringliteral">&quot;Can&#39;t find reaching def for virtreg&quot;</span>);</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>  WorkList.<a class="code hl_function" href="classllvm_1_1SmallVectorImpl.html#a94d23373106467003722f7d6c17b1528">insert</a>(WorkList.<a class="code hl_function" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(), <a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#a3c1a265be404da0734c41c2f4b7373b3">pred_rbegin</a>(), <a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#a5429a41753b45803fce6e1bc33be84c4">pred_rend</a>());</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>}</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span> </div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveVariables.html#a051cfe914c1c4eb2ceabb758d018a966">  115</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classllvm_1_1LiveVariables.html#a051cfe914c1c4eb2ceabb758d018a966">LiveVariables::MarkVirtRegAliveInBlock</a>(<a class="code hl_struct" href="structllvm_1_1LiveVariables_1_1VarInfo.html">VarInfo</a> &amp;VRInfo,</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>                                            <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *DefBlock,</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>                                            <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) {</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>  <a class="code hl_class" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineBasicBlock *, 16&gt;</a> WorkList;</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>  <a class="code hl_function" href="classllvm_1_1LiveVariables.html#a051cfe914c1c4eb2ceabb758d018a966">MarkVirtRegAliveInBlock</a>(VRInfo, DefBlock, <a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, WorkList);</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span> </div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>  <span class="keywordflow">while</span> (!WorkList.<a class="code hl_function" href="classllvm_1_1SmallVectorBase.html#ad03233a7b0c4de57dcadc7529dad8d0b">empty</a>()) {</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>    <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *Pred = WorkList.<a class="code hl_function" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>    <a class="code hl_function" href="classllvm_1_1LiveVariables.html#a051cfe914c1c4eb2ceabb758d018a966">MarkVirtRegAliveInBlock</a>(VRInfo, DefBlock, Pred, WorkList);</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>  }</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>}</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span> </div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveVariables.html#ac7e33b16879b183b0a9058363e2061de">  127</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classllvm_1_1LiveVariables.html#ac7e33b16879b183b0a9058363e2061de">LiveVariables::HandleVirtRegUse</a>(<a class="code hl_class" href="classllvm_1_1Register.html">Register</a> Reg, <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>                                     <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>  <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MRI-&gt;<a class="code hl_function" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(Reg) &amp;&amp; <span class="stringliteral">&quot;Register use before def!&quot;</span>);</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span> </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>  <span class="keywordtype">unsigned</span> BBNum = <a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>();</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span> </div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>  <a class="code hl_struct" href="structllvm_1_1LiveVariables_1_1VarInfo.html">VarInfo</a> &amp;VRInfo = <a class="code hl_function" href="classllvm_1_1LiveVariables.html#af73ca972d296b25a689a90fb5a0713f3">getVarInfo</a>(Reg);</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span> </div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>  <span class="comment">// Check to see if this basic block is already a kill block.</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>  <span class="keywordflow">if</span> (!VRInfo.<a class="code hl_variable" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a65c816771eca7465f5e3e0bb6624ad88">Kills</a>.empty() &amp;&amp; VRInfo.<a class="code hl_variable" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a65c816771eca7465f5e3e0bb6624ad88">Kills</a>.back()-&gt;getParent() == <a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) {</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <span class="comment">// Yes, this register is killed in this basic block already. Increase the</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    <span class="comment">// live range by updating the kill instruction.</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    VRInfo.<a class="code hl_variable" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a65c816771eca7465f5e3e0bb6624ad88">Kills</a>.back() = &amp;<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>  }</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span> </div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span><span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Kill : VRInfo.<a class="code hl_variable" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a65c816771eca7465f5e3e0bb6624ad88">Kills</a>)</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Kill-&gt;getParent() != <a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> &amp;&amp; <span class="stringliteral">&quot;entry should be at end!&quot;</span>);</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span> </div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>  <span class="comment">// This situation can occur:</span></div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>  <span class="comment">//     ,------.</span></div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>  <span class="comment">//     |      |</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>  <span class="comment">//     |      v</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>  <span class="comment">//     |   t2 = phi ... t1 ...</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>  <span class="comment">//     |      |</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>  <span class="comment">//     |      v</span></div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>  <span class="comment">//     |   t1 = ...</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>  <span class="comment">//     |  ... = ... t1 ...</span></div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>  <span class="comment">//     |      |</span></div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>  <span class="comment">//     `------&#39;</span></div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>  <span class="comment">// where there is a use in a PHI node that&#39;s a predecessor to the defining</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>  <span class="comment">// block. We don&#39;t want to mark all predecessors as having the value &quot;alive&quot;</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>  <span class="comment">// in this case.</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> == MRI-&gt;<a class="code hl_function" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(Reg)-&gt;<a class="code hl_function" href="classllvm_1_1MachineInstr.html#a1e855100f407ca4be098d0050be403b0">getParent</a>())</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span> </div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>  <span class="comment">// Add a new kill entry for this basic block. If this virtual register is</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>  <span class="comment">// already marked as alive in this basic block, that means it is alive in at</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>  <span class="comment">// least one of the successor blocks, it&#39;s not a kill.</span></div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>  <span class="keywordflow">if</span> (!VRInfo.<a class="code hl_variable" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a76321b20db4feab750d85c2329cfcbc6">AliveBlocks</a>.<a class="code hl_function" href="classllvm_1_1SparseBitVector.html#aaa2827e67554a0b81f693dc61a3a40b5">test</a>(BBNum))</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    VRInfo.<a class="code hl_variable" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a65c816771eca7465f5e3e0bb6624ad88">Kills</a>.push_back(&amp;<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span> </div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>  <span class="comment">// Update all dominating blocks to mark them as &quot;known live&quot;.</span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *Pred : <a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#addd80df79ba902914c7d8a52e3896b79">predecessors</a>())</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <a class="code hl_function" href="classllvm_1_1LiveVariables.html#a051cfe914c1c4eb2ceabb758d018a966">MarkVirtRegAliveInBlock</a>(VRInfo, MRI-&gt;<a class="code hl_function" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(Reg)-&gt;<a class="code hl_function" href="classllvm_1_1MachineInstr.html#a1e855100f407ca4be098d0050be403b0">getParent</a>(), Pred);</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>}</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span> </div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveVariables.html#a7339056d25e6a6d7d1525f2ac0d1fe69">  178</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classllvm_1_1LiveVariables.html#a7339056d25e6a6d7d1525f2ac0d1fe69">LiveVariables::HandleVirtRegDef</a>(<a class="code hl_class" href="classllvm_1_1Register.html">Register</a> Reg, <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>  <a class="code hl_struct" href="structllvm_1_1LiveVariables_1_1VarInfo.html">VarInfo</a> &amp;VRInfo = <a class="code hl_function" href="classllvm_1_1LiveVariables.html#af73ca972d296b25a689a90fb5a0713f3">getVarInfo</a>(Reg);</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span> </div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>  <span class="keywordflow">if</span> (VRInfo.<a class="code hl_variable" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a76321b20db4feab750d85c2329cfcbc6">AliveBlocks</a>.<a class="code hl_function" href="classllvm_1_1SparseBitVector.html#af3b1d1c23a2507b717c7a9acc0d5ae49">empty</a>())</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    <span class="comment">// If vr is not alive in any block, then defaults to dead.</span></div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    VRInfo.<a class="code hl_variable" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a65c816771eca7465f5e3e0bb6624ad88">Kills</a>.push_back(&amp;<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>}</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span><span class="comment"></span> </div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span><span class="comment">/// FindLastPartialDef - Return the last partial def of the specified register.</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span><span class="comment">/// Also returns the sub-registers that&#39;re defined by the instruction.</span></div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span><span class="comment"></span><a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>LiveVariables::FindLastPartialDef(<a class="code hl_class" href="classllvm_1_1Register.html">Register</a> Reg,</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>                                  <a class="code hl_class" href="classllvm_1_1SmallSet.html">SmallSet&lt;unsigned, 4&gt;</a> &amp;PartDefRegs) {</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>  <span class="keywordtype">unsigned</span> LastDefReg = 0;</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>  <span class="keywordtype">unsigned</span> LastDefDist = 0;</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>  <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *LastDef = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classuint16__t.html">MCPhysReg</a> <a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> : TRI-&gt;<a class="code hl_function" href="classllvm_1_1MCRegisterInfo.html#a9ded59d8266ccd2647bfd81722046beb">subregs</a>(Reg)) {</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Def = PhysRegDef[<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>];</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    <span class="keywordflow">if</span> (!Def)</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    <span class="keywordtype">unsigned</span> Dist = DistanceMap[Def];</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>    <span class="keywordflow">if</span> (Dist &gt; LastDefDist) {</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>      LastDefReg  = <a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>;</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>      LastDef     = Def;</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>      LastDefDist = Dist;</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>    }</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>  }</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span> </div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>  <span class="keywordflow">if</span> (!LastDef)</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span> </div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>  PartDefRegs.<a class="code hl_function" href="classllvm_1_1SmallSet.html#afcadfef2cf37c3e6dbdbc9cd7bea50a0">insert</a>(LastDefReg);</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : LastDef-&gt;<a class="code hl_function" href="classllvm_1_1MachineInstr.html#ade4229c653b0cbcaca057e8af5002783">all_defs</a>()) {</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>    <span class="keywordflow">if</span> (MO.getReg() == 0)</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>    <a class="code hl_class" href="classllvm_1_1Register.html">Register</a> DefReg = MO.getReg();</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    <span class="keywordflow">if</span> (TRI-&gt;<a class="code hl_function" href="classllvm_1_1MCRegisterInfo.html#a97b138b96791a09a0d9b9c77f0fb6e85">isSubRegister</a>(Reg, DefReg)) {</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>      <span class="keywordflow">for</span> (<a class="code hl_class" href="classuint16__t.html">MCPhysReg</a> <a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> : TRI-&gt;<a class="code hl_function" href="classllvm_1_1MCRegisterInfo.html#a95656353b813a1dd7ddfa7d8445633a8">subregs_inclusive</a>(DefReg))</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>        PartDefRegs.<a class="code hl_function" href="classllvm_1_1SmallSet.html#afcadfef2cf37c3e6dbdbc9cd7bea50a0">insert</a>(<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>);</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>    }</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>  }</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>  <span class="keywordflow">return</span> LastDef;</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>}</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span><span class="comment"></span> </div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span><span class="comment">/// HandlePhysRegUse - Turn previous partial def&#39;s into read/mod/writes. Add</span></div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span><span class="comment">/// implicit defs to a machine instruction if there was an earlier def of its</span></div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span><span class="comment">/// super-register.</span></div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span><span class="comment"></span><span class="keywordtype">void</span> LiveVariables::HandlePhysRegUse(<a class="code hl_class" href="classllvm_1_1Register.html">Register</a> Reg, <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>  <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *LastDef = PhysRegDef[<a class="code hl_enumeration" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>];</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>  <span class="comment">// If there was a previous use or a &quot;full&quot; def all is well.</span></div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>  <span class="keywordflow">if</span> (!LastDef &amp;&amp; !PhysRegUse[Reg]) {</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    <span class="comment">// Otherwise, the last sub-register def implicitly defines this register.</span></div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>    <span class="comment">// e.g.</span></div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    <span class="comment">// AH =</span></div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>    <span class="comment">// AL = ... implicit-def EAX, implicit killed AH</span></div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>    <span class="comment">//    = AH</span></div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>    <span class="comment">// ...</span></div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    <span class="comment">//    = EAX</span></div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>    <span class="comment">// All of the sub-registers must have been defined before the use of Reg!</span></div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>    <a class="code hl_class" href="classllvm_1_1SmallSet.html">SmallSet&lt;unsigned, 4&gt;</a> PartDefRegs;</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>    <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *LastPartialDef = FindLastPartialDef(Reg, PartDefRegs);</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    <span class="comment">// If LastPartialDef is NULL, it must be using a livein register.</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>    <span class="keywordflow">if</span> (LastPartialDef) {</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>      LastPartialDef-&gt;<a class="code hl_function" href="classllvm_1_1MachineInstr.html#a469e271fba3a9b52dad4fa54eaf44e2b">addOperand</a>(<a class="code hl_function" href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(Reg, <span class="keyword">true</span><span class="comment">/*IsDef*/</span>,</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>                                                           <span class="keyword">true</span><span class="comment">/*IsImp*/</span>));</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>      PhysRegDef[<a class="code hl_enumeration" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>] = LastPartialDef;</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>      <a class="code hl_class" href="classllvm_1_1SmallSet.html">SmallSet&lt;unsigned, 8&gt;</a> Processed;</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>      <span class="keywordflow">for</span> (<a class="code hl_class" href="classuint16__t.html">MCPhysReg</a> <a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> : TRI-&gt;<a class="code hl_function" href="classllvm_1_1MCRegisterInfo.html#a9ded59d8266ccd2647bfd81722046beb">subregs</a>(Reg)) {</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>        <span class="keywordflow">if</span> (Processed.<a class="code hl_function" href="classllvm_1_1SmallSet.html#a2a98f19750ba941ce791b75ca6d77e48">count</a>(<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>))</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>        <span class="keywordflow">if</span> (PartDefRegs.<a class="code hl_function" href="classllvm_1_1SmallSet.html#a2a98f19750ba941ce791b75ca6d77e48">count</a>(<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>))</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>        <span class="comment">// This part of Reg was defined before the last partial def. It&#39;s killed</span></div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>        <span class="comment">// here.</span></div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>        LastPartialDef-&gt;<a class="code hl_function" href="classllvm_1_1MachineInstr.html#a469e271fba3a9b52dad4fa54eaf44e2b">addOperand</a>(<a class="code hl_function" href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>,</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>                                                             <span class="keyword">false</span><span class="comment">/*IsDef*/</span>,</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>                                                             <span class="keyword">true</span><span class="comment">/*IsImp*/</span>));</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>        PhysRegDef[<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>] = LastPartialDef;</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>        <span class="keywordflow">for</span> (<a class="code hl_class" href="classuint16__t.html">MCPhysReg</a> SS : TRI-&gt;<a class="code hl_function" href="classllvm_1_1MCRegisterInfo.html#a9ded59d8266ccd2647bfd81722046beb">subregs</a>(<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>))</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>          Processed.<a class="code hl_function" href="classllvm_1_1SmallSet.html#afcadfef2cf37c3e6dbdbc9cd7bea50a0">insert</a>(SS);</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>      }</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    }</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (LastDef &amp;&amp; !PhysRegUse[Reg] &amp;&amp;</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>             !LastDef-&gt;<a class="code hl_function" href="classllvm_1_1MachineInstr.html#aef1372e88c419bac8c5681e49bf7cbe2">findRegisterDefOperand</a>(Reg))</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    <span class="comment">// Last def defines the super register, add an implicit def of reg.</span></div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>    LastDef-&gt;<a class="code hl_function" href="classllvm_1_1MachineInstr.html#a469e271fba3a9b52dad4fa54eaf44e2b">addOperand</a>(<a class="code hl_function" href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(Reg, <span class="keyword">true</span><span class="comment">/*IsDef*/</span>,</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>                                                  <span class="keyword">true</span><span class="comment">/*IsImp*/</span>));</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span> </div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>  <span class="comment">// Remember this use.</span></div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classuint16__t.html">MCPhysReg</a> <a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> : TRI-&gt;<a class="code hl_function" href="classllvm_1_1MCRegisterInfo.html#a95656353b813a1dd7ddfa7d8445633a8">subregs_inclusive</a>(Reg))</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    PhysRegUse[<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>] = &amp;<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>}</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span><span class="comment"></span> </div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span><span class="comment">/// FindLastRefOrPartRef - Return the last reference or partial reference of</span></div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span><span class="comment">/// the specified register.</span></div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span><span class="comment"></span><a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *LiveVariables::FindLastRefOrPartRef(<a class="code hl_class" href="classllvm_1_1Register.html">Register</a> Reg) {</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>  <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *LastDef = PhysRegDef[<a class="code hl_enumeration" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>];</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>  <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *LastUse = PhysRegUse[<a class="code hl_enumeration" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>];</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>  <span class="keywordflow">if</span> (!LastDef &amp;&amp; !LastUse)</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span> </div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>  <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *LastRefOrPartRef = LastUse ? LastUse : LastDef;</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>  <span class="keywordtype">unsigned</span> LastRefOrPartRefDist = DistanceMap[LastRefOrPartRef];</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>  <span class="keywordtype">unsigned</span> LastPartDefDist = 0;</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classuint16__t.html">MCPhysReg</a> <a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> : TRI-&gt;<a class="code hl_function" href="classllvm_1_1MCRegisterInfo.html#a9ded59d8266ccd2647bfd81722046beb">subregs</a>(Reg)) {</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>    <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code hl_typedef" href="namespacellvm_1_1rdf.html#a72a9383e8621141ce7a69b7d2ad5061c">Def</a> = PhysRegDef[<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>];</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>    <span class="keywordflow">if</span> (Def &amp;&amp; Def != LastDef) {</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>      <span class="comment">// There was a def of this sub-register in between. This is a partial</span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>      <span class="comment">// def, keep track of the last one.</span></div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>      <span class="keywordtype">unsigned</span> Dist = DistanceMap[<a class="code hl_typedef" href="namespacellvm_1_1rdf.html#a72a9383e8621141ce7a69b7d2ad5061c">Def</a>];</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>      <span class="keywordflow">if</span> (Dist &gt; LastPartDefDist)</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>        LastPartDefDist = Dist;</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code hl_class" href="classllvm_1_1Use.html">Use</a> = PhysRegUse[<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>]) {</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>      <span class="keywordtype">unsigned</span> Dist = DistanceMap[<a class="code hl_class" href="classllvm_1_1Use.html">Use</a>];</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>      <span class="keywordflow">if</span> (Dist &gt; LastRefOrPartRefDist) {</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>        LastRefOrPartRefDist = Dist;</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>        LastRefOrPartRef = <a class="code hl_class" href="classllvm_1_1Use.html">Use</a>;</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>      }</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>    }</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>  }</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span> </div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>  <span class="keywordflow">return</span> LastRefOrPartRef;</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>}</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span> </div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span><span class="keywordtype">bool</span> LiveVariables::HandlePhysRegKill(<a class="code hl_class" href="classllvm_1_1Register.html">Register</a> Reg, <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>  <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *LastDef = PhysRegDef[<a class="code hl_enumeration" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>];</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>  <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *LastUse = PhysRegUse[<a class="code hl_enumeration" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>];</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>  <span class="keywordflow">if</span> (!LastDef &amp;&amp; !LastUse)</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span> </div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>  <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *LastRefOrPartRef = LastUse ? LastUse : LastDef;</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>  <span class="keywordtype">unsigned</span> LastRefOrPartRefDist = DistanceMap[LastRefOrPartRef];</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>  <span class="comment">// The whole register is used.</span></div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>  <span class="comment">// AL =</span></div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>  <span class="comment">// AH =</span></div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>  <span class="comment">//    = AX</span></div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>  <span class="comment">//    = AL, implicit killed AX</span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>  <span class="comment">// AX =</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>  <span class="comment">// Or whole register is defined, but not used at all.</span></div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>  <span class="comment">// dead AX =</span></div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>  <span class="comment">// ...</span></div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>  <span class="comment">// AX =</span></div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>  <span class="comment">// Or whole register is defined, but only partly used.</span></div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>  <span class="comment">// dead AX = implicit-def AL</span></div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>  <span class="comment">//    = killed AL</span></div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>  <span class="comment">// AX =</span></div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>  <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *LastPartDef = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>  <span class="keywordtype">unsigned</span> LastPartDefDist = 0;</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>  <a class="code hl_class" href="classllvm_1_1SmallSet.html">SmallSet&lt;unsigned, 8&gt;</a> PartUses;</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classuint16__t.html">MCPhysReg</a> <a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> : TRI-&gt;<a class="code hl_function" href="classllvm_1_1MCRegisterInfo.html#a9ded59d8266ccd2647bfd81722046beb">subregs</a>(Reg)) {</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>    <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code hl_typedef" href="namespacellvm_1_1rdf.html#a72a9383e8621141ce7a69b7d2ad5061c">Def</a> = PhysRegDef[<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>];</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>    <span class="keywordflow">if</span> (Def &amp;&amp; Def != LastDef) {</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>      <span class="comment">// There was a def of this sub-register in between. This is a partial</span></div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>      <span class="comment">// def, keep track of the last one.</span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>      <span class="keywordtype">unsigned</span> Dist = DistanceMap[<a class="code hl_typedef" href="namespacellvm_1_1rdf.html#a72a9383e8621141ce7a69b7d2ad5061c">Def</a>];</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>      <span class="keywordflow">if</span> (Dist &gt; LastPartDefDist) {</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>        LastPartDefDist = Dist;</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>        LastPartDef = <a class="code hl_typedef" href="namespacellvm_1_1rdf.html#a72a9383e8621141ce7a69b7d2ad5061c">Def</a>;</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>      }</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>    }</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code hl_class" href="classllvm_1_1Use.html">Use</a> = PhysRegUse[<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>]) {</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>      <span class="keywordflow">for</span> (<a class="code hl_class" href="classuint16__t.html">MCPhysReg</a> SS : TRI-&gt;<a class="code hl_function" href="classllvm_1_1MCRegisterInfo.html#a95656353b813a1dd7ddfa7d8445633a8">subregs_inclusive</a>(<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>))</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>        PartUses.<a class="code hl_function" href="classllvm_1_1SmallSet.html#afcadfef2cf37c3e6dbdbc9cd7bea50a0">insert</a>(SS);</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>      <span class="keywordtype">unsigned</span> Dist = DistanceMap[<a class="code hl_class" href="classllvm_1_1Use.html">Use</a>];</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>      <span class="keywordflow">if</span> (Dist &gt; LastRefOrPartRefDist) {</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>        LastRefOrPartRefDist = Dist;</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>        LastRefOrPartRef = <a class="code hl_class" href="classllvm_1_1Use.html">Use</a>;</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>      }</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>    }</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>  }</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span> </div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>  <span class="keywordflow">if</span> (!PhysRegUse[Reg]) {</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>    <span class="comment">// Partial uses. Mark register def dead and add implicit def of</span></div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>    <span class="comment">// sub-registers which are used.</span></div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>    <span class="comment">// dead EAX  = op  implicit-def AL</span></div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>    <span class="comment">// That is, EAX def is dead but AL def extends pass it.</span></div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>    PhysRegDef[<a class="code hl_enumeration" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>]-&gt;addRegisterDead(Reg, TRI, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>    <span class="keywordflow">for</span> (<a class="code hl_class" href="classuint16__t.html">MCPhysReg</a> <a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> : TRI-&gt;<a class="code hl_function" href="classllvm_1_1MCRegisterInfo.html#a9ded59d8266ccd2647bfd81722046beb">subregs</a>(Reg)) {</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>      <span class="keywordflow">if</span> (!PartUses.<a class="code hl_function" href="classllvm_1_1SmallSet.html#a2a98f19750ba941ce791b75ca6d77e48">count</a>(<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>))</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>      <span class="keywordtype">bool</span> NeedDef = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>      <span class="keywordflow">if</span> (PhysRegDef[Reg] == PhysRegDef[<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>]) {</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>        <a class="code hl_class" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *MO = PhysRegDef[<a class="code hl_enumeration" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>]-&gt;findRegisterDefOperand(<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>);</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>        <span class="keywordflow">if</span> (MO) {</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>          NeedDef = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>          <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!MO-&gt;<a class="code hl_function" href="classllvm_1_1MachineOperand.html#aaee820701392c55ad54235d3d7201206">isDead</a>());</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>        }</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>      }</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>      <span class="keywordflow">if</span> (NeedDef)</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>        PhysRegDef[<a class="code hl_enumeration" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>]-&gt;addOperand(<a class="code hl_function" href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>,</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>                                                 <span class="keyword">true</span><span class="comment">/*IsDef*/</span>, <span class="keyword">true</span><span class="comment">/*IsImp*/</span>));</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>      <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *LastSubRef = FindLastRefOrPartRef(<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>);</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>      <span class="keywordflow">if</span> (LastSubRef)</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>        LastSubRef-&gt;<a class="code hl_function" href="classllvm_1_1MachineInstr.html#ac78902263d351fd8540aeb449d9cb53f">addRegisterKilled</a>(<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>, TRI, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>        LastRefOrPartRef-&gt;<a class="code hl_function" href="classllvm_1_1MachineInstr.html#ac78902263d351fd8540aeb449d9cb53f">addRegisterKilled</a>(<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>, TRI, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>        <span class="keywordflow">for</span> (<a class="code hl_class" href="classuint16__t.html">MCPhysReg</a> SS : TRI-&gt;<a class="code hl_function" href="classllvm_1_1MCRegisterInfo.html#a95656353b813a1dd7ddfa7d8445633a8">subregs_inclusive</a>(<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>))</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>          PhysRegUse[<a class="code hl_enumvalue" href="namespacellvm_1_1X86AS.html#a26b5ff01809973e596758206e2b61680a1337cc82304bed6c1a811f1a7f308aca">SS</a>] = LastRefOrPartRef;</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>      }</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>      <span class="keywordflow">for</span> (<a class="code hl_class" href="classuint16__t.html">MCPhysReg</a> SS : TRI-&gt;<a class="code hl_function" href="classllvm_1_1MCRegisterInfo.html#a9ded59d8266ccd2647bfd81722046beb">subregs</a>(<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>))</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>        PartUses.<a class="code hl_function" href="classllvm_1_1SmallSet.html#a75a2d2ad3b3dce6702750d570ee8f343">erase</a>(SS);</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    }</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (LastRefOrPartRef == PhysRegDef[Reg] &amp;&amp; LastRefOrPartRef != <a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    <span class="keywordflow">if</span> (LastPartDef)</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>      <span class="comment">// The last partial def kills the register.</span></div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>      LastPartDef-&gt;<a class="code hl_function" href="classllvm_1_1MachineInstr.html#a469e271fba3a9b52dad4fa54eaf44e2b">addOperand</a>(<a class="code hl_function" href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">MachineOperand::CreateReg</a>(Reg, <span class="keyword">false</span><span class="comment">/*IsDef*/</span>,</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>                                                <span class="keyword">true</span><span class="comment">/*IsImp*/</span>, <span class="keyword">true</span><span class="comment">/*IsKill*/</span>));</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>      <a class="code hl_class" href="classllvm_1_1MachineOperand.html">MachineOperand</a> *MO =</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>        LastRefOrPartRef-&gt;<a class="code hl_function" href="classllvm_1_1MachineInstr.html#aef1372e88c419bac8c5681e49bf7cbe2">findRegisterDefOperand</a>(Reg, <span class="keyword">false</span>, <span class="keyword">false</span>, TRI);</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>      <span class="keywordtype">bool</span> NeedEC = MO-&gt;<a class="code hl_function" href="classllvm_1_1MachineOperand.html#abd6aa9da048ef7a4faeaac6484d5c9a6">isEarlyClobber</a>() &amp;&amp; MO-&gt;<a class="code hl_function" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() != <a class="code hl_enumeration" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>;</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>      <span class="comment">// If the last reference is the last def, then it&#39;s not used at all.</span></div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>      <span class="comment">// That is, unless we are currently processing the last reference itself.</span></div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>      LastRefOrPartRef-&gt;<a class="code hl_function" href="classllvm_1_1MachineInstr.html#afda2c0f22be043ae42b0ec71b661f565">addRegisterDead</a>(Reg, TRI, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>      <span class="keywordflow">if</span> (NeedEC) {</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>        <span class="comment">// If we are adding a subreg def and the superreg def is marked early</span></div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>        <span class="comment">// clobber, add an early clobber marker to the subreg def.</span></div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>        MO = LastRefOrPartRef-&gt;<a class="code hl_function" href="classllvm_1_1MachineInstr.html#aef1372e88c419bac8c5681e49bf7cbe2">findRegisterDefOperand</a>(Reg);</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>        <span class="keywordflow">if</span> (MO)</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>          MO-&gt;<a class="code hl_function" href="classllvm_1_1MachineOperand.html#a9fcb795c017b82c1a259882b060ddc06">setIsEarlyClobber</a>();</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>      }</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>    }</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>  } <span class="keywordflow">else</span></div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>    LastRefOrPartRef-&gt;<a class="code hl_function" href="classllvm_1_1MachineInstr.html#ac78902263d351fd8540aeb449d9cb53f">addRegisterKilled</a>(Reg, TRI, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>}</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span> </div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span><span class="keywordtype">void</span> LiveVariables::HandleRegMask(<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO, <span class="keywordtype">unsigned</span> NumRegs) {</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>  <span class="comment">// Call HandlePhysRegKill() for all live registers clobbered by Mask.</span></div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>  <span class="comment">// Clobbered registers are always dead, sp there is no need to use</span></div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>  <span class="comment">// HandlePhysRegDef().</span></div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Reg = 1; <a class="code hl_enumeration" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> != NumRegs; ++<a class="code hl_enumeration" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) {</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>    <span class="comment">// Skip dead regs.</span></div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>    <span class="keywordflow">if</span> (!PhysRegDef[Reg] &amp;&amp; !PhysRegUse[Reg])</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>    <span class="comment">// Skip mask-preserved regs.</span></div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>    <span class="keywordflow">if</span> (!MO.<a class="code hl_function" href="classllvm_1_1MachineOperand.html#ae4ecf5483b94e2bb72967b80cc2008d2">clobbersPhysReg</a>(Reg))</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>    <span class="comment">// Kill the largest clobbered super-register.</span></div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>    <span class="comment">// This avoids needless implicit operands.</span></div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>    <span class="keywordtype">unsigned</span> Super = <a class="code hl_enumeration" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>;</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>    <span class="keywordflow">for</span> (<a class="code hl_class" href="classuint16__t.html">MCPhysReg</a> SR : TRI-&gt;<a class="code hl_function" href="classllvm_1_1MCRegisterInfo.html#a5e72490b2e8a4c4f70e0aab62f0ea176">superregs</a>(Reg))</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>      <span class="keywordflow">if</span> (SR &lt; NumRegs &amp;&amp; (PhysRegDef[SR] || PhysRegUse[SR]) &amp;&amp;</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>          MO.<a class="code hl_function" href="classllvm_1_1MachineOperand.html#ae4ecf5483b94e2bb72967b80cc2008d2">clobbersPhysReg</a>(SR))</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>        Super = SR;</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>    HandlePhysRegKill(Super, <span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>  }</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>}</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span> </div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span><span class="keywordtype">void</span> LiveVariables::HandlePhysRegDef(<a class="code hl_class" href="classllvm_1_1Register.html">Register</a> Reg, <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>                                     <a class="code hl_class" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;unsigned&gt;</a> &amp;Defs) {</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>  <span class="comment">// What parts of the register are previously defined?</span></div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>  <a class="code hl_class" href="classllvm_1_1SmallSet.html">SmallSet&lt;unsigned, 32&gt;</a> <a class="code hl_variable" href="DeadArgumentElimination_8cpp.html#ab782e7853df58ea8e42350a3546fccc9">Live</a>;</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>  <span class="keywordflow">if</span> (PhysRegDef[Reg] || PhysRegUse[Reg]) {</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>    <span class="keywordflow">for</span> (<a class="code hl_class" href="classuint16__t.html">MCPhysReg</a> <a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> : TRI-&gt;<a class="code hl_function" href="classllvm_1_1MCRegisterInfo.html#a95656353b813a1dd7ddfa7d8445633a8">subregs_inclusive</a>(Reg))</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>      <a class="code hl_variable" href="DeadArgumentElimination_8cpp.html#ab782e7853df58ea8e42350a3546fccc9">Live</a>.insert(<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>);</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>    <span class="keywordflow">for</span> (<a class="code hl_class" href="classuint16__t.html">MCPhysReg</a> <a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> : TRI-&gt;<a class="code hl_function" href="classllvm_1_1MCRegisterInfo.html#a9ded59d8266ccd2647bfd81722046beb">subregs</a>(Reg)) {</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>      <span class="comment">// If a register isn&#39;t itself defined, but all parts that make up of it</span></div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>      <span class="comment">// are defined, then consider it also defined.</span></div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>      <span class="comment">// e.g.</span></div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>      <span class="comment">// AL =</span></div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>      <span class="comment">// AH =</span></div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>      <span class="comment">//    = AX</span></div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="DeadArgumentElimination_8cpp.html#ab782e7853df58ea8e42350a3546fccc9">Live</a>.count(<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>))</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>      <span class="keywordflow">if</span> (PhysRegDef[<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>] || PhysRegUse[<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>]) {</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>        <span class="keywordflow">for</span> (<a class="code hl_class" href="classuint16__t.html">MCPhysReg</a> SS : TRI-&gt;<a class="code hl_function" href="classllvm_1_1MCRegisterInfo.html#a95656353b813a1dd7ddfa7d8445633a8">subregs_inclusive</a>(<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>))</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>          <a class="code hl_variable" href="DeadArgumentElimination_8cpp.html#ab782e7853df58ea8e42350a3546fccc9">Live</a>.insert(SS);</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>      }</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>    }</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>  }</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span> </div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>  <span class="comment">// Start from the largest piece, find the last time any part of the register</span></div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>  <span class="comment">// is referenced.</span></div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>  HandlePhysRegKill(Reg, <a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>  <span class="comment">// Only some of the sub-registers are used.</span></div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classuint16__t.html">MCPhysReg</a> <a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> : TRI-&gt;<a class="code hl_function" href="classllvm_1_1MCRegisterInfo.html#a9ded59d8266ccd2647bfd81722046beb">subregs</a>(Reg)) {</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="DeadArgumentElimination_8cpp.html#ab782e7853df58ea8e42350a3546fccc9">Live</a>.count(<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>))</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>      <span class="comment">// Skip if this sub-register isn&#39;t defined.</span></div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>    HandlePhysRegKill(<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>, <a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>  }</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span> </div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>    Defs.<a class="code hl_function" href="classllvm_1_1SmallVectorTemplateBase.html#af42bfbc067df27c19ee2fc859df58799">push_back</a>(Reg);  <span class="comment">// Remember this def.</span></div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>}</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span> </div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span><span class="keywordtype">void</span> LiveVariables::UpdatePhysRegDefs(<a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>                                      <a class="code hl_class" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;unsigned&gt;</a> &amp;Defs) {</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>  <span class="keywordflow">while</span> (!Defs.<a class="code hl_function" href="classllvm_1_1SmallVectorBase.html#ad03233a7b0c4de57dcadc7529dad8d0b">empty</a>()) {</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>    <a class="code hl_class" href="classllvm_1_1Register.html">Register</a> <a class="code hl_enumeration" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = Defs.<a class="code hl_function" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>    <span class="keywordflow">for</span> (<a class="code hl_class" href="classuint16__t.html">MCPhysReg</a> <a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> : TRI-&gt;<a class="code hl_function" href="classllvm_1_1MCRegisterInfo.html#a95656353b813a1dd7ddfa7d8445633a8">subregs_inclusive</a>(Reg)) {</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>      PhysRegDef[<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>] = &amp;<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>      PhysRegUse[<a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>]  = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>    }</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>  }</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>}</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span> </div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span><span class="keywordtype">void</span> LiveVariables::runOnInstr(<a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>,</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>                               <a class="code hl_class" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;unsigned&gt;</a> &amp;Defs,</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>                               <span class="keywordtype">unsigned</span> NumRegs) {</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>  <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugOrPseudoInstr());</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>  <span class="comment">// Process all of the operands of the instruction...</span></div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>  <span class="keywordtype">unsigned</span> NumOperandsToProcess = <a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getNumOperands();</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span> </div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>  <span class="comment">// Unless it is a PHI node.  In this case, ONLY process the DEF, not any</span></div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>  <span class="comment">// of the uses.  They will be handled in other basic blocks.</span></div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isPHI())</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>    NumOperandsToProcess = 1;</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span> </div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>  <span class="comment">// Clear kill and dead markers. LV will recompute them.</span></div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>  <a class="code hl_class" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 4&gt;</a> UseRegs;</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>  <a class="code hl_class" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 4&gt;</a> DefRegs;</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>  <a class="code hl_class" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 1&gt;</a> RegMasks;</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i != NumOperandsToProcess; ++i) {</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>    <a class="code hl_class" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = <a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(i);</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>    <span class="keywordflow">if</span> (MO.<a class="code hl_function" href="classllvm_1_1MachineOperand.html#a55fdcb2a9df9a69067eed1bc17a0b927">isRegMask</a>()) {</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>      RegMasks.<a class="code hl_function" href="classllvm_1_1SmallVectorTemplateBase.html#af42bfbc067df27c19ee2fc859df58799">push_back</a>(i);</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>    }</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>    <span class="keywordflow">if</span> (!MO.<a class="code hl_function" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() || MO.<a class="code hl_function" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == 0)</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>    <a class="code hl_class" href="classllvm_1_1Register.html">Register</a> MOReg = MO.<a class="code hl_function" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>    <span class="keywordflow">if</span> (MO.<a class="code hl_function" href="classllvm_1_1MachineOperand.html#a69544ec8658eadeed98245dc37c3a541">isUse</a>()) {</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>      <span class="keywordflow">if</span> (!(MOReg.<a class="code hl_function" href="classllvm_1_1Register.html#affdbf5b92ed7e01352e2f39466efbe21">isPhysical</a>() &amp;&amp; MRI-&gt;<a class="code hl_function" href="classllvm_1_1MachineRegisterInfo.html#a53ca7cff9e929ba372da9780fdd44b02">isReserved</a>(MOReg)))</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>        MO.<a class="code hl_function" href="classllvm_1_1MachineOperand.html#a8a82683fccdef8a5ef772ef03277aee7">setIsKill</a>(<span class="keyword">false</span>);</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>      <span class="keywordflow">if</span> (MO.<a class="code hl_function" href="classllvm_1_1MachineOperand.html#a3be9857a09c82046b77a71918b5e214f">readsReg</a>())</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>        UseRegs.<a class="code hl_function" href="classllvm_1_1SmallVectorTemplateBase.html#af42bfbc067df27c19ee2fc859df58799">push_back</a>(MOReg);</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>      <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MO.<a class="code hl_function" href="classllvm_1_1MachineOperand.html#a75eb135014670ce946e78739cdc9b51b">isDef</a>());</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>      <span class="comment">// FIXME: We should not remove any dead flags. However the MIPS RDDSP</span></div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>      <span class="comment">// instruction needs it at the moment: http://llvm.org/PR27116.</span></div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>      <span class="keywordflow">if</span> (MOReg.<a class="code hl_function" href="classllvm_1_1Register.html#affdbf5b92ed7e01352e2f39466efbe21">isPhysical</a>() &amp;&amp; !MRI-&gt;<a class="code hl_function" href="classllvm_1_1MachineRegisterInfo.html#a53ca7cff9e929ba372da9780fdd44b02">isReserved</a>(MOReg))</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>        MO.<a class="code hl_function" href="classllvm_1_1MachineOperand.html#a61a42c85bd86c6ca4554e27d33c3f798">setIsDead</a>(<span class="keyword">false</span>);</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>      DefRegs.<a class="code hl_function" href="classllvm_1_1SmallVectorTemplateBase.html#af42bfbc067df27c19ee2fc859df58799">push_back</a>(MOReg);</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>    }</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>  }</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span> </div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>  <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = <a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent();</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>  <span class="comment">// Process all uses.</span></div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> MOReg : UseRegs) {</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classllvm_1_1Register.html#ac6bf744f357352cde7578931007c0b6f">Register::isVirtualRegister</a>(MOReg))</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>      <a class="code hl_function" href="classllvm_1_1LiveVariables.html#ac7e33b16879b183b0a9058363e2061de">HandleVirtRegUse</a>(MOReg, <a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!MRI-&gt;<a class="code hl_function" href="classllvm_1_1MachineRegisterInfo.html#a53ca7cff9e929ba372da9780fdd44b02">isReserved</a>(MOReg))</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>      HandlePhysRegUse(MOReg, <a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>  }</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span> </div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>  <span class="comment">// Process all masked registers. (Call clobbers).</span></div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Mask : RegMasks)</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>    HandleRegMask(<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOperand(Mask), NumRegs);</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span> </div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>  <span class="comment">// Process all defs.</span></div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> MOReg : DefRegs) {</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classllvm_1_1Register.html#ac6bf744f357352cde7578931007c0b6f">Register::isVirtualRegister</a>(MOReg))</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>      <a class="code hl_function" href="classllvm_1_1LiveVariables.html#a7339056d25e6a6d7d1525f2ac0d1fe69">HandleVirtRegDef</a>(MOReg, <a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!MRI-&gt;<a class="code hl_function" href="classllvm_1_1MachineRegisterInfo.html#a53ca7cff9e929ba372da9780fdd44b02">isReserved</a>(MOReg))</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>      HandlePhysRegDef(MOReg, &amp;<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Defs);</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>  }</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>  UpdatePhysRegDefs(<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Defs);</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>}</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span> </div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span><span class="keywordtype">void</span> LiveVariables::runOnBlock(<a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, <span class="keywordtype">unsigned</span> NumRegs) {</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>  <span class="comment">// Mark live-in registers as live-in.</span></div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>  <a class="code hl_class" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 4&gt;</a> Defs;</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;LI : <a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#a364ed6e68f92f797c0cd9e53ce5ea2a5">liveins</a>()) {</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>    <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code hl_function" href="classllvm_1_1Register.html#afacc26f29d80e10be4785a96ed6444dc">Register::isPhysicalRegister</a>(LI.PhysReg) &amp;&amp;</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>           <span class="stringliteral">&quot;Cannot have a live-in virtual register!&quot;</span>);</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>    HandlePhysRegDef(LI.PhysReg, <span class="keyword">nullptr</span>, Defs);</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>  }</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span> </div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>  <span class="comment">// Loop over all of the instructions, processing them.</span></div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>  DistanceMap.clear();</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>  <span class="keywordtype">unsigned</span> Dist = 0;</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : *<a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) {</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugOrPseudoInstr())</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>    DistanceMap.insert(std::make_pair(&amp;<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Dist++));</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span> </div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>    runOnInstr(<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, Defs, NumRegs);</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>  }</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span> </div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>  <span class="comment">// Handle any virtual assignments from PHI nodes which might be at the</span></div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>  <span class="comment">// bottom of this basic block.  We check all of our successor blocks to see</span></div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>  <span class="comment">// if they have PHI nodes, and if so, we simulate an assignment at the end</span></div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>  <span class="comment">// of the current block.</span></div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>  <span class="keywordflow">if</span> (!PHIVarInfo[<a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>()].empty()) {</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>    <a class="code hl_class" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;unsigned&gt;</a> &amp;VarInfoVec = PHIVarInfo[<a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>()];</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span> </div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : VarInfoVec)</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>      <span class="comment">// Mark it alive only in the block we are representing.</span></div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>      <a class="code hl_function" href="classllvm_1_1LiveVariables.html#a051cfe914c1c4eb2ceabb758d018a966">MarkVirtRegAliveInBlock</a>(<a class="code hl_function" href="classllvm_1_1LiveVariables.html#af73ca972d296b25a689a90fb5a0713f3">getVarInfo</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>), MRI-&gt;<a class="code hl_function" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)-&gt;<a class="code hl_function" href="classllvm_1_1MachineInstr.html#a1e855100f407ca4be098d0050be403b0">getParent</a>(),</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>                              <a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>  }</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span> </div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>  <span class="comment">// MachineCSE may CSE instructions which write to non-allocatable physical</span></div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>  <span class="comment">// registers across MBBs. Remember if any reserved register is liveout.</span></div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>  <a class="code hl_class" href="classllvm_1_1SmallSet.html">SmallSet&lt;unsigned, 4&gt;</a> LiveOuts;</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *SuccMBB : <a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#ad88ff1529541fb4e243cc8ed90b11131">successors</a>()) {</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>    <span class="keywordflow">if</span> (SuccMBB-&gt;isEHPad())</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;LI : SuccMBB-&gt;liveins()) {</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>      <span class="keywordflow">if</span> (!TRI-&gt;<a class="code hl_function" href="classllvm_1_1TargetRegisterInfo.html#af2f8f83c931fa084058914c65af13984">isInAllocatableClass</a>(LI.PhysReg))</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>        <span class="comment">// Ignore other live-ins, e.g. those that are live into landing pads.</span></div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>        LiveOuts.<a class="code hl_function" href="classllvm_1_1SmallSet.html#afcadfef2cf37c3e6dbdbc9cd7bea50a0">insert</a>(LI.PhysReg);</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>    }</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>  }</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span> </div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>  <span class="comment">// Loop over PhysRegDef / PhysRegUse, killing any registers that are</span></div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>  <span class="comment">// available at the end of the basic block.</span></div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i != NumRegs; ++i)</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>    <span class="keywordflow">if</span> ((PhysRegDef[i] || PhysRegUse[i]) &amp;&amp; !LiveOuts.<a class="code hl_function" href="classllvm_1_1SmallSet.html#a2a98f19750ba941ce791b75ca6d77e48">count</a>(i))</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>      HandlePhysRegDef(i, <span class="keyword">nullptr</span>, Defs);</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>}</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span> </div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveVariables.html#af437d1a6ab463853991046e661dea98e">  597</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classllvm_1_1LiveVariables.html#af437d1a6ab463853991046e661dea98e">LiveVariables::runOnMachineFunction</a>(<a class="code hl_class" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;mf) {</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>  MF = &amp;mf;</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>  MRI = &amp;mf.<a class="code hl_function" href="classllvm_1_1MachineFunction.html#a810234b6b3d223b7c74a4253fcc5ea5e">getRegInfo</a>();</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>  TRI = MF-&gt;<a class="code hl_function" href="classllvm_1_1MachineFunction.html#a3825368aca2bc1550d173660df4da6a6">getSubtarget</a>().<a class="code hl_function" href="classllvm_1_1TargetSubtargetInfo.html#a43c530c830206ecf5ad3359364634c75">getRegisterInfo</a>();</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span> </div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> NumRegs = TRI-&gt;<a class="code hl_function" href="classllvm_1_1TargetRegisterInfo.html#ab636ebc3e5dcb3ca34330098ceb39ecd">getNumSupportedRegs</a>(mf);</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>  PhysRegDef.assign(NumRegs, <span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>  PhysRegUse.assign(NumRegs, <span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>  PHIVarInfo.resize(MF-&gt;<a class="code hl_function" href="classllvm_1_1MachineFunction.html#aa22424ba23740b6a748e8d0c239b7e4c">getNumBlockIDs</a>());</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span> </div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>  <span class="comment">// FIXME: LiveIntervals will be updated to remove its dependence on</span></div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>  <span class="comment">// LiveVariables to improve compilation time and eliminate bizarre pass</span></div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>  <span class="comment">// dependencies. Until then, we can&#39;t change much in -O0.</span></div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>  <span class="keywordflow">if</span> (!MRI-&gt;<a class="code hl_function" href="classllvm_1_1MachineRegisterInfo.html#a86dd1b4ce6ff2d4a0b4593c5f7b2a3fd">isSSA</a>())</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>    <a class="code hl_function" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;regalloc=... not currently supported with -O0&quot;</span>);</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span> </div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>  analyzePHINodes(mf);</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span> </div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>  <span class="comment">// Calculate live variable information in depth first order on the CFG of the</span></div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>  <span class="comment">// function.  This guarantees that we will see the definition of a virtual</span></div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>  <span class="comment">// register before its uses due to dominance properties of SSA (except for PHI</span></div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>  <span class="comment">// nodes, which are treated as a special case).</span></div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>  <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *Entry = &amp;MF-&gt;<a class="code hl_function" href="classllvm_1_1MachineFunction.html#ac8ca28de0f4dcee651340e7ef0c45233">front</a>();</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>  <a class="code hl_struct" href="structllvm_1_1df__iterator__default__set.html">df_iterator_default_set&lt;MachineBasicBlock*,16&gt;</a> Visited;</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span> </div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : <a class="code hl_function" href="namespacellvm.html#a029feb493f45bc96d5369e201fd84e0c">depth_first_ext</a>(Entry, Visited)) {</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>    runOnBlock(<a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, NumRegs);</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span> </div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>    PhysRegDef.assign(NumRegs, <span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>    PhysRegUse.assign(NumRegs, <span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>  }</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span> </div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>  <span class="comment">// Convert and transfer the dead / killed information we have gathered into</span></div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>  <span class="comment">// VirtRegInfo onto MI&#39;s.</span></div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e1 = <a class="code hl_struct" href="structllvm_1_1VirtRegInfo.html">VirtRegInfo</a>.size(); i != e1; ++i) {</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>    <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1Register.html">Register</a> Reg = <a class="code hl_function" href="classllvm_1_1Register.html#a1979c563289f871907832e419889f979">Register::index2VirtReg</a>(i);</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> j = 0, e2 = <a class="code hl_struct" href="structllvm_1_1VirtRegInfo.html">VirtRegInfo</a>[Reg].Kills.size(); j != e2; ++j)</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>      <span class="keywordflow">if</span> (<a class="code hl_struct" href="structllvm_1_1VirtRegInfo.html">VirtRegInfo</a>[Reg].Kills[j] == MRI-&gt;<a class="code hl_function" href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">getVRegDef</a>(Reg))</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>        <a class="code hl_struct" href="structllvm_1_1VirtRegInfo.html">VirtRegInfo</a>[Reg].Kills[j]-&gt;addRegisterDead(Reg, TRI);</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>      <span class="keywordflow">else</span></div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>        <a class="code hl_struct" href="structllvm_1_1VirtRegInfo.html">VirtRegInfo</a>[Reg].Kills[j]-&gt;addRegisterKilled(Reg, TRI);</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>  }</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span> </div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>  <span class="comment">// Check to make sure there are no unreachable blocks in the MC CFG for the</span></div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>  <span class="comment">// function.  If so, it is due to a bug in the instruction selector or some</span></div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>  <span class="comment">// other part of the code generator if this happens.</span></div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span><span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : *MF)</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>    <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Visited.<a class="code hl_function" href="classllvm_1_1SmallPtrSetImpl.html#af74676a3c7447be34bd2c1da76ec0c48">contains</a>(&amp;<a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) &amp;&amp; <span class="stringliteral">&quot;unreachable basic block found&quot;</span>);</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span> </div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>  PhysRegDef.clear();</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>  PhysRegUse.clear();</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>  PHIVarInfo.clear();</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span> </div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>}</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span> </div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveVariables.html#a9e0695dc8fb597f66ca702309da941f7">  655</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classllvm_1_1LiveVariables.html#a9e0695dc8fb597f66ca702309da941f7">LiveVariables::recomputeForSingleDefVirtReg</a>(<a class="code hl_class" href="classllvm_1_1Register.html">Register</a> Reg) {</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>  <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Reg.isVirtual());</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span> </div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>  <a class="code hl_struct" href="structllvm_1_1LiveVariables_1_1VarInfo.html">VarInfo</a> &amp;VI = <a class="code hl_function" href="classllvm_1_1LiveVariables.html#af73ca972d296b25a689a90fb5a0713f3">getVarInfo</a>(Reg);</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>  VI.AliveBlocks.clear();</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>  VI.Kills.clear();</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span> </div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>  <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code hl_variable" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a> = *MRI-&gt;<a class="code hl_function" href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">getUniqueVRegDef</a>(Reg);</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>  <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;DefBB = *<a class="code hl_variable" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.getParent();</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span> </div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>  <span class="comment">// Initialize a worklist of BBs that Reg is live-to-end of. (Here</span></div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>  <span class="comment">// &quot;live-to-end&quot; means Reg is live at the end of a block even if it is only</span></div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>  <span class="comment">// live because of phi uses in a successor. This is different from isLiveOut()</span></div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>  <span class="comment">// which does not consider phi uses.)</span></div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>  <a class="code hl_class" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineBasicBlock *&gt;</a> LiveToEndBlocks;</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>  <a class="code hl_class" href="classllvm_1_1SparseBitVector.html">SparseBitVector&lt;&gt;</a> UseBlocks;</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>  <span class="keywordtype">unsigned</span> NumRealUses = 0;</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;UseMO : MRI-&gt;<a class="code hl_function" href="classllvm_1_1MachineRegisterInfo.html#a4361906d7698e8b1a912f6affc8e9151">use_nodbg_operands</a>(Reg)) {</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>    UseMO.setIsKill(<span class="keyword">false</span>);</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>    <span class="keywordflow">if</span> (!UseMO.readsReg())</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>    ++NumRealUses;</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>    <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code hl_variable" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a> = *UseMO.getParent();</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>    <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;UseBB = *<a class="code hl_variable" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getParent();</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>    UseBlocks.<a class="code hl_function" href="classllvm_1_1SparseBitVector.html#a613c1e44c4e88e9a1e0be386cb5fa828">set</a>(UseBB.<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>());</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.isPHI()) {</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>      <span class="comment">// If Reg is used in a phi then it is live-to-end of the corresponding</span></div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>      <span class="comment">// predecessor.</span></div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>      <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="DeadArgumentElimination_8cpp.html#a39a491a969849f634027f20be70a5c57">Idx</a> = UseMO.getOperandNo();</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>      LiveToEndBlocks.<a class="code hl_function" href="classllvm_1_1SmallVectorTemplateBase.html#af42bfbc067df27c19ee2fc859df58799">push_back</a>(<a class="code hl_variable" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.getOperand(<a class="code hl_variable" href="DeadArgumentElimination_8cpp.html#a39a491a969849f634027f20be70a5c57">Idx</a> + 1).getMBB());</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (&amp;UseBB == &amp;DefBB) {</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>      <span class="comment">// A non-phi use in the same BB as the single def must come after the def.</span></div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>      <span class="comment">// Otherwise Reg must be live-to-end of all predecessors.</span></div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>      LiveToEndBlocks.<a class="code hl_function" href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">append</a>(UseBB.<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#ab644fcf07a4c2708333cf66276282357">pred_begin</a>(), UseBB.<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#a0359a738e0412c5a7ea55d61175e0661">pred_end</a>());</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>    }</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>  }</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span> </div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>  <span class="comment">// Handle the case where all uses have been removed.</span></div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>  <span class="keywordflow">if</span> (NumRealUses == 0) {</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>    VI.Kills.push_back(&amp;<a class="code hl_variable" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>);</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>    <a class="code hl_variable" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.addRegisterDead(Reg, <span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>  }</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>  <a class="code hl_variable" href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a>.clearRegisterDeads(Reg);</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span> </div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>  <span class="comment">// Iterate over the worklist adding blocks to AliveBlocks.</span></div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>  <span class="keywordtype">bool</span> LiveToEndOfDefBB = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>  <span class="keywordflow">while</span> (!LiveToEndBlocks.<a class="code hl_function" href="classllvm_1_1SmallVectorBase.html#ad03233a7b0c4de57dcadc7529dad8d0b">empty</a>()) {</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>    <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;BB = *LiveToEndBlocks.<a class="code hl_function" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>    <span class="keywordflow">if</span> (&amp;BB == &amp;DefBB) {</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>      LiveToEndOfDefBB = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>    }</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>    <span class="keywordflow">if</span> (VI.AliveBlocks.test(BB.<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>()))</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>    VI.AliveBlocks.set(BB.<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>());</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>    LiveToEndBlocks.<a class="code hl_function" href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">append</a>(BB.<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#ab644fcf07a4c2708333cf66276282357">pred_begin</a>(), BB.<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#a0359a738e0412c5a7ea55d61175e0661">pred_end</a>());</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>  }</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span> </div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>  <span class="comment">// Recompute kill flags. For each block in which Reg is used but is not</span></div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>  <span class="comment">// live-through, find the last instruction that uses Reg. Ignore phi nodes</span></div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>  <span class="comment">// because they should not be included in Kills.</span></div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> UseBBNum : UseBlocks) {</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>    <span class="keywordflow">if</span> (VI.AliveBlocks.test(UseBBNum))</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>    <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;UseBB = *MF-&gt;<a class="code hl_function" href="classllvm_1_1MachineFunction.html#a81e8ccd82f750cdfb7488a3197401f7e">getBlockNumbered</a>(UseBBNum);</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>    <span class="keywordflow">if</span> (&amp;UseBB == &amp;DefBB &amp;&amp; LiveToEndOfDefBB)</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : <a class="code hl_function" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">reverse</a>(UseBB)) {</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugOrPseudoInstr())</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isPHI())</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.readsVirtualRegister(Reg)) {</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>        <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.killsRegister(Reg));</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>        <a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.addRegisterKilled(Reg, <span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>        VI.Kills.push_back(&amp;<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>      }</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>    }</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>  }</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>}</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span><span class="comment"></span> </div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span><span class="comment">/// replaceKillInstruction - Update register kill info by replacing a kill</span></div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span><span class="comment">/// instruction with a new one.</span></div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveVariables.html#a007ef08997c0b0391aaebc27e257062c">  741</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classllvm_1_1LiveVariables.html#a007ef08997c0b0391aaebc27e257062c">LiveVariables::replaceKillInstruction</a>(<a class="code hl_class" href="classllvm_1_1Register.html">Register</a> Reg, <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;OldMI,</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>                                           <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;NewMI) {</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>  <a class="code hl_struct" href="structllvm_1_1LiveVariables_1_1VarInfo.html">VarInfo</a> &amp;VI = <a class="code hl_function" href="classllvm_1_1LiveVariables.html#af73ca972d296b25a689a90fb5a0713f3">getVarInfo</a>(Reg);</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>  std::replace(VI.Kills.begin(), VI.Kills.end(), &amp;OldMI, &amp;NewMI);</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>}</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span><span class="comment"></span> </div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span><span class="comment">/// removeVirtualRegistersKilled - Remove all killed info for the specified</span></div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span><span class="comment">/// instruction.</span></div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveVariables.html#a536d28604beba413c49c1f731df008a7">  749</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classllvm_1_1LiveVariables.html#a536d28604beba413c49c1f731df008a7">LiveVariables::removeVirtualRegistersKilled</a>(<a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : <a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.operands()) {</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>    <span class="keywordflow">if</span> (MO.<a class="code hl_function" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; MO.<a class="code hl_function" href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">isKill</a>()) {</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>      MO.<a class="code hl_function" href="classllvm_1_1MachineOperand.html#a8a82683fccdef8a5ef772ef03277aee7">setIsKill</a>(<span class="keyword">false</span>);</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>      <a class="code hl_class" href="classllvm_1_1Register.html">Register</a> Reg = MO.<a class="code hl_function" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>      <span class="keywordflow">if</span> (Reg.isVirtual()) {</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>        <span class="keywordtype">bool</span> removed = <a class="code hl_function" href="classllvm_1_1LiveVariables.html#af73ca972d296b25a689a90fb5a0713f3">getVarInfo</a>(Reg).<a class="code hl_function" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a1e808b535590177bb00545b77a324288">removeKill</a>(<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>        <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(removed &amp;&amp; <span class="stringliteral">&quot;kill not in register&#39;s VarInfo?&quot;</span>);</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>        (void)removed;</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>      }</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>    }</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>  }</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>}</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span><span class="comment"></span> </div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span><span class="comment">/// analyzePHINodes - Gather information about the PHI nodes in here. In</span></div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span><span class="comment">/// particular, we want to map the variable information of a virtual register</span></div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span><span class="comment">/// which is used in a PHI node. We map that to the BB the vreg is coming from.</span></div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span><span class="comment">///</span></div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span><span class="comment"></span><span class="keywordtype">void</span> LiveVariables::analyzePHINodes(<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1MachineFunction.html">MachineFunction</a>&amp; Fn) {</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : Fn)</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;BBI : <a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) {</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>      <span class="keywordflow">if</span> (!BBI.isPHI())</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 1, e = BBI.getNumOperands(); i != e; i += 2)</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>        <span class="keywordflow">if</span> (BBI.getOperand(i).readsReg())</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>          PHIVarInfo[BBI.getOperand(i + 1).getMBB()-&gt;getNumber()]</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>            .push_back(BBI.getOperand(i).getReg());</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>    }</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>}</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span> </div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno"><a class="line" href="structllvm_1_1LiveVariables_1_1VarInfo.html#ade24291007dd6f2b3c90c4323499d7eb">  779</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="structllvm_1_1LiveVariables_1_1VarInfo.html#ade24291007dd6f2b3c90c4323499d7eb">LiveVariables::VarInfo::isLiveIn</a>(<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>                                      <a class="code hl_class" href="classllvm_1_1Register.html">Register</a> Reg, <a class="code hl_class" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;MRI) {</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>  <span class="keywordtype">unsigned</span> Num = <a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>();</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span> </div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>  <span class="comment">// Reg is live-through.</span></div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>  <span class="keywordflow">if</span> (AliveBlocks.test(Num))</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span> </div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>  <span class="comment">// Registers defined in MBB cannot be live in.</span></div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>  <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Def = <a class="code hl_variable" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.getVRegDef(Reg);</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>  <span class="keywordflow">if</span> (Def &amp;&amp; Def-&gt;getParent() == &amp;<a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>)</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span> </div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span> <span class="comment">// Reg was not defined in MBB, was it killed here?</span></div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>  <span class="keywordflow">return</span> findKill(&amp;<a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>}</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span> </div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveVariables.html#a72d2c1d51163472e4b2a332a954203e8">  796</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classllvm_1_1LiveVariables.html#a72d2c1d51163472e4b2a332a954203e8">LiveVariables::isLiveOut</a>(<a class="code hl_class" href="classllvm_1_1Register.html">Register</a> Reg, <span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) {</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>  <a class="code hl_struct" href="structllvm_1_1LiveVariables_1_1VarInfo.html">LiveVariables::VarInfo</a> &amp;VI = <a class="code hl_function" href="classllvm_1_1LiveVariables.html#af73ca972d296b25a689a90fb5a0713f3">getVarInfo</a>(Reg);</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span> </div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>  <a class="code hl_class" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const MachineBasicBlock *, 8&gt;</a> Kills;</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : VI.Kills)</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>    Kills.<a class="code hl_function" href="classllvm_1_1SmallPtrSetImpl.html#a9d834ae3da8c62c2b668dada51335eb0">insert</a>(<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getParent());</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span> </div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>  <span class="comment">// Loop over all of the successors of the basic block, checking to see if</span></div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>  <span class="comment">// the value is either live in the block, or if it is killed in the block.</span></div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *SuccMBB : <a class="code hl_variable" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#ad88ff1529541fb4e243cc8ed90b11131">successors</a>()) {</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>    <span class="comment">// Is it alive in this successor?</span></div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>    <span class="keywordtype">unsigned</span> SuccIdx = SuccMBB-&gt;getNumber();</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>    <span class="keywordflow">if</span> (VI.AliveBlocks.test(SuccIdx))</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>    <span class="comment">// Or is it live because there is a use in a successor that kills it?</span></div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>    <span class="keywordflow">if</span> (Kills.<a class="code hl_function" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(SuccMBB))</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>  }</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span> </div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>}</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span><span class="comment"></span> </div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span><span class="comment">/// addNewBlock - Add a new basic block BB as an empty succcessor to DomBB. All</span></div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span><span class="comment">/// variables that are live out of DomBB will be marked as passing live through</span></div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span><span class="comment">/// BB.</span></div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveVariables.html#afbcff91139fc89e3e8c0dda857e7b128">  821</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classllvm_1_1LiveVariables.html#afbcff91139fc89e3e8c0dda857e7b128">LiveVariables::addNewBlock</a>(<a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *BB,</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>                                <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *DomBB,</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>                                <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *SuccBB) {</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> NumNew = BB-&gt;<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>();</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span> </div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>  <a class="code hl_class" href="classllvm_1_1DenseSet.html">DenseSet&lt;unsigned&gt;</a> Defs, Kills;</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span> </div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>  <a class="code hl_class" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> BBI = SuccBB-&gt;<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(), BBE = SuccBB-&gt;<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>  <span class="keywordflow">for</span> (; BBI != BBE &amp;&amp; BBI-&gt;isPHI(); ++BBI) {</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>    <span class="comment">// Record the def of the PHI node.</span></div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>    Defs.<a class="code hl_function" href="classllvm_1_1detail_1_1DenseSetImpl.html#a1b0f3ebdced8fce4b22c6a63b25d9525">insert</a>(BBI-&gt;getOperand(0).getReg());</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span> </div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>    <span class="comment">// All registers used by PHI nodes in SuccBB must be live through BB.</span></div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 1, e = BBI-&gt;getNumOperands(); i != e; i += 2)</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>      <span class="keywordflow">if</span> (BBI-&gt;getOperand(i+1).getMBB() == BB)</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>        <a class="code hl_function" href="classllvm_1_1LiveVariables.html#af73ca972d296b25a689a90fb5a0713f3">getVarInfo</a>(BBI-&gt;getOperand(i).getReg()).<a class="code hl_variable" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a76321b20db4feab750d85c2329cfcbc6">AliveBlocks</a>.<a class="code hl_function" href="classllvm_1_1SparseBitVector.html#a613c1e44c4e88e9a1e0be386cb5fa828">set</a>(NumNew);</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>  }</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span> </div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>  <span class="comment">// Record all vreg defs and kills of all instructions in SuccBB.</span></div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>  <span class="keywordflow">for</span> (; BBI != BBE; ++BBI) {</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;<a class="code hl_class" href="classllvm_1_1DWARFExpression_1_1Operation.html">Op</a> : BBI-&gt;operands()) {</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>      <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1DWARFExpression_1_1Operation.html">Op</a>.isReg() &amp;&amp; <a class="code hl_class" href="classllvm_1_1DWARFExpression_1_1Operation.html">Op</a>.getReg().isVirtual()) {</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1DWARFExpression_1_1Operation.html">Op</a>.isDef())</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>          Defs.<a class="code hl_function" href="classllvm_1_1detail_1_1DenseSetImpl.html#a1b0f3ebdced8fce4b22c6a63b25d9525">insert</a>(<a class="code hl_class" href="classllvm_1_1DWARFExpression_1_1Operation.html">Op</a>.getReg());</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1DWARFExpression_1_1Operation.html">Op</a>.isKill())</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>          Kills.<a class="code hl_function" href="classllvm_1_1detail_1_1DenseSetImpl.html#a1b0f3ebdced8fce4b22c6a63b25d9525">insert</a>(<a class="code hl_class" href="classllvm_1_1DWARFExpression_1_1Operation.html">Op</a>.getReg());</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>      }</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>    }</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>  }</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span> </div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>  <span class="comment">// Update info for all live variables</span></div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = MRI-&gt;<a class="code hl_function" href="classllvm_1_1MachineRegisterInfo.html#ae73582bbbc71758dcac70cd8c56210e4">getNumVirtRegs</a>(); i != e; ++i) {</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>    <a class="code hl_class" href="classllvm_1_1Register.html">Register</a> Reg = <a class="code hl_function" href="classllvm_1_1Register.html#a1979c563289f871907832e419889f979">Register::index2VirtReg</a>(i);</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span> </div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>    <span class="comment">// If the Defs is defined in the successor it can&#39;t be live in BB.</span></div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>    <span class="keywordflow">if</span> (Defs.<a class="code hl_function" href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">count</a>(Reg))</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span> </div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>    <span class="comment">// If the register is either killed in or live through SuccBB it&#39;s also live</span></div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>    <span class="comment">// through BB.</span></div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>    <a class="code hl_struct" href="structllvm_1_1LiveVariables_1_1VarInfo.html">VarInfo</a> &amp;VI = <a class="code hl_function" href="classllvm_1_1LiveVariables.html#af73ca972d296b25a689a90fb5a0713f3">getVarInfo</a>(Reg);</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>    <span class="keywordflow">if</span> (Kills.<a class="code hl_function" href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">count</a>(Reg) || VI.AliveBlocks.test(SuccBB-&gt;<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>()))</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>      VI.AliveBlocks.set(NumNew);</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>  }</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>}</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span><span class="comment"></span> </div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span><span class="comment">/// addNewBlock - Add a new basic block BB as an empty succcessor to DomBB. All</span></div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span><span class="comment">/// variables that are live out of DomBB will be marked as passing live through</span></div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span><span class="comment">/// BB. LiveInSets[BB] is *not* updated (because it is not needed during</span></div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span><span class="comment">/// PHIElimination).</span></div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveVariables.html#afc347ae9e7fcba69b04162d7b4a73635">  871</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classllvm_1_1LiveVariables.html#afbcff91139fc89e3e8c0dda857e7b128">LiveVariables::addNewBlock</a>(<a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *BB,</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>                                <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *DomBB,</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>                                <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *SuccBB,</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>                                std::vector&lt;<a class="code hl_class" href="classllvm_1_1SparseBitVector.html">SparseBitVector&lt;&gt;</a>&gt; &amp;LiveInSets) {</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> NumNew = BB-&gt;<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>();</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span> </div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>  <a class="code hl_class" href="classllvm_1_1SparseBitVector.html">SparseBitVector&lt;&gt;</a> &amp;BV = LiveInSets[SuccBB-&gt;<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>()];</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> R : BV) {</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>    <a class="code hl_class" href="classllvm_1_1Register.html">Register</a> VirtReg = <a class="code hl_function" href="classllvm_1_1Register.html#a1979c563289f871907832e419889f979">Register::index2VirtReg</a>(R);</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>    <a class="code hl_struct" href="structllvm_1_1LiveVariables_1_1VarInfo.html">LiveVariables::VarInfo</a> &amp;VI = <a class="code hl_function" href="classllvm_1_1LiveVariables.html#af73ca972d296b25a689a90fb5a0713f3">getVarInfo</a>(VirtReg);</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>    VI.AliveBlocks.set(NumNew);</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>  }</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>  <span class="comment">// All registers used by PHI nodes in SuccBB must be live through BB.</span></div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> BBI = SuccBB-&gt;<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(),</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>         BBE = SuccBB-&gt;<a class="code hl_function" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>       BBI != BBE &amp;&amp; BBI-&gt;isPHI(); ++BBI) {</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 1, e = BBI-&gt;getNumOperands(); i != e; i += 2)</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>      <span class="keywordflow">if</span> (BBI-&gt;getOperand(i + 1).getMBB() == BB &amp;&amp;</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>          BBI-&gt;getOperand(i).readsReg())</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>        <a class="code hl_function" href="classllvm_1_1LiveVariables.html#af73ca972d296b25a689a90fb5a0713f3">getVarInfo</a>(BBI-&gt;getOperand(i).getReg())</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>          .<a class="code hl_variable" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a76321b20db4feab750d85c2329cfcbc6">AliveBlocks</a>.<a class="code hl_function" href="classllvm_1_1SparseBitVector.html#a613c1e44c4e88e9a1e0be386cb5fa828">set</a>(NumNew);</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>  }</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>}</div>
<div class="ttc" id="aAArch64AdvSIMDScalarPass_8cpp_html_a92a6b0a9b7228d190b0a7d8ae3ef03c7"><div class="ttname"><a href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a></div><div class="ttdeci">unsigned SubReg</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00104">AArch64AdvSIMDScalarPass.cpp:104</a></div></div>
<div class="ttc" id="aAArch64AdvSIMDScalarPass_8cpp_html_aacd2ab195054a3e6a74bfbb9d5d571c8"><div class="ttname"><a href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a></div><div class="ttdeci">unsigned const MachineRegisterInfo * MRI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00105">AArch64AdvSIMDScalarPass.cpp:105</a></div></div>
<div class="ttc" id="aAArch64ExpandPseudoInsts_8cpp_html_a6cf2f8996b1e9aaf2d7a435aaa62382f"><div class="ttname"><a href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a></div><div class="ttdeci">MachineInstrBuilder &amp; UseMI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64ExpandPseudoInsts_8cpp_source.html#l00110">AArch64ExpandPseudoInsts.cpp:110</a></div></div>
<div class="ttc" id="aAArch64ExpandPseudoInsts_8cpp_html_ad3ece0ac2421637044624c9b01c42466"><div class="ttname"><a href="AArch64ExpandPseudoInsts_8cpp.html#ad3ece0ac2421637044624c9b01c42466">DefMI</a></div><div class="ttdeci">MachineInstrBuilder MachineInstrBuilder &amp; DefMI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64ExpandPseudoInsts_8cpp_source.html#l00111">AArch64ExpandPseudoInsts.cpp:111</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_a5958512eae2979bd2eb383977996a600"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a></div><div class="ttdeci">MachineBasicBlock &amp; MBB</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00072">AArch64SLSHardening.cpp:72</a></div></div>
<div class="ttc" id="aCodeGen_2Passes_8h_html"><div class="ttname"><a href="CodeGen_2Passes_8h.html">Passes.h</a></div></div>
<div class="ttc" id="aCompiler_8h_html_aa863693eef567397d9c292da5bf22d34"><div class="ttname"><a href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a></div><div class="ttdeci">#define LLVM_DUMP_METHOD</div><div class="ttdoc">Mark debug helper function definitions like dump() that should not be stripped from debug builds.</div><div class="ttdef"><b>Definition:</b> <a href="Compiler_8h_source.html#l00529">Compiler.h:529</a></div></div>
<div class="ttc" id="aDeadArgumentElimination_8cpp_html_a39a491a969849f634027f20be70a5c57"><div class="ttname"><a href="DeadArgumentElimination_8cpp.html#a39a491a969849f634027f20be70a5c57">Idx</a></div><div class="ttdeci">Returns the sub type a function will return at a given Idx Should correspond to the result type of an ExtractValue instruction executed with just that one unsigned Idx</div><div class="ttdef"><b>Definition:</b> <a href="DeadArgumentElimination_8cpp_source.html#l00354">DeadArgumentElimination.cpp:354</a></div></div>
<div class="ttc" id="aDeadArgumentElimination_8cpp_html_ab782e7853df58ea8e42350a3546fccc9"><div class="ttname"><a href="DeadArgumentElimination_8cpp.html#ab782e7853df58ea8e42350a3546fccc9">Live</a></div><div class="ttdeci">Looks at all the uses of the given value Returns the Liveness deduced from the uses of this value Adds all uses that cause the result to be MaybeLive to MaybeLiveRetUses If the result is Live</div><div class="ttdef"><b>Definition:</b> <a href="DeadArgumentElimination_8cpp_source.html#l00473">DeadArgumentElimination.cpp:473</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aDenseSet_8h_html"><div class="ttname"><a href="DenseSet_8h.html">DenseSet.h</a></div><div class="ttdoc">This file defines the DenseSet and SmallDenseSet classes.</div></div>
<div class="ttc" id="aDepthFirstIterator_8h_html"><div class="ttname"><a href="DepthFirstIterator_8h.html">DepthFirstIterator.h</a></div><div class="ttdoc">This file builds on the ADT/GraphTraits.h file to build generic depth first graph iterator.</div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00112">IRTranslator.cpp:112</a></div></div>
<div class="ttc" id="aLiveVariables_8cpp_html_a1c1026418988cb4fbcd5df72bb6a50b5"><div class="ttname"><a href="LiveVariables_8cpp.html#a1c1026418988cb4fbcd5df72bb6a50b5">Analysis</a></div><div class="ttdeci">Live Variable Analysis</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8cpp_source.html#l00050">LiveVariables.cpp:50</a></div></div>
<div class="ttc" id="aLiveVariables_8cpp_html_a5bcde61f356a5d1dd5eed019a43749b6"><div class="ttname"><a href="LiveVariables_8cpp.html#a5bcde61f356a5d1dd5eed019a43749b6">livevars</a></div><div class="ttdeci">livevars</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8cpp_source.html#l00049">LiveVariables.cpp:49</a></div></div>
<div class="ttc" id="aLiveVariables_8h_html"><div class="ttname"><a href="LiveVariables_8h.html">LiveVariables.h</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aMachineInstr_8h_html"><div class="ttname"><a href="MachineInstr_8h.html">MachineInstr.h</a></div></div>
<div class="ttc" id="aMachineRegisterInfo_8h_html"><div class="ttname"><a href="MachineRegisterInfo_8h.html">MachineRegisterInfo.h</a></div></div>
<div class="ttc" id="aPassSupport_8h_html_a14724f1ccf528e73bb29bc9230737967"><div class="ttname"><a href="PassSupport_8h.html#a14724f1ccf528e73bb29bc9230737967">INITIALIZE_PASS_DEPENDENCY</a></div><div class="ttdeci">#define INITIALIZE_PASS_DEPENDENCY(depName)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00055">PassSupport.h:55</a></div></div>
<div class="ttc" id="aPassSupport_8h_html_a74ce8276b89067e806f67c45a6d92575"><div class="ttname"><a href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a></div><div class="ttdeci">#define INITIALIZE_PASS_END(passName, arg, name, cfg, analysis)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00059">PassSupport.h:59</a></div></div>
<div class="ttc" id="aPassSupport_8h_html_aaa970fc931c1c63037a8182e028d04b1"><div class="ttname"><a href="PassSupport_8h.html#aaa970fc931c1c63037a8182e028d04b1">INITIALIZE_PASS_BEGIN</a></div><div class="ttdeci">#define INITIALIZE_PASS_BEGIN(passName, arg, name, cfg, analysis)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00052">PassSupport.h:52</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aSTLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div><div class="ttdoc">This file contains some templates that are useful if you are working with the STL at all.</div></div>
<div class="ttc" id="aSmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div><div class="ttdoc">This file defines the SmallPtrSet class.</div></div>
<div class="ttc" id="aSmallSet_8h_html"><div class="ttname"><a href="SmallSet_8h.html">SmallSet.h</a></div><div class="ttdoc">This file defines the SmallSet class.</div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdoc">Represent the analysis usage information of a pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00047">PassAnalysisSupport.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1DWARFExpression_1_1Operation_html"><div class="ttname"><a href="classllvm_1_1DWARFExpression_1_1Operation.html">llvm::DWARFExpression::Operation</a></div><div class="ttdoc">This class represents an Operation in the Expression.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFExpression_8h_source.html#l00032">DWARFExpression.h:32</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseSet_html"><div class="ttname"><a href="classllvm_1_1DenseSet.html">llvm::DenseSet</a></div><div class="ttdoc">Implements a dense probed hash-table based set.</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00268">DenseSet.h:271</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveVariables_html"><div class="ttname"><a href="classllvm_1_1LiveVariables.html">llvm::LiveVariables</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8h_source.html#l00047">LiveVariables.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveVariables_html_a007ef08997c0b0391aaebc27e257062c"><div class="ttname"><a href="classllvm_1_1LiveVariables.html#a007ef08997c0b0391aaebc27e257062c">llvm::LiveVariables::replaceKillInstruction</a></div><div class="ttdeci">void replaceKillInstruction(Register Reg, MachineInstr &amp;OldMI, MachineInstr &amp;NewMI)</div><div class="ttdoc">replaceKillInstruction - Update register kill info by replacing a kill instruction with a new one.</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8cpp_source.html#l00741">LiveVariables.cpp:741</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveVariables_html_a051cfe914c1c4eb2ceabb758d018a966"><div class="ttname"><a href="classllvm_1_1LiveVariables.html#a051cfe914c1c4eb2ceabb758d018a966">llvm::LiveVariables::MarkVirtRegAliveInBlock</a></div><div class="ttdeci">void MarkVirtRegAliveInBlock(VarInfo &amp;VRInfo, MachineBasicBlock *DefBlock, MachineBasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8cpp_source.html#l00115">LiveVariables.cpp:115</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveVariables_html_a42e1e6f4c393e0339a1583d20eb06b42"><div class="ttname"><a href="classllvm_1_1LiveVariables.html#a42e1e6f4c393e0339a1583d20eb06b42">llvm::LiveVariables::ID</a></div><div class="ttdeci">static char ID</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8h_source.html#l00049">LiveVariables.h:49</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveVariables_html_a536d28604beba413c49c1f731df008a7"><div class="ttname"><a href="classllvm_1_1LiveVariables.html#a536d28604beba413c49c1f731df008a7">llvm::LiveVariables::removeVirtualRegistersKilled</a></div><div class="ttdeci">void removeVirtualRegistersKilled(MachineInstr &amp;MI)</div><div class="ttdoc">removeVirtualRegistersKilled - Remove all killed info for the specified instruction.</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8cpp_source.html#l00749">LiveVariables.cpp:749</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveVariables_html_a72d2c1d51163472e4b2a332a954203e8"><div class="ttname"><a href="classllvm_1_1LiveVariables.html#a72d2c1d51163472e4b2a332a954203e8">llvm::LiveVariables::isLiveOut</a></div><div class="ttdeci">bool isLiveOut(Register Reg, const MachineBasicBlock &amp;MBB)</div><div class="ttdoc">isLiveOut - Determine if Reg is live out from MBB, when not considering PHI nodes.</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8cpp_source.html#l00796">LiveVariables.cpp:796</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveVariables_html_a7339056d25e6a6d7d1525f2ac0d1fe69"><div class="ttname"><a href="classllvm_1_1LiveVariables.html#a7339056d25e6a6d7d1525f2ac0d1fe69">llvm::LiveVariables::HandleVirtRegDef</a></div><div class="ttdeci">void HandleVirtRegDef(Register reg, MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8cpp_source.html#l00178">LiveVariables.cpp:178</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveVariables_html_a9e0695dc8fb597f66ca702309da941f7"><div class="ttname"><a href="classllvm_1_1LiveVariables.html#a9e0695dc8fb597f66ca702309da941f7">llvm::LiveVariables::recomputeForSingleDefVirtReg</a></div><div class="ttdeci">void recomputeForSingleDefVirtReg(Register Reg)</div><div class="ttdoc">Recompute liveness from scratch for a virtual register Reg that is known to have a single def that do...</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8cpp_source.html#l00655">LiveVariables.cpp:655</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveVariables_html_ac7e33b16879b183b0a9058363e2061de"><div class="ttname"><a href="classllvm_1_1LiveVariables.html#ac7e33b16879b183b0a9058363e2061de">llvm::LiveVariables::HandleVirtRegUse</a></div><div class="ttdeci">void HandleVirtRegUse(Register reg, MachineBasicBlock *MBB, MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8cpp_source.html#l00127">LiveVariables.cpp:127</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveVariables_html_af437d1a6ab463853991046e661dea98e"><div class="ttname"><a href="classllvm_1_1LiveVariables.html#af437d1a6ab463853991046e661dea98e">llvm::LiveVariables::runOnMachineFunction</a></div><div class="ttdeci">bool runOnMachineFunction(MachineFunction &amp;MF) override</div><div class="ttdoc">runOnMachineFunction - This method must be overloaded to perform the desired machine code transformat...</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8cpp_source.html#l00597">LiveVariables.cpp:597</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveVariables_html_af73ca972d296b25a689a90fb5a0713f3"><div class="ttname"><a href="classllvm_1_1LiveVariables.html#af73ca972d296b25a689a90fb5a0713f3">llvm::LiveVariables::getVarInfo</a></div><div class="ttdeci">VarInfo &amp; getVarInfo(Register Reg)</div><div class="ttdoc">getVarInfo - Return the VarInfo structure for the specified VIRTUAL register.</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8cpp_source.html#l00084">LiveVariables.cpp:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveVariables_html_afbcff91139fc89e3e8c0dda857e7b128"><div class="ttname"><a href="classllvm_1_1LiveVariables.html#afbcff91139fc89e3e8c0dda857e7b128">llvm::LiveVariables::addNewBlock</a></div><div class="ttdeci">void addNewBlock(MachineBasicBlock *BB, MachineBasicBlock *DomBB, MachineBasicBlock *SuccBB)</div><div class="ttdoc">addNewBlock - Add a new basic block BB between DomBB and SuccBB.</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8cpp_source.html#l00821">LiveVariables.cpp:821</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html_a5e72490b2e8a4c4f70e0aab62f0ea176"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#a5e72490b2e8a4c4f70e0aab62f0ea176">llvm::MCRegisterInfo::superregs</a></div><div class="ttdeci">iterator_range&lt; MCSuperRegIterator &gt; superregs(MCRegister Reg) const</div><div class="ttdoc">Return an iterator range over all super-registers of Reg, excluding Reg.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00805">MCRegisterInfo.h:805</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html_a95656353b813a1dd7ddfa7d8445633a8"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#a95656353b813a1dd7ddfa7d8445633a8">llvm::MCRegisterInfo::subregs_inclusive</a></div><div class="ttdeci">iterator_range&lt; MCSubRegIterator &gt; subregs_inclusive(MCRegister Reg) const</div><div class="ttdoc">Return an iterator range over all sub-registers of Reg, including Reg.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00800">MCRegisterInfo.h:800</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html_a97b138b96791a09a0d9b9c77f0fb6e85"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#a97b138b96791a09a0d9b9c77f0fb6e85">llvm::MCRegisterInfo::isSubRegister</a></div><div class="ttdeci">bool isSubRegister(MCRegister RegA, MCRegister RegB) const</div><div class="ttdoc">Returns true if RegB is a sub-register of RegA.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00473">MCRegisterInfo.h:473</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html_a9ded59d8266ccd2647bfd81722046beb"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#a9ded59d8266ccd2647bfd81722046beb">llvm::MCRegisterInfo::subregs</a></div><div class="ttdeci">iterator_range&lt; MCSubRegIterator &gt; subregs(MCRegister Reg) const</div><div class="ttdoc">Return an iterator range over all sub-registers of Reg, excluding Reg.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00795">MCRegisterInfo.h:795</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00101">MachineBasicBlock.h:102</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a0359a738e0412c5a7ea55d61175e0661"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a0359a738e0412c5a7ea55d61175e0661">llvm::MachineBasicBlock::pred_end</a></div><div class="ttdeci">pred_iterator pred_end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00379">MachineBasicBlock.h:379</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a364ed6e68f92f797c0cd9e53ce5ea2a5"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a364ed6e68f92f797c0cd9e53ce5ea2a5">llvm::MachineBasicBlock::liveins</a></div><div class="ttdeci">iterator_range&lt; livein_iterator &gt; liveins() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00473">MachineBasicBlock.h:473</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a3aa22d521bd6a7e6b9f35545dc7b0f1e"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">llvm::MachineBasicBlock::getNumber</a></div><div class="ttdeci">int getNumber() const</div><div class="ttdoc">MachineBasicBlocks are uniquely numbered at the function level, unless they're not in a MachineFuncti...</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l01175">MachineBasicBlock.h:1175</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a3c1a265be404da0734c41c2f4b7373b3"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a3c1a265be404da0734c41c2f4b7373b3">llvm::MachineBasicBlock::pred_rbegin</a></div><div class="ttdeci">pred_reverse_iterator pred_rbegin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00381">MachineBasicBlock.h:381</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a5429a41753b45803fce6e1bc33be84c4"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a5429a41753b45803fce6e1bc33be84c4">llvm::MachineBasicBlock::pred_rend</a></div><div class="ttdeci">pred_reverse_iterator pred_rend()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00385">MachineBasicBlock.h:385</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00329">MachineBasicBlock.h:329</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ab644fcf07a4c2708333cf66276282357"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab644fcf07a4c2708333cf66276282357">llvm::MachineBasicBlock::pred_begin</a></div><div class="ttdeci">pred_iterator pred_begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00377">MachineBasicBlock.h:377</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00331">MachineBasicBlock.h:331</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ad88ff1529541fb4e243cc8ed90b11131"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ad88ff1529541fb4e243cc8ed90b11131">llvm::MachineBasicBlock::successors</a></div><div class="ttdeci">iterator_range&lt; succ_iterator &gt; successors()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00416">MachineBasicBlock.h:416</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_addd80df79ba902914c7d8a52e3896b79"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#addd80df79ba902914c7d8a52e3896b79">llvm::MachineBasicBlock::predecessors</a></div><div class="ttdeci">iterator_range&lt; pred_iterator &gt; predecessors()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00410">MachineBasicBlock.h:410</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionPass_html_a864fd57b4304ef933b3281d0ef85a88e"><div class="ttname"><a href="classllvm_1_1MachineFunctionPass.html#a864fd57b4304ef933b3281d0ef85a88e">llvm::MachineFunctionPass::getAnalysisUsage</a></div><div class="ttdeci">void getAnalysisUsage(AnalysisUsage &amp;AU) const override</div><div class="ttdoc">getAnalysisUsage - Subclasses that override getAnalysisUsage must call this.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunctionPass_8cpp_source.html#l00168">MachineFunctionPass.cpp:168</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00259">MachineFunction.h:259</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a3825368aca2bc1550d173660df4da6a6"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a3825368aca2bc1550d173660df4da6a6">llvm::MachineFunction::getSubtarget</a></div><div class="ttdeci">const TargetSubtargetInfo &amp; getSubtarget() const</div><div class="ttdoc">getSubtarget - Return the subtarget for which this machine code is being compiled.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00716">MachineFunction.h:716</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a810234b6b3d223b7c74a4253fcc5ea5e"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a810234b6b3d223b7c74a4253fcc5ea5e">llvm::MachineFunction::getRegInfo</a></div><div class="ttdeci">MachineRegisterInfo &amp; getRegInfo()</div><div class="ttdoc">getRegInfo - Return information about the registers currently in use.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00726">MachineFunction.h:726</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a81e8ccd82f750cdfb7488a3197401f7e"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a81e8ccd82f750cdfb7488a3197401f7e">llvm::MachineFunction::getBlockNumbered</a></div><div class="ttdeci">MachineBasicBlock * getBlockNumbered(unsigned N) const</div><div class="ttdoc">getBlockNumbered - MachineBasicBlocks are automatically numbered when they are inserted into the mach...</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00849">MachineFunction.h:849</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_aa22424ba23740b6a748e8d0c239b7e4c"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#aa22424ba23740b6a748e8d0c239b7e4c">llvm::MachineFunction::getNumBlockIDs</a></div><div class="ttdeci">unsigned getNumBlockIDs() const</div><div class="ttdoc">getNumBlockIDs - Return the number of MBB ID's allocated.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00859">MachineFunction.h:859</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ac8ca28de0f4dcee651340e7ef0c45233"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ac8ca28de0f4dcee651340e7ef0c45233">llvm::MachineFunction::front</a></div><div class="ttdeci">const MachineBasicBlock &amp; front() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00932">MachineFunction.h:932</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBundleIterator_html"><div class="ttname"><a href="classllvm_1_1MachineInstrBundleIterator.html">llvm::MachineInstrBundleIterator&lt; MachineInstr &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdoc">Representation of each machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00066">MachineInstr.h:68</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a1e855100f407ca4be098d0050be403b0"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a1e855100f407ca4be098d0050be403b0">llvm::MachineInstr::getParent</a></div><div class="ttdeci">const MachineBasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00326">MachineInstr.h:326</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a469e271fba3a9b52dad4fa54eaf44e2b"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a469e271fba3a9b52dad4fa54eaf44e2b">llvm::MachineInstr::addOperand</a></div><div class="ttdeci">void addOperand(MachineFunction &amp;MF, const MachineOperand &amp;Op)</div><div class="ttdoc">Add the specified operand to the instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00201">MachineInstr.cpp:201</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_ac78902263d351fd8540aeb449d9cb53f"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ac78902263d351fd8540aeb449d9cb53f">llvm::MachineInstr::addRegisterKilled</a></div><div class="ttdeci">bool addRegisterKilled(Register IncomingReg, const TargetRegisterInfo *RegInfo, bool AddIfNotFound=false)</div><div class="ttdoc">We have determined MI kills a register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01926">MachineInstr.cpp:1926</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_ade4229c653b0cbcaca057e8af5002783"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ade4229c653b0cbcaca057e8af5002783">llvm::MachineInstr::all_defs</a></div><div class="ttdeci">iterator_range&lt; filtered_mop_iterator &gt; all_defs()</div><div class="ttdoc">Returns an iterator range over all operands that are (explicit or implicit) register defs.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00730">MachineInstr.h:730</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_aef1372e88c419bac8c5681e49bf7cbe2"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aef1372e88c419bac8c5681e49bf7cbe2">llvm::MachineInstr::findRegisterDefOperand</a></div><div class="ttdeci">MachineOperand * findRegisterDefOperand(Register Reg, bool isDead=false, bool Overlap=false, const TargetRegisterInfo *TRI=nullptr)</div><div class="ttdoc">Wrapper for findRegisterDefOperandIdx, it returns a pointer to the MachineOperand rather than an inde...</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01534">MachineInstr.h:1534</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_afda2c0f22be043ae42b0ec71b661f565"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#afda2c0f22be043ae42b0ec71b661f565">llvm::MachineInstr::addRegisterDead</a></div><div class="ttdeci">bool addRegisterDead(Register Reg, const TargetRegisterInfo *RegInfo, bool AddIfNotFound=false)</div><div class="ttdoc">We have determined MI defined a register without a use.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l02005">MachineInstr.cpp:2005</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html"><div class="ttname"><a href="classllvm_1_1MachineOperand.html">llvm::MachineOperand</a></div><div class="ttdoc">MachineOperand class - Representation of each machine instruction operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00048">MachineOperand.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a3be9857a09c82046b77a71918b5e214f"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a3be9857a09c82046b77a71918b5e214f">llvm::MachineOperand::readsReg</a></div><div class="ttdeci">bool readsReg() const</div><div class="ttdoc">readsReg - Returns true if this operand reads the previous value of its register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00467">MachineOperand.h:467</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a4046212ebc647b17e811837ae4ea3afd"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a4046212ebc647b17e811837ae4ea3afd">llvm::MachineOperand::isKill</a></div><div class="ttdeci">bool isKill() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00399">MachineOperand.h:399</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a4c9594c955fec80c73ddd964b5efd554"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">llvm::MachineOperand::isReg</a></div><div class="ttdeci">bool isReg() const</div><div class="ttdoc">isReg - Tests if this is a MO_Register operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00329">MachineOperand.h:329</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a55fdcb2a9df9a69067eed1bc17a0b927"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a55fdcb2a9df9a69067eed1bc17a0b927">llvm::MachineOperand::isRegMask</a></div><div class="ttdeci">bool isRegMask() const</div><div class="ttdoc">isRegMask - Tests if this is a MO_RegisterMask operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00353">MachineOperand.h:353</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a61a42c85bd86c6ca4554e27d33c3f798"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a61a42c85bd86c6ca4554e27d33c3f798">llvm::MachineOperand::setIsDead</a></div><div class="ttdeci">void setIsDead(bool Val=true)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00525">MachineOperand.h:525</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a69544ec8658eadeed98245dc37c3a541"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a69544ec8658eadeed98245dc37c3a541">llvm::MachineOperand::isUse</a></div><div class="ttdeci">bool isUse() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00379">MachineOperand.h:379</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a75eb135014670ce946e78739cdc9b51b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a75eb135014670ce946e78739cdc9b51b">llvm::MachineOperand::isDef</a></div><div class="ttdeci">bool isDef() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00384">MachineOperand.h:384</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a8a82683fccdef8a5ef772ef03277aee7"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a8a82683fccdef8a5ef772ef03277aee7">llvm::MachineOperand::setIsKill</a></div><div class="ttdeci">void setIsKill(bool Val=true)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00519">MachineOperand.h:519</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a9fcb795c017b82c1a259882b060ddc06"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a9fcb795c017b82c1a259882b060ddc06">llvm::MachineOperand::setIsEarlyClobber</a></div><div class="ttdeci">void setIsEarlyClobber(bool Val=true)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00542">MachineOperand.h:542</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_aaee820701392c55ad54235d3d7201206"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#aaee820701392c55ad54235d3d7201206">llvm::MachineOperand::isDead</a></div><div class="ttdeci">bool isDead() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00394">MachineOperand.h:394</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_abd6aa9da048ef7a4faeaac6484d5c9a6"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#abd6aa9da048ef7a4faeaac6484d5c9a6">llvm::MachineOperand::isEarlyClobber</a></div><div class="ttdeci">bool isEarlyClobber() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00445">MachineOperand.h:445</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ac0035d7c1c860501c877c20e6e93297b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">llvm::MachineOperand::getReg</a></div><div class="ttdeci">Register getReg() const</div><div class="ttdoc">getReg - Returns the register number.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00369">MachineOperand.h:369</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ae4ecf5483b94e2bb72967b80cc2008d2"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ae4ecf5483b94e2bb72967b80cc2008d2">llvm::MachineOperand::clobbersPhysReg</a></div><div class="ttdeci">static bool clobbersPhysReg(const uint32_t *RegMask, MCRegister PhysReg)</div><div class="ttdoc">clobbersPhysReg - Returns true if this RegMask clobbers PhysReg.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00646">MachineOperand.h:646</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_af2c351dad09a71aa08e1d85c67ae6e53"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#af2c351dad09a71aa08e1d85c67ae6e53">llvm::MachineOperand::CreateReg</a></div><div class="ttdeci">static MachineOperand CreateReg(Register Reg, bool isDef, bool isImp=false, bool isKill=false, bool isDead=false, bool isUndef=false, bool isEarlyClobber=false, unsigned SubReg=0, bool isDebug=false, bool isInternalRead=false, bool isRenamable=false)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00837">MachineOperand.h:837</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html">llvm::MachineRegisterInfo</a></div><div class="ttdoc">MachineRegisterInfo - Keep track of information for virtual and physical registers,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00051">MachineRegisterInfo.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a40d954b9cf9ee8b545a78725f2549cba"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a40d954b9cf9ee8b545a78725f2549cba">llvm::MachineRegisterInfo::getVRegDef</a></div><div class="ttdeci">MachineInstr * getVRegDef(Register Reg) const</div><div class="ttdoc">getVRegDef - Return the machine instr that defines the specified virtual register or null if none is ...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00398">MachineRegisterInfo.cpp:398</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a4361906d7698e8b1a912f6affc8e9151"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a4361906d7698e8b1a912f6affc8e9151">llvm::MachineRegisterInfo::use_nodbg_operands</a></div><div class="ttdeci">iterator_range&lt; use_nodbg_iterator &gt; use_nodbg_operands(Register Reg) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00550">MachineRegisterInfo.h:550</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a53ca7cff9e929ba372da9780fdd44b02"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a53ca7cff9e929ba372da9780fdd44b02">llvm::MachineRegisterInfo::isReserved</a></div><div class="ttdeci">bool isReserved(MCRegister PhysReg) const</div><div class="ttdoc">isReserved - Returns true when PhysReg is a reserved register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00956">MachineRegisterInfo.h:956</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a86dd1b4ce6ff2d4a0b4593c5f7b2a3fd"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a86dd1b4ce6ff2d4a0b4593c5f7b2a3fd">llvm::MachineRegisterInfo::isSSA</a></div><div class="ttdeci">bool isSSA() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00198">MachineRegisterInfo.h:198</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_ae73582bbbc71758dcac70cd8c56210e4"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#ae73582bbbc71758dcac70cd8c56210e4">llvm::MachineRegisterInfo::getNumVirtRegs</a></div><div class="ttdeci">unsigned getNumVirtRegs() const</div><div class="ttdoc">getNumVirtRegs - Return the number of virtual registers created.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00786">MachineRegisterInfo.h:786</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_af988c2b4f62506108843a0fdc04b43a2"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#af988c2b4f62506108843a0fdc04b43a2">llvm::MachineRegisterInfo::getUniqueVRegDef</a></div><div class="ttdeci">MachineInstr * getUniqueVRegDef(Register Reg) const</div><div class="ttdoc">getUniqueVRegDef - Return the unique machine instr that defines the specified virtual register or nul...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00409">MachineRegisterInfo.cpp:409</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html"><div class="ttname"><a href="classllvm_1_1Register.html">llvm::Register</a></div><div class="ttdoc">Wrapper class representing virtual and physical registers.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00019">Register.h:19</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html_a1979c563289f871907832e419889f979"><div class="ttname"><a href="classllvm_1_1Register.html#a1979c563289f871907832e419889f979">llvm::Register::index2VirtReg</a></div><div class="ttdeci">static Register index2VirtReg(unsigned Index)</div><div class="ttdoc">Convert a 0-based index to a virtual register number.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00084">Register.h:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html_ac6bf744f357352cde7578931007c0b6f"><div class="ttname"><a href="classllvm_1_1Register.html#ac6bf744f357352cde7578931007c0b6f">llvm::Register::isVirtualRegister</a></div><div class="ttdeci">static constexpr bool isVirtualRegister(unsigned Reg)</div><div class="ttdoc">Return true if the specified register number is in the virtual register namespace.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00071">Register.h:71</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html_afacc26f29d80e10be4785a96ed6444dc"><div class="ttname"><a href="classllvm_1_1Register.html#afacc26f29d80e10be4785a96ed6444dc">llvm::Register::isPhysicalRegister</a></div><div class="ttdeci">static constexpr bool isPhysicalRegister(unsigned Reg)</div><div class="ttdoc">Return true if the specified register number is in the physical register namespace.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00065">Register.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html_affdbf5b92ed7e01352e2f39466efbe21"><div class="ttname"><a href="classllvm_1_1Register.html#affdbf5b92ed7e01352e2f39466efbe21">llvm::Register::isPhysical</a></div><div class="ttdeci">constexpr bool isPhysical() const</div><div class="ttdoc">Return true if the specified register number is in the physical register namespace.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00095">Register.h:95</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a1f475b0df44ebd7169e720fa1bf9169e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">llvm::SmallPtrSetImpl::count</a></div><div class="ttdeci">size_type count(ConstPtrType Ptr) const</div><div class="ttdoc">count - Return 1 if the specified pointer is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00384">SmallPtrSet.h:384</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a9d834ae3da8c62c2b668dada51335eb0"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a9d834ae3da8c62c2b668dada51335eb0">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(PtrType Ptr)</div><div class="ttdoc">Inserts Ptr if and only if there is no element in the container equal to Ptr.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00366">SmallPtrSet.h:366</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_af74676a3c7447be34bd2c1da76ec0c48"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#af74676a3c7447be34bd2c1da76ec0c48">llvm::SmallPtrSetImpl::contains</a></div><div class="ttdeci">bool contains(ConstPtrType Ptr) const</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00390">SmallPtrSet.h:390</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdoc">SmallPtrSet - This class implements a set which is optimized for holding SmallSize or less elements.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00451">SmallPtrSet.h:451</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html"><div class="ttname"><a href="classllvm_1_1SmallSet.html">llvm::SmallSet</a></div><div class="ttdoc">SmallSet - This maintains a set of unique values, optimizing for the case when the set is small (less...</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00135">SmallSet.h:135</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html_a2a98f19750ba941ce791b75ca6d77e48"><div class="ttname"><a href="classllvm_1_1SmallSet.html#a2a98f19750ba941ce791b75ca6d77e48">llvm::SmallSet::count</a></div><div class="ttdeci">size_type count(const T &amp;V) const</div><div class="ttdoc">count - Return 1 if the element is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00166">SmallSet.h:166</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html_a75a2d2ad3b3dce6702750d570ee8f343"><div class="ttname"><a href="classllvm_1_1SmallSet.html#a75a2d2ad3b3dce6702750d570ee8f343">llvm::SmallSet::erase</a></div><div class="ttdeci">bool erase(const T &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00207">SmallSet.h:207</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html_afcadfef2cf37c3e6dbdbc9cd7bea50a0"><div class="ttname"><a href="classllvm_1_1SmallSet.html#afcadfef2cf37c3e6dbdbc9cd7bea50a0">llvm::SmallSet::insert</a></div><div class="ttdeci">std::pair&lt; const_iterator, bool &gt; insert(const T &amp;V)</div><div class="ttdoc">insert - Insert an element into the set if it isn't already there.</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00179">SmallSet.h:179</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorBase_html_ad03233a7b0c4de57dcadc7529dad8d0b"><div class="ttname"><a href="classllvm_1_1SmallVectorBase.html#ad03233a7b0c4de57dcadc7529dad8d0b">llvm::SmallVectorBase::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00094">SmallVector.h:94</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdoc">This class consists of common code factored out of the SmallVector class to reduce code duplication b...</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00586">SmallVector.h:586</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a0c8ffe664a36e30d49c84d0aded2fe08"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">llvm::SmallVectorImpl::pop_back_val</a></div><div class="ttdeci">T pop_back_val()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00686">SmallVector.h:686</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a7efd1f0c1206d95e4fe01a9b49a57b82"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a7efd1f0c1206d95e4fe01a9b49a57b82">llvm::SmallVectorImpl::append</a></div><div class="ttdeci">void append(ItTy in_start, ItTy in_end)</div><div class="ttdoc">Add the specified range to the end of the SmallVector.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00696">SmallVector.h:696</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a94d23373106467003722f7d6c17b1528"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a94d23373106467003722f7d6c17b1528">llvm::SmallVectorImpl::insert</a></div><div class="ttdeci">iterator insert(iterator I, T &amp;&amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00818">SmallVector.h:818</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorTemplateBase_html_af42bfbc067df27c19ee2fc859df58799"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#af42bfbc067df27c19ee2fc859df58799">llvm::SmallVectorTemplateBase::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00426">SmallVector.h:426</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorTemplateCommon_html_a075e34e98605d0e7c289763a104869ac"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">llvm::SmallVectorTemplateCommon::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00282">SmallVector.h:282</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01208">SmallVector.h:1209</a></div></div>
<div class="ttc" id="aclassllvm_1_1SparseBitVector_html"><div class="ttname"><a href="classllvm_1_1SparseBitVector.html">llvm::SparseBitVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SparseBitVector_8h_source.html#l00256">SparseBitVector.h:256</a></div></div>
<div class="ttc" id="aclassllvm_1_1SparseBitVector_html_a613c1e44c4e88e9a1e0be386cb5fa828"><div class="ttname"><a href="classllvm_1_1SparseBitVector.html#a613c1e44c4e88e9a1e0be386cb5fa828">llvm::SparseBitVector::set</a></div><div class="ttdeci">void set(unsigned Idx)</div><div class="ttdef"><b>Definition:</b> <a href="SparseBitVector_8h_source.html#l00508">SparseBitVector.h:508</a></div></div>
<div class="ttc" id="aclassllvm_1_1SparseBitVector_html_aaa2827e67554a0b81f693dc61a3a40b5"><div class="ttname"><a href="classllvm_1_1SparseBitVector.html#aaa2827e67554a0b81f693dc61a3a40b5">llvm::SparseBitVector::test</a></div><div class="ttdeci">bool test(unsigned Idx) const</div><div class="ttdef"><b>Definition:</b> <a href="SparseBitVector_8h_source.html#l00472">SparseBitVector.h:472</a></div></div>
<div class="ttc" id="aclassllvm_1_1SparseBitVector_html_af3b1d1c23a2507b717c7a9acc0d5ae49"><div class="ttname"><a href="classllvm_1_1SparseBitVector.html#af3b1d1c23a2507b717c7a9acc0d5ae49">llvm::SparseBitVector::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="SparseBitVector_8h_source.html#l00796">SparseBitVector.h:796</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_ab636ebc3e5dcb3ca34330098ceb39ecd"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#ab636ebc3e5dcb3ca34330098ceb39ecd">llvm::TargetRegisterInfo::getNumSupportedRegs</a></div><div class="ttdeci">virtual unsigned getNumSupportedRegs(const MachineFunction &amp;) const</div><div class="ttdoc">Return the number of registers for the function. (may overestimate)</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00270">TargetRegisterInfo.h:270</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_af2f8f83c931fa084058914c65af13984"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#af2f8f83c931fa084058914c65af13984">llvm::TargetRegisterInfo::isInAllocatableClass</a></div><div class="ttdeci">bool isInAllocatableClass(MCRegister RegNo) const</div><div class="ttdoc">Return true if the register is in the allocation of any register class.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00371">TargetRegisterInfo.h:371</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html_a43c530c830206ecf5ad3359364634c75"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#a43c530c830206ecf5ad3359364634c75">llvm::TargetSubtargetInfo::getRegisterInfo</a></div><div class="ttdeci">virtual const TargetRegisterInfo * getRegisterInfo() const</div><div class="ttdoc">getRegisterInfo - If register information is available, return it.</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00128">TargetSubtargetInfo.h:128</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00043">Use.h:43</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_a1b0f3ebdced8fce4b22c6a63b25d9525"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#a1b0f3ebdced8fce4b22c6a63b25d9525">llvm::detail::DenseSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const ValueT &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00206">DenseSet.h:206</a></div></div>
<div class="ttc" id="aclassllvm_1_1detail_1_1DenseSetImpl_html_afe504aa31a6a354cec13f5b32d0b1d9d"><div class="ttname"><a href="classllvm_1_1detail_1_1DenseSetImpl.html#afe504aa31a6a354cec13f5b32d0b1d9d">llvm::detail::DenseSetImpl::count</a></div><div class="ttdeci">size_type count(const_arg_type_t&lt; ValueT &gt; V) const</div><div class="ttdoc">Return 1 if the specified key is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00097">DenseSet.h:97</a></div></div>
<div class="ttc" id="aclassuint16__t_html"><div class="ttname"><a href="classuint16__t.html">uint16_t</a></div></div>
<div class="ttc" id="allvm_2Support_2ErrorHandling_8h_html"><div class="ttname"><a href="llvm_2Support_2ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="anamespacefalse_html"><div class="ttname"><a href="namespacefalse.html">false</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00184">StackSlotColoring.cpp:184</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86AS_html_a26b5ff01809973e596758206e2b61680a1337cc82304bed6c1a811f1a7f308aca"><div class="ttname"><a href="namespacellvm_1_1X86AS.html#a26b5ff01809973e596758206e2b61680a1337cc82304bed6c1a811f1a7f308aca">llvm::X86AS::SS</a></div><div class="ttdeci">@ SS</div><div class="ttdef"><b>Definition:</b> <a href="X86_8h_source.html#l00207">X86.h:207</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86Disassembler_html_a1e59b79e1d09149912cad9c0ef2809ad"><div class="ttname"><a href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">llvm::X86Disassembler::Reg</a></div><div class="ttdeci">Reg</div><div class="ttdoc">All possible values of the reg field in the ModR/M byte.</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00608">X86DisassemblerDecoder.h:608</a></div></div>
<div class="ttc" id="anamespacellvm_1_1rdf_html_a72a9383e8621141ce7a69b7d2ad5061c"><div class="ttname"><a href="namespacellvm_1_1rdf.html#a72a9383e8621141ce7a69b7d2ad5061c">llvm::rdf::Def</a></div><div class="ttdeci">NodeAddr&lt; DefNode * &gt; Def</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00384">RDFGraph.h:384</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="anamespacellvm_html_a029feb493f45bc96d5369e201fd84e0c"><div class="ttname"><a href="namespacellvm.html#a029feb493f45bc96d5369e201fd84e0c">llvm::depth_first_ext</a></div><div class="ttdeci">iterator_range&lt; df_ext_iterator&lt; T, SetTy &gt; &gt; depth_first_ext(const T &amp;G, SetTy &amp;S)</div><div class="ttdef"><b>Definition:</b> <a href="DepthFirstIterator_8h_source.html#l00251">DepthFirstIterator.h:251</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6b0ac1fa4f05de76413c5e0ca6334035"><div class="ttname"><a href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a></div><div class="ttdeci">auto reverse(ContainerTy &amp;&amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00428">STLExtras.h:428</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7f2a3d4dcfee70225988aec53ff1e173"><div class="ttname"><a href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">llvm::report_fatal_error</a></div><div class="ttdeci">void report_fatal_error(Error Err, bool gen_crash_diag=true)</div><div class="ttdoc">Report a serious error, calling any installed error handler.</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8cpp_source.html#l00156">Error.cpp:156</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab80163ae002e9cec63a9e279d5b1c2d7"><div class="ttname"><a href="namespacellvm.html#ab80163ae002e9cec63a9e279d5b1c2d7">llvm::LiveVariablesID</a></div><div class="ttdeci">char &amp; LiveVariablesID</div><div class="ttdoc">LiveVariables pass - This pass computes the set of blocks in which each variable is life and sets mac...</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8cpp_source.html#l00045">LiveVariables.cpp:45</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad810a1e96a20217be2b5ce15066af066"><div class="ttname"><a href="namespacellvm.html#ad810a1e96a20217be2b5ce15066af066">llvm::UnreachableMachineBlockElimID</a></div><div class="ttdeci">char &amp; UnreachableMachineBlockElimID</div><div class="ttdoc">UnreachableMachineBlockElimination - This pass removes unreachable machine basic blocks.</div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="astructllvm_1_1LiveVariables_1_1VarInfo_html"><div class="ttname"><a href="structllvm_1_1LiveVariables_1_1VarInfo.html">llvm::LiveVariables::VarInfo</a></div><div class="ttdoc">VarInfo - This represents the regions where a virtual register is live in the program.</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8h_source.html#l00080">LiveVariables.h:80</a></div></div>
<div class="ttc" id="astructllvm_1_1LiveVariables_1_1VarInfo_html_a1e808b535590177bb00545b77a324288"><div class="ttname"><a href="structllvm_1_1LiveVariables_1_1VarInfo.html#a1e808b535590177bb00545b77a324288">llvm::LiveVariables::VarInfo::removeKill</a></div><div class="ttdeci">bool removeKill(MachineInstr &amp;MI)</div><div class="ttdoc">removeKill - Delete a kill corresponding to the specified machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8h_source.html#l00095">LiveVariables.h:95</a></div></div>
<div class="ttc" id="astructllvm_1_1LiveVariables_1_1VarInfo_html_a578f01f3e0679351d97facbba44c583e"><div class="ttname"><a href="structllvm_1_1LiveVariables_1_1VarInfo.html#a578f01f3e0679351d97facbba44c583e">llvm::LiveVariables::VarInfo::dump</a></div><div class="ttdeci">void dump() const</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8cpp_source.html#l00068">LiveVariables.cpp:68</a></div></div>
<div class="ttc" id="astructllvm_1_1LiveVariables_1_1VarInfo_html_a65c816771eca7465f5e3e0bb6624ad88"><div class="ttname"><a href="structllvm_1_1LiveVariables_1_1VarInfo.html#a65c816771eca7465f5e3e0bb6624ad88">llvm::LiveVariables::VarInfo::Kills</a></div><div class="ttdeci">std::vector&lt; MachineInstr * &gt; Kills</div><div class="ttdoc">Kills - List of MachineInstruction's which are the last use of this virtual register (kill it) in the...</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8h_source.html#l00090">LiveVariables.h:90</a></div></div>
<div class="ttc" id="astructllvm_1_1LiveVariables_1_1VarInfo_html_a76321b20db4feab750d85c2329cfcbc6"><div class="ttname"><a href="structllvm_1_1LiveVariables_1_1VarInfo.html#a76321b20db4feab750d85c2329cfcbc6">llvm::LiveVariables::VarInfo::AliveBlocks</a></div><div class="ttdeci">SparseBitVector AliveBlocks</div><div class="ttdoc">AliveBlocks - Set of blocks in which this value is alive completely through.</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8h_source.html#l00085">LiveVariables.h:85</a></div></div>
<div class="ttc" id="astructllvm_1_1LiveVariables_1_1VarInfo_html_a935158aa13ae361427aa4c76d40693a0"><div class="ttname"><a href="structllvm_1_1LiveVariables_1_1VarInfo.html#a935158aa13ae361427aa4c76d40693a0">llvm::LiveVariables::VarInfo::findKill</a></div><div class="ttdeci">MachineInstr * findKill(const MachineBasicBlock *MBB) const</div><div class="ttdoc">findKill - Find a kill instruction in MBB. Return NULL if none is found.</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8cpp_source.html#l00060">LiveVariables.cpp:60</a></div></div>
<div class="ttc" id="astructllvm_1_1LiveVariables_1_1VarInfo_html_ade24291007dd6f2b3c90c4323499d7eb"><div class="ttname"><a href="structllvm_1_1LiveVariables_1_1VarInfo.html#ade24291007dd6f2b3c90c4323499d7eb">llvm::LiveVariables::VarInfo::isLiveIn</a></div><div class="ttdeci">bool isLiveIn(const MachineBasicBlock &amp;MBB, Register Reg, MachineRegisterInfo &amp;MRI)</div><div class="ttdoc">isLiveIn - Is Reg live in to MBB? This means that Reg is live through MBB, or it is killed in MBB.</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8cpp_source.html#l00779">LiveVariables.cpp:779</a></div></div>
<div class="ttc" id="astructllvm_1_1VirtRegInfo_html"><div class="ttname"><a href="structllvm_1_1VirtRegInfo.html">llvm::VirtRegInfo</a></div><div class="ttdoc">VirtRegInfo - Information about a virtual register used by a set of operands.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBundle_8h_source.html#l00218">MachineInstrBundle.h:218</a></div></div>
<div class="ttc" id="astructllvm_1_1df__iterator__default__set_html"><div class="ttname"><a href="structllvm_1_1df__iterator__default__set.html">llvm::df_iterator_default_set</a></div><div class="ttdef"><b>Definition:</b> <a href="DepthFirstIterator_8h_source.html#l00069">DepthFirstIterator.h:69</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jul 8 2024 16:25:14 for LLVM by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
