<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: include/llvm/Transforms/Coroutines/CoroSplit.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LLVM<span id="projectnumber">&#160;14.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_dcde91663b8816e1e2311938ccd8f690.html">llvm</a></li><li class="navelem"><a class="el" href="dir_5625ec55672b6ae9c183a884d9f7b761.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_b88b1fb631a0f278bd85e945843516ee.html">Coroutines</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">CoroSplit.h</div></div>
</div><!--header-->
<div class="contents">
<a href="CoroSplit_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">//===- CoroSplit.h - Converts a coroutine into a state machine -*- C++ -*--===//</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">//</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">//</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">//</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">// \file</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">// This file declares the pass that builds the coroutine frame and outlines</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">// the resume and destroy parts of the coroutine into separate functions.</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">//</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span> </div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#ifndef LLVM_TRANSFORMS_COROUTINES_COROSPLIT_H</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#define LLVM_TRANSFORMS_COROUTINES_COROSPLIT_H</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span> </div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &quot;<a class="code" href="CGSCCPassManager_8h.html">llvm/Analysis/CGSCCPassManager.h</a>&quot;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &quot;<a class="code" href="LazyCallGraph_8h.html">llvm/Analysis/LazyCallGraph.h</a>&quot;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &quot;<a class="code" href="PassManager_8h.html">llvm/IR/PassManager.h</a>&quot;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span> </div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span> </div>
<div class="foldopen" id="foldopen00024" data-start="{" data-end="};">
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno"><a class="line" href="structllvm_1_1CoroSplitPass.html">   24</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structllvm_1_1CoroSplitPass.html">CoroSplitPass</a> : <a class="code hl_struct" href="structllvm_1_1PassInfoMixin.html">PassInfoMixin</a>&lt;CoroSplitPass&gt; {</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno"><a class="line" href="structllvm_1_1CoroSplitPass.html#a081fb3761f1199dd7b41718d2cf6705c">   25</a></span>  <a class="code hl_function" href="structllvm_1_1CoroSplitPass.html#a081fb3761f1199dd7b41718d2cf6705c">CoroSplitPass</a>(<span class="keywordtype">bool</span> <a class="code hl_variable" href="structllvm_1_1CoroSplitPass.html#acad6a8cfcddc1bd59394c0f2944f306e">OptimizeFrame</a> = <span class="keyword">false</span>) : <a class="code hl_variable" href="structllvm_1_1CoroSplitPass.html#acad6a8cfcddc1bd59394c0f2944f306e">OptimizeFrame</a>(<a class="code hl_variable" href="structllvm_1_1CoroSplitPass.html#acad6a8cfcddc1bd59394c0f2944f306e">OptimizeFrame</a>) {}</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span> </div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>  <a class="code hl_class" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> <a class="code hl_function" href="structllvm_1_1CoroSplitPass.html#a47f6589634ad33a13369ace133b9f4b2">run</a>(<a class="code hl_class" href="classllvm_1_1LazyCallGraph_1_1SCC.html">LazyCallGraph::SCC</a> &amp;<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a694d9607a781d330039787de0726acc0">C</a>, <a class="code hl_class" href="classllvm_1_1AnalysisManager.html">CGSCCAnalysisManager</a> &amp;AM,</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>                        <a class="code hl_class" href="classllvm_1_1LazyCallGraph.html">LazyCallGraph</a> &amp;<a class="code hl_variable" href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a>, <a class="code hl_struct" href="structllvm_1_1CGSCCUpdateResult.html">CGSCCUpdateResult</a> &amp;UR);</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno"><a class="line" href="structllvm_1_1CoroSplitPass.html#a7c323f9346064eeaf0038d10f32fddec">   29</a></span>  <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="structllvm_1_1CoroSplitPass.html#a7c323f9346064eeaf0038d10f32fddec">isRequired</a>() { <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span> </div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>  <span class="comment">// Would be true if the Optimization level isn&#39;t O0.</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno"><a class="line" href="structllvm_1_1CoroSplitPass.html#acad6a8cfcddc1bd59394c0f2944f306e">   32</a></span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="structllvm_1_1CoroSplitPass.html#acad6a8cfcddc1bd59394c0f2944f306e">OptimizeFrame</a>;</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>};</div>
</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>} <span class="comment">// end namespace llvm</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span> </div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#endif </span><span class="comment">// LLVM_TRANSFORMS_COROUTINES_COROSPLIT_H</span></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a694d9607a781d330039787de0726acc0"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a694d9607a781d330039787de0726acc0">C</a></div><div class="ttdeci">static GCRegistry::Add&lt; ShadowStackGC &gt; C(&quot;shadow-stack&quot;, &quot;Very portable GC for uncooperative code generators&quot;)</div></div>
<div class="ttc" id="aCGSCCPassManager_8h_html"><div class="ttname"><a href="CGSCCPassManager_8h.html">CGSCCPassManager.h</a></div><div class="ttdoc">This header provides classes for managing passes over SCCs of the call graph.</div></div>
<div class="ttc" id="aCoroSplit_8cpp_html_a870dde7776fd5695fbfa39d3c6396fc6"><div class="ttname"><a href="CoroSplit_8cpp.html#a870dde7776fd5695fbfa39d3c6396fc6">CG</a></div><div class="ttdeci">Remove calls to llvm coro prepare a barrier meant to prevent IPO from operating on calls to a retcon coroutine before it s been split This is only safe to do after we ve split all retcon coroutines in the module We can do that this in this pass because this pass does promise to split all retcon CallGraph &amp; CG</div><div class="ttdef"><b>Definition</b> <a href="CoroSplit_8cpp_source.html#l02152">CoroSplit.cpp:2152</a></div></div>
<div class="ttc" id="aLazyCallGraph_8h_html"><div class="ttname"><a href="LazyCallGraph_8h.html">LazyCallGraph.h</a></div><div class="ttdoc">Implements a lazy call graph analysis and related passes for the new pass manager.</div></div>
<div class="ttc" id="aPassManager_8h_html"><div class="ttname"><a href="PassManager_8h.html">PassManager.h</a></div><div class="ttdoc">This header defines various interfaces for pass management in LLVM.</div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html">llvm::AnalysisManager</a></div><div class="ttdoc">A container for analyses that lazily runs them and caches their results.</div><div class="ttdef"><b>Definition</b> <a href="PassManager_8h_source.html#l00626">PassManager.h:626</a></div></div>
<div class="ttc" id="aclassllvm_1_1LazyCallGraph_1_1SCC_html"><div class="ttname"><a href="classllvm_1_1LazyCallGraph_1_1SCC.html">llvm::LazyCallGraph::SCC</a></div><div class="ttdoc">An SCC of the call graph.</div><div class="ttdef"><b>Definition</b> <a href="LazyCallGraph_8h_source.html#l00422">LazyCallGraph.h:422</a></div></div>
<div class="ttc" id="aclassllvm_1_1LazyCallGraph_html"><div class="ttname"><a href="classllvm_1_1LazyCallGraph.html">llvm::LazyCallGraph</a></div><div class="ttdoc">A lazily constructed view of the call graph of a module.</div><div class="ttdef"><b>Definition</b> <a href="LazyCallGraph_8h_source.html#l00113">LazyCallGraph.h:113</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html">llvm::PreservedAnalyses</a></div><div class="ttdoc">A set of analyses that are preserved following a run of a transformation pass.</div><div class="ttdef"><b>Definition</b> <a href="PassManager_8h_source.html#l00152">PassManager.h:152</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">/file This file defines the SmallVector class.</div><div class="ttdef"><b>Definition</b> <a href="AllocatorList_8h_source.html#l00022">AllocatorList.h:22</a></div></div>
<div class="ttc" id="astructllvm_1_1CGSCCUpdateResult_html"><div class="ttname"><a href="structllvm_1_1CGSCCUpdateResult.html">llvm::CGSCCUpdateResult</a></div><div class="ttdoc">Support structure for SCC passes to communicate updates the call graph back to the CGSCC pass manager...</div><div class="ttdef"><b>Definition</b> <a href="CGSCCPassManager_8h_source.html#l00238">CGSCCPassManager.h:238</a></div></div>
<div class="ttc" id="astructllvm_1_1CoroSplitPass_html"><div class="ttname"><a href="structllvm_1_1CoroSplitPass.html">llvm::CoroSplitPass</a></div><div class="ttdef"><b>Definition</b> <a href="#l00024">CoroSplit.h:24</a></div></div>
<div class="ttc" id="astructllvm_1_1CoroSplitPass_html_a081fb3761f1199dd7b41718d2cf6705c"><div class="ttname"><a href="structllvm_1_1CoroSplitPass.html#a081fb3761f1199dd7b41718d2cf6705c">llvm::CoroSplitPass::CoroSplitPass</a></div><div class="ttdeci">CoroSplitPass(bool OptimizeFrame=false)</div><div class="ttdef"><b>Definition</b> <a href="#l00025">CoroSplit.h:25</a></div></div>
<div class="ttc" id="astructllvm_1_1CoroSplitPass_html_a47f6589634ad33a13369ace133b9f4b2"><div class="ttname"><a href="structllvm_1_1CoroSplitPass.html#a47f6589634ad33a13369ace133b9f4b2">llvm::CoroSplitPass::run</a></div><div class="ttdeci">PreservedAnalyses run(LazyCallGraph::SCC &amp;C, CGSCCAnalysisManager &amp;AM, LazyCallGraph &amp;CG, CGSCCUpdateResult &amp;UR)</div><div class="ttdef"><b>Definition</b> <a href="CoroSplit_8cpp_source.html#l02178">CoroSplit.cpp:2178</a></div></div>
<div class="ttc" id="astructllvm_1_1CoroSplitPass_html_a7c323f9346064eeaf0038d10f32fddec"><div class="ttname"><a href="structllvm_1_1CoroSplitPass.html#a7c323f9346064eeaf0038d10f32fddec">llvm::CoroSplitPass::isRequired</a></div><div class="ttdeci">static bool isRequired()</div><div class="ttdef"><b>Definition</b> <a href="#l00029">CoroSplit.h:29</a></div></div>
<div class="ttc" id="astructllvm_1_1CoroSplitPass_html_acad6a8cfcddc1bd59394c0f2944f306e"><div class="ttname"><a href="structllvm_1_1CoroSplitPass.html#acad6a8cfcddc1bd59394c0f2944f306e">llvm::CoroSplitPass::OptimizeFrame</a></div><div class="ttdeci">bool OptimizeFrame</div><div class="ttdef"><b>Definition</b> <a href="#l00032">CoroSplit.h:32</a></div></div>
<div class="ttc" id="astructllvm_1_1PassInfoMixin_html"><div class="ttname"><a href="structllvm_1_1PassInfoMixin.html">llvm::PassInfoMixin</a></div><div class="ttdoc">A CRTP mix-in to automatically provide informational APIs needed for passes.</div><div class="ttdef"><b>Definition</b> <a href="PassManager_8h_source.html#l00371">PassManager.h:371</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Feb 20 2024 18:25:09 for LLVM by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
