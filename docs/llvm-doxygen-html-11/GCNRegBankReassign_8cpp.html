<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Target/AMDGPU/GCNRegBankReassign.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LLVM<span id="projectnumber">&#160;11.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_794e483eb1cc7921d35fd149d9cc325b.html">Target</a></li><li class="navelem"><a class="el" href="dir_447ce995d6e35417de5ec3060e97c93e.html">AMDGPU</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">GCNRegBankReassign.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Try to reassign registers on GFX10+ to reduce register bank conflicts.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="AMDGPU_8h_source.html">AMDGPU.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="AMDGPUSubtarget_8h_source.html">AMDGPUSubtarget.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="AMDGPUMCTargetDesc_8h_source.html">MCTargetDesc/AMDGPUMCTargetDesc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="SIInstrInfo_8h_source.html">SIInstrInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="SIMachineFunctionInfo_8h_source.html">SIMachineFunctionInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="SmallSet_8h_source.html">llvm/ADT/SmallSet.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Statistic_8h_source.html">llvm/ADT/Statistic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LiveInterval_8h_source.html">llvm/CodeGen/LiveInterval.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LiveIntervals_8h_source.html">llvm/CodeGen/LiveIntervals.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LiveRegMatrix_8h_source.html">llvm/CodeGen/LiveRegMatrix.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MachineFunctionPass_8h_source.html">llvm/CodeGen/MachineFunctionPass.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MachineLoopInfo_8h_source.html">llvm/CodeGen/MachineLoopInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="VirtRegMap_8h_source.html">llvm/CodeGen/VirtRegMap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="InitializePasses_8h_source.html">llvm/InitializePasses.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MathExtras_8h_source.html">llvm/Support/MathExtras.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for GCNRegBankReassign.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="GCNRegBankReassign_8cpp__incl.png" border="0" usemap="#alib_2Target_2AMDGPU_2GCNRegBankReassign_8cpp" alt=""/></div>
<map name="alib_2Target_2AMDGPU_2GCNRegBankReassign_8cpp" id="alib_2Target_2AMDGPU_2GCNRegBankReassign_8cpp">
<area shape="rect" title="Try to reassign registers on GFX10+ to reduce register bank conflicts." alt="" coords="3245,5,3440,46"/>
<area shape="rect" href="AMDGPU_8h.html" title=" " alt="" coords="141,507,232,533"/>
<area shape="poly" title=" " alt="" coords="3245,31,2640,37,1755,51,907,70,595,83,411,97,343,101,274,97,149,89,97,93,76,99,57,109,43,122,32,140,25,164,22,194,22,359,26,383,35,406,48,426,65,444,105,476,145,498,143,503,102,480,62,448,44,429,30,408,21,385,17,359,17,194,20,163,27,138,39,119,54,104,74,94,96,88,149,83,275,92,343,95,410,91,594,77,906,65,1755,45,2640,32,3244,25"/>
<area shape="rect" href="AMDGPUSubtarget_8h.html" title="AMDGPU specific subclass of TargetSubtarget." alt="" coords="1464,102,1611,127"/>
<area shape="poly" title=" " alt="" coords="3244,34,1891,97,1626,111,1625,105,1890,91,3244,29"/>
<area shape="rect" href="AMDGPUMCTargetDesc_8h.html" title="Provides AMDGPU specific target descriptions." alt="" coords="3003,256,3232,297"/>
<area shape="poly" title=" " alt="" coords="3327,48,3147,247,3143,243,3323,45"/>
<area shape="rect" href="SIInstrInfo_8h.html" title="Interface definition for SIInstrInfo." alt="" coords="1701,264,1795,290"/>
<area shape="poly" title=" " alt="" coords="3244,31,3000,35,2686,46,2380,66,2254,80,2159,97,2047,131,1940,176,1848,222,1782,258,1779,254,1846,217,1938,171,2045,126,2158,91,2254,74,2380,61,2686,41,3000,30,3244,25"/>
<area shape="rect" href="MathExtras_8h.html" title=" " alt="" coords="1081,426,1257,452"/>
<area shape="poly" title=" " alt="" coords="3244,31,2563,41,2079,52,1565,67,1071,88,645,114,474,129,338,146,244,165,215,175,199,184,194,195,199,207,227,220,290,241,475,294,760,368,921,399,1067,422,1066,427,920,404,759,373,473,299,288,246,225,225,195,210,189,195,195,181,213,170,243,160,337,141,473,124,645,109,1071,83,1565,62,2079,47,2563,36,3244,25"/>
<area shape="rect" href="SIMachineFunctionInfo_8h.html" title=" " alt="" coords="2327,183,2494,208"/>
<area shape="poly" title=" " alt="" coords="3245,47,2493,182,2492,177,3244,42"/>
<area shape="rect" href="SmallSet_8h.html" title=" " alt="" coords="2170,102,2315,127"/>
<area shape="poly" title=" " alt="" coords="3245,37,2330,109,2329,104,3244,32"/>
<area shape="rect" href="Statistic_8h.html" title=" " alt="" coords="4216,102,4355,127"/>
<area shape="poly" title=" " alt="" coords="3441,28,3777,47,3987,65,4198,91,4221,95,4220,101,4197,97,3986,71,3776,52,3440,33"/>
<area shape="rect" href="LiveInterval_8h.html" title=" " alt="" coords="3908,345,4094,371"/>
<area shape="poly" title=" " alt="" coords="3441,28,3623,40,3731,51,3839,66,3943,86,4036,111,4109,143,4137,161,4158,181,4169,204,4168,228,4158,251,4140,273,4091,311,4041,340,4038,336,4088,307,4136,269,4153,248,4163,227,4164,206,4154,184,4134,165,4107,147,4034,116,3942,91,3839,71,3730,56,3623,45,3441,33"/>
<area shape="rect" href="LiveIntervals_8h.html" title=" " alt="" coords="3511,183,3705,208"/>
<area shape="poly" title=" " alt="" coords="3441,31,3478,38,3515,51,3550,68,3580,92,3593,109,3602,129,3610,167,3604,169,3597,131,3589,112,3577,96,3547,73,3513,56,3476,44,3440,36"/>
<area shape="rect" href="MachineFunctionPass_8h.html" title=" " alt="" coords="3474,256,3681,297"/>
<area shape="poly" title=" " alt="" coords="3346,46,3352,89,3360,112,3371,133,3403,170,3441,201,3481,227,3518,247,3516,252,3478,232,3438,205,3399,174,3367,136,3355,114,3347,90,3341,47"/>
<area shape="rect" href="LiveRegMatrix_8h.html" title=" " alt="" coords="3941,183,4144,208"/>
<area shape="poly" title=" " alt="" coords="3441,43,3674,91,3846,136,3988,175,3986,181,3845,141,3673,97,3440,48"/>
<area shape="rect" href="MachineLoopInfo_8h.html" title=" " alt="" coords="3381,94,3566,135"/>
<area shape="poly" title=" " alt="" coords="3374,44,3433,83,3430,88,3371,49"/>
<area shape="rect" href="VirtRegMap_8h.html" title=" " alt="" coords="3728,183,3917,208"/>
<area shape="poly" title=" " alt="" coords="3439,44,3522,65,3609,91,3708,133,3789,173,3786,178,3705,138,3607,97,3521,70,3438,49"/>
<area shape="rect" href="InitializePasses_8h.html" title=" " alt="" coords="4378,102,4531,127"/>
<area shape="poly" title=" " alt="" coords="3441,26,3615,31,3846,42,4105,62,4367,91,4391,95,4390,101,4366,97,4105,67,3845,48,3615,37,3441,31"/>
<area shape="rect" title=" " alt="" coords="5,581,168,607"/>
<area shape="poly" title=" " alt="" coords="171,536,117,574,114,570,168,531"/>
<area shape="rect" title=" " alt="" coords="191,581,382,607"/>
<area shape="poly" title=" " alt="" coords="205,531,259,570,256,574,202,536"/>
<area shape="rect" href="CodeGen_8h.html" title=" " alt="" coords="424,581,589,607"/>
<area shape="poly" title=" " alt="" coords="233,529,438,575,437,580,232,534"/>
<area shape="poly" title=" " alt="" coords="1463,118,1167,121,767,130,569,139,395,150,261,166,215,175,185,185,163,199,148,213,137,232,128,257,120,289,119,323,122,356,130,389,152,448,174,493,169,496,147,451,125,391,117,357,113,323,115,289,123,256,133,230,144,210,159,195,183,180,213,170,260,160,394,145,568,133,766,125,1167,116,1463,113"/>
<area shape="rect" href="AMDGPUCallLowering_8h.html" title="This file describes how to lower LLVM calls to machine code calls." alt="" coords="137,264,303,290"/>
<area shape="poly" title=" " alt="" coords="1463,119,1156,125,744,136,545,145,375,156,253,169,216,177,199,185,192,199,192,215,206,250,201,252,187,216,186,198,195,181,215,172,252,164,375,151,544,140,743,131,1155,119,1463,114"/>
<area shape="poly" title=" " alt="" coords="1611,116,2265,144,2614,163,2741,172,2816,180,2881,194,2944,211,3054,248,3053,253,2943,217,2879,199,2815,185,2740,177,2613,168,2264,149,1611,121"/>
<area shape="rect" title=" " alt="" coords="3399,507,3467,533"/>
<area shape="poly" title=" " alt="" coords="1611,116,2145,141,2409,160,2496,170,2538,180,2560,202,2571,226,2575,250,2576,275,2576,300,2579,324,2589,347,2608,369,2651,388,2730,409,2956,450,3201,486,3385,510,3384,516,3200,492,2955,456,2729,414,2650,393,2605,373,2585,350,2574,325,2571,300,2570,275,2570,251,2566,227,2556,205,2536,185,2496,175,2408,165,2145,146,1611,121"/>
<area shape="rect" title=" " alt="" coords="2618,345,2822,371"/>
<area shape="poly" title=" " alt="" coords="1611,116,2177,142,2460,161,2555,171,2601,180,2642,212,2674,253,2697,295,2713,330,2708,332,2693,297,2669,256,2638,216,2599,185,2554,176,2460,166,2177,148,1611,121"/>
<area shape="rect" title=" " alt="" coords="2846,345,3021,371"/>
<area shape="poly" title=" " alt="" coords="1611,115,2174,140,2467,158,2574,169,2637,180,2695,203,2737,230,2778,260,2831,295,2901,335,2898,340,2828,299,2774,264,2734,234,2693,208,2635,185,2573,174,2467,164,2173,145,1611,121"/>
<area shape="rect" href="R600FrameLowering_8h.html" title=" " alt="" coords="1002,183,1155,208"/>
<area shape="poly" title=" " alt="" coords="1467,130,1164,182,1163,177,1466,125"/>
<area shape="rect" href="R600ISelLowering_8h.html" title="R600 DAG Lowering interface definition." alt="" coords="1179,183,1317,208"/>
<area shape="poly" title=" " alt="" coords="1493,130,1307,181,1306,176,1492,125"/>
<area shape="rect" href="R600InstrInfo_8h.html" title="Interface definition for R600InstrInfo." alt="" coords="2842,264,2953,290"/>
<area shape="poly" title=" " alt="" coords="1612,116,2268,144,2604,163,2717,172,2773,180,2804,195,2832,213,2878,252,2874,256,2829,217,2801,199,2771,185,2717,177,2604,168,2268,150,1611,121"/>
<area shape="rect" href="SIFrameLowering_8h.html" title=" " alt="" coords="1341,183,1475,208"/>
<area shape="poly" title=" " alt="" coords="1519,130,1442,177,1439,172,1516,125"/>
<area shape="rect" href="SIISelLowering_8h.html" title="SI DAG Lowering interface definition." alt="" coords="1701,183,1821,208"/>
<area shape="poly" title=" " alt="" coords="1573,125,1714,175,1712,180,1571,130"/>
<area shape="poly" title=" " alt="" coords="1612,119,1676,128,1742,140,1799,158,1821,168,1835,181,1841,192,1842,203,1832,224,1812,243,1788,259,1785,254,1808,239,1827,221,1837,202,1836,193,1831,184,1818,173,1797,162,1741,145,1675,133,1611,125"/>
<area shape="rect" href="AMDGPUBaseInfo_8h.html" title=" " alt="" coords="782,426,956,452"/>
<area shape="poly" title=" " alt="" coords="1463,117,1339,119,1193,127,1122,136,1059,148,1008,164,972,185,954,205,944,226,940,247,939,269,940,317,935,343,925,372,910,396,893,417,889,414,906,393,920,369,930,342,934,317,934,269,934,246,938,224,949,202,969,181,1006,159,1058,143,1121,131,1192,122,1338,113,1463,112"/>
<area shape="rect" title=" " alt="" coords="900,507,961,533"/>
<area shape="poly" title=" " alt="" coords="1463,122,1160,145,1001,163,936,174,887,185,787,229,653,300,532,373,491,401,471,420,464,440,465,449,471,457,491,468,531,478,646,494,886,514,885,519,646,500,530,483,489,473,467,461,460,450,459,440,467,417,488,397,529,368,650,295,785,224,886,180,935,168,1000,158,1159,140,1463,117"/>
<area shape="rect" title=" " alt="" coords="1522,507,1574,533"/>
<area shape="poly" title=" " alt="" coords="1537,128,1521,169,1507,191,1488,210,1459,227,1429,232,1374,229,1348,226,1323,228,1299,237,1277,258,1272,267,1271,275,1277,296,1295,349,1315,388,1342,421,1384,457,1414,476,1446,491,1508,509,1506,514,1444,496,1411,481,1381,461,1338,425,1310,391,1290,351,1272,298,1266,276,1266,265,1272,255,1296,233,1322,223,1348,221,1374,223,1429,227,1457,222,1485,206,1503,188,1516,166,1532,126"/>
<area shape="rect" title=" " alt="" coords="2036,507,2100,533"/>
<area shape="poly" title=" " alt="" coords="1546,126,1587,195,1650,296,1721,395,1753,433,1781,457,1810,473,1841,487,1906,504,1968,514,2021,517,2021,522,1968,519,1905,510,1839,492,1808,478,1778,462,1749,436,1716,398,1646,299,1582,198,1542,129"/>
<area shape="rect" href="MachineFunction_8h.html" title=" " alt="" coords="1408,345,1626,371"/>
<area shape="poly" title=" " alt="" coords="1544,127,1557,182,1558,224,1551,265,1531,332,1526,330,1546,264,1552,223,1552,183,1539,128"/>
<area shape="rect" href="Triple_8h.html" title=" " alt="" coords="209,183,332,208"/>
<area shape="poly" title=" " alt="" coords="1463,120,996,137,676,157,347,185,346,180,676,151,996,132,1463,115"/>
<area shape="rect" href="InlineAsmLowering_8h.html" title="This file describes how to lower LLVM inline asm to machine code INLINEASM." alt="" coords="1818,256,1987,297"/>
<area shape="poly" title=" " alt="" coords="1612,121,1751,144,1814,160,1857,181,1882,209,1896,241,1891,243,1877,212,1854,185,1812,165,1750,149,1611,126"/>
<area shape="rect" href="InstructionSelector_8h.html" title=" " alt="" coords="188,419,356,459"/>
<area shape="poly" title=" " alt="" coords="1463,118,1272,121,1026,131,901,139,786,151,688,166,615,185,586,200,549,222,463,284,307,411,304,407,460,280,546,218,583,195,614,180,687,161,785,145,901,134,1025,125,1272,116,1463,113"/>
<area shape="rect" href="LegalizerInfo_8h.html" title=" " alt="" coords="1286,256,1455,297"/>
<area shape="poly" title=" " alt="" coords="1543,128,1546,166,1542,189,1533,210,1504,237,1470,256,1467,251,1501,233,1528,207,1537,188,1540,166,1537,128"/>
<area shape="rect" href="RegisterBankInfo_8h.html" title=" " alt="" coords="2530,419,2699,459"/>
<area shape="poly" title=" " alt="" coords="1611,116,2128,141,2382,160,2466,170,2506,180,2528,202,2540,223,2545,245,2547,268,2549,316,2554,342,2565,369,2589,406,2585,409,2560,372,2549,343,2544,317,2542,268,2540,246,2535,225,2523,205,2504,185,2465,175,2382,165,2128,146,1611,121"/>
<area shape="rect" href="SelectionDAGTargetInfo_8h.html" title=" " alt="" coords="481,419,708,459"/>
<area shape="poly" title=" " alt="" coords="1463,122,1338,130,1188,143,1046,161,989,172,946,185,896,208,847,235,756,297,680,359,625,410,622,406,677,355,753,292,844,230,894,203,944,180,988,167,1046,156,1187,138,1337,125,1463,117"/>
<area shape="rect" href="MCInstrItineraries_8h.html" title=" " alt="" coords="356,183,545,208"/>
<area shape="poly" title=" " alt="" coords="1463,123,1078,147,564,185,560,186,560,180,564,180,1078,142,1463,117"/>
<area shape="poly" title=" " alt="" coords="1463,122,1334,130,1185,144,1058,162,1015,173,992,185,982,199,976,215,976,247,989,280,1013,312,1043,343,1076,372,1138,416,1135,420,1073,376,1039,347,1009,316,985,282,971,248,971,214,977,197,989,181,1013,168,1057,157,1185,138,1333,125,1463,117"/>
<area shape="poly" title=" " alt="" coords="217,291,197,346,178,419,177,439,178,459,183,493,178,493,173,460,172,439,173,418,192,344,212,289"/>
<area shape="rect" href="llvm_2Support_2DataTypes_8h.html" title=" " alt="" coords="3458,345,3630,371"/>
<area shape="poly" title=" " alt="" coords="3224,295,3464,339,3463,344,3223,300"/>
<area shape="poly" title=" " alt="" coords="3232,282,3764,315,4003,332,4108,343,4135,377,4137,391,4130,403,4089,426,4009,462,3964,476,3904,488,3756,505,3602,516,3482,520,3482,515,3602,510,3755,500,3903,483,3963,471,4007,457,4087,422,4126,399,4132,390,4130,380,4105,347,4003,337,3763,320,3232,287"/>
<area shape="rect" title=" " alt="" coords="1940,426,2137,452"/>
<area shape="poly" title=" " alt="" coords="3157,295,3182,311,3202,330,3212,351,3211,362,3204,373,3185,381,3148,387,3029,398,2682,411,2148,421,2115,426,2114,421,2148,416,2682,406,3029,393,3148,382,3184,376,3201,369,3206,360,3207,352,3198,333,3178,315,3154,300"/>
<area shape="rect" title=" " alt="" coords="3265,345,3433,371"/>
<area shape="poly" title=" " alt="" coords="3176,295,3300,337,3299,342,3174,300"/>
<area shape="rect" title=" " alt="" coords="2269,345,2443,371"/>
<area shape="poly" title=" " alt="" coords="3002,295,2965,300,2457,350,2457,345,2965,294,3002,290"/>
<area shape="rect" title=" " alt="" coords="3045,345,3190,371"/>
<area shape="poly" title=" " alt="" coords="3120,297,3120,330,3115,330,3115,297"/>
<area shape="poly" title=" " alt="" coords="3018,300,2796,344,2795,339,3017,295"/>
<area shape="poly" title=" " alt="" coords="3072,300,2976,341,2974,336,3070,295"/>
<area shape="poly" title=" " alt="" coords="2932,288,3071,337,3069,342,2930,293"/>
<area shape="poly" title=" " alt="" coords="1762,209,1755,249,1750,248,1757,208"/>
<area shape="poly" title=" " alt="" coords="1782,287,1807,294,1893,308,2011,322,2255,345,2254,351,2011,327,1892,313,1806,300,1780,293"/>
<area shape="rect" href="AMDGPUInstrInfo_8h.html" title="Contains the definition of a TargetInstrInfo class that is common to all AMD GPUs." alt="" coords="772,345,911,371"/>
<area shape="poly" title=" " alt="" coords="1701,285,926,352,925,347,1701,279"/>
<area shape="poly" title=" " alt="" coords="1701,285,1504,308,1378,326,1251,348,1073,387,927,424,926,419,1072,381,1250,342,1377,321,1504,303,1700,280"/>
<area shape="rect" href="SIDefines_8h.html" title=" " alt="" coords="1300,507,1390,533"/>
<area shape="poly" title=" " alt="" coords="1701,284,1624,291,1533,303,1451,322,1419,333,1398,347,1373,380,1357,420,1350,459,1347,493,1342,493,1345,459,1352,418,1368,378,1394,343,1417,329,1449,316,1532,298,1623,285,1701,278"/>
<area shape="poly" title=" " alt="" coords="1701,289,1309,358,1110,397,1013,421,982,452,949,497,945,494,978,449,1011,416,1109,391,1308,353,1700,283"/>
<area shape="rect" href="SIRegisterInfo_8h.html" title="Interface definition for SIRegisterInfo." alt="" coords="1752,345,1869,371"/>
<area shape="poly" title=" " alt="" coords="1759,288,1794,331,1790,335,1755,292"/>
<area shape="rect" href="ArrayRef_8h.html" title=" " alt="" coords="2160,426,2304,452"/>
<area shape="poly" title=" " alt="" coords="1782,288,1807,294,1860,303,1906,306,1987,303,2026,303,2066,308,2109,320,2157,343,2177,357,2195,375,2221,411,2216,414,2191,378,2174,361,2154,347,2107,325,2065,313,2025,308,1987,308,1906,311,1859,309,1806,300,1781,293"/>
<area shape="poly" title=" " alt="" coords="1745,291,1735,328,1735,350,1742,369,1768,403,1800,431,1837,454,1876,473,1955,498,2021,511,2020,516,1953,503,1874,478,1834,459,1797,435,1764,407,1737,372,1730,350,1730,327,1740,289"/>
<area shape="rect" href="SetVector_8h.html" title=" " alt="" coords="1995,345,2143,371"/>
<area shape="poly" title=" " alt="" coords="1784,287,1807,294,1995,339,1993,344,1806,300,1782,293"/>
<area shape="poly" title=" " alt="" coords="1713,293,1567,342,1565,337,1711,288"/>
<area shape="poly" title=" " alt="" coords="771,368,631,387,550,402,470,421,419,440,369,462,241,505,239,500,367,457,417,435,468,416,549,397,630,382,771,363"/>
<area shape="poly" title=" " alt="" coords="848,370,863,411,858,413,843,372"/>
<area shape="poly" title=" " alt="" coords="782,454,720,462,247,515,247,510,720,457,781,449"/>
<area shape="poly" title=" " alt="" coords="943,450,1286,506,1285,512,942,455"/>
<area shape="poly" title=" " alt="" coords="881,451,914,494,910,497,876,454"/>
<area shape="poly" title=" " alt="" coords="957,448,1507,511,1507,517,957,453"/>
<area shape="poly" title=" " alt="" coords="1846,369,1991,418,1989,423,1845,374"/>
<area shape="poly" title=" " alt="" coords="1774,374,1631,421,1394,504,1392,499,1630,416,1772,369"/>
<area shape="poly" title=" " alt="" coords="2304,442,2519,457,3385,513,3384,518,2518,462,2304,448"/>
<area shape="poly" title=" " alt="" coords="2208,455,2107,503,2105,498,2205,450"/>
<area shape="poly" title=" " alt="" coords="2095,369,2195,417,2193,422,2093,374"/>
<area shape="poly" title=" " alt="" coords="2001,374,1961,391,1944,404,1930,420,1923,439,1930,458,1948,478,1971,493,2022,510,2020,515,1969,497,1945,482,1926,461,1918,439,1926,417,1940,400,1958,387,1999,369"/>
<area shape="poly" title=" " alt="" coords="1556,369,1717,414,1822,438,1928,457,2065,471,2247,483,2681,500,3103,511,3385,516,3385,521,3103,516,2681,506,2247,488,2065,476,1927,462,1821,443,1716,419,1555,374"/>
<area shape="poly" title=" " alt="" coords="1408,370,1219,390,1132,405,1070,421,960,500,957,496,1068,416,1131,399,1218,385,1408,365"/>
<area shape="poly" title=" " alt="" coords="1522,371,1545,492,1540,493,1517,372"/>
<area shape="poly" title=" " alt="" coords="1627,362,1867,381,2009,396,2150,416,2170,420,2169,425,2149,421,2008,402,1867,386,1627,368"/>
<area shape="poly" title=" " alt="" coords="1533,369,1596,413,1638,437,1682,457,1774,483,1868,501,1953,510,2021,515,2021,520,1953,516,1867,506,1773,489,1680,462,1635,442,1593,417,1530,373"/>
<area shape="poly" title=" " alt="" coords="1988,285,2111,307,2165,323,2202,343,2214,358,2223,376,2232,411,2227,413,2218,378,2210,361,2198,347,2163,328,2110,313,1987,290"/>
<area shape="poly" title=" " alt="" coords="357,448,425,457,886,511,885,516,425,462,356,454"/>
<area shape="poly" title=" " alt="" coords="1286,284,1141,291,976,304,835,322,787,334,762,347,750,364,744,388,749,419,773,458,796,480,825,495,856,506,886,512,885,517,855,511,823,500,793,484,768,461,744,420,739,387,745,362,758,343,785,329,834,317,976,299,1141,286,1286,278"/>
<area shape="poly" title=" " alt="" coords="1362,298,1350,333,1349,352,1354,370,1368,393,1385,414,1426,451,1470,479,1509,500,1507,505,1467,484,1423,455,1381,418,1364,396,1349,372,1344,352,1345,332,1357,297"/>
<area shape="poly" title=" " alt="" coords="1374,297,1380,333,1387,352,1398,369,1421,393,1442,410,1486,430,1598,457,1716,483,1834,500,1940,510,2021,515,2021,520,1940,515,1833,505,1715,488,1597,462,1484,435,1440,414,1417,397,1394,372,1382,355,1375,335,1368,298"/>
<area shape="poly" title=" " alt="" coords="1408,295,1483,335,1481,340,1406,300"/>
<area shape="poly" title=" " alt="" coords="2699,454,2718,457,2910,479,3101,495,3384,514,3384,519,3100,501,2910,484,2717,462,2699,459"/>
<area shape="poly" title=" " alt="" coords="2530,459,2512,462,2290,494,2115,516,2114,511,2289,489,2511,457,2530,454"/>
<area shape="poly" title=" " alt="" coords="586,461,523,569,519,566,581,458"/>
<area shape="poly" title=" " alt="" coords="709,451,771,457,1087,482,1403,505,1507,513,1506,518,1402,510,1086,487,770,462,708,456"/>
<area shape="poly" title=" " alt="" coords="1133,455,976,507,974,502,1132,450"/>
<area shape="poly" title=" " alt="" coords="1258,445,2021,512,2021,517,1258,451"/>
<area shape="poly" title=" " alt="" coords="2494,203,2965,254,2988,256,2988,262,2965,259,2494,208"/>
<area shape="poly" title=" " alt="" coords="2327,202,2092,218,1949,235,1807,259,1796,262,1794,257,1806,254,1948,229,2091,213,2327,197"/>
<area shape="poly" title=" " alt="" coords="2373,212,2203,268,1984,347,1926,373,1738,449,1589,506,1587,501,1736,444,1924,368,1981,343,2201,262,2371,206"/>
<area shape="poly" title=" " alt="" coords="2329,212,2223,231,2107,259,2053,278,1999,300,1866,343,1864,338,1998,294,2051,273,2106,254,2222,226,2329,206"/>
<area shape="poly" title=" " alt="" coords="2494,196,2824,212,3033,229,3244,254,3447,293,3578,322,3623,334,3644,343,3651,358,3644,373,3621,382,3574,390,3425,402,3222,409,2991,414,2552,418,2323,421,2296,425,2295,420,2322,416,2552,412,2991,408,3222,404,3425,397,3574,385,3619,377,3641,369,3645,358,3641,347,3621,339,3577,327,3446,298,3243,259,3033,234,2823,217,2494,201"/>
<area shape="poly" title=" " alt="" coords="2422,208,2440,238,2458,279,2467,326,2465,350,2457,372,2426,414,2387,447,2342,472,2293,491,2244,505,2196,514,2115,521,2114,516,2195,508,2243,500,2292,486,2340,467,2384,442,2422,410,2452,369,2460,348,2462,326,2453,281,2435,240,2417,210"/>
<area shape="poly" title=" " alt="" coords="2229,130,2134,203,2000,299,1882,373,1832,390,1791,397,1750,404,1701,421,1631,460,1575,500,1572,496,1628,456,1699,416,1749,399,1790,392,1831,385,1880,368,1997,295,2130,198,2226,125"/>
<area shape="poly" title=" " alt="" coords="4288,128,4288,275,4288,359,4284,388,4272,410,4255,424,4233,435,4178,447,4116,462,4061,475,3986,486,3806,504,3622,514,3482,520,3482,515,3622,509,3806,498,3986,481,4060,470,4115,457,4177,442,4231,429,4252,420,4268,406,4279,387,4283,359,4283,275,4283,128"/>
<area shape="poly" title=" " alt="" coords="4005,371,4004,415,3997,440,3982,461,3954,474,3905,484,3765,501,3609,513,3482,519,3482,514,3608,507,3765,496,3904,479,3952,469,3978,457,3992,438,3999,414,4000,371"/>
<area shape="poly" title=" " alt="" coords="3908,369,3839,373,3549,379,3177,382,2985,385,2805,392,2646,403,2519,421,2488,430,2466,441,2442,452,2411,462,2336,474,2236,485,1996,502,1589,520,1589,515,1996,497,2236,480,2335,469,2410,457,2440,447,2463,436,2487,425,2518,416,2646,398,2805,386,2985,380,3176,376,3549,374,3838,368,3907,364"/>
<area shape="poly" title=" " alt="" coords="3908,366,3737,373,3368,385,3080,391,2793,400,2424,421,2318,431,2318,425,2424,416,2793,395,3080,386,3368,380,3737,368,3908,361"/>
<area shape="poly" title=" " alt="" coords="3994,373,3954,419,3924,443,3890,462,3859,468,3800,474,3615,485,3074,503,2115,521,2115,516,3074,497,3615,480,3800,469,3858,463,3888,457,3921,439,3950,415,3990,370"/>
<area shape="poly" title=" " alt="" coords="3908,365,3643,373,1273,438,1272,432,3642,368,3907,360"/>
<area shape="poly" title=" " alt="" coords="3654,207,3690,225,3706,238,3719,255,3733,288,3734,319,3721,347,3696,373,3662,388,3609,399,3540,406,3456,411,3257,413,3034,410,2610,403,2452,407,2397,412,2361,421,2348,430,2340,441,2331,452,2317,462,2259,468,2126,475,1722,493,976,520,976,515,1722,488,2126,470,2259,463,2315,457,2328,448,2336,437,2344,426,2359,416,2396,407,2452,401,2610,397,3034,405,3257,408,3455,406,3539,401,3609,394,3661,383,3693,368,3717,344,3729,318,3728,289,3715,258,3703,242,3687,229,3651,211"/>
<area shape="poly" title=" " alt="" coords="3706,204,3752,222,3773,236,3790,255,3808,285,3815,315,3809,344,3789,373,3765,383,3717,390,3560,400,3348,406,3106,408,2649,410,2488,414,2411,421,2397,430,2387,441,2377,452,2361,462,2313,472,2231,482,2006,499,1589,520,1589,515,2005,494,2230,477,2312,467,2359,457,2374,448,2383,437,2393,426,2410,416,2488,409,2648,405,3106,403,3348,400,3560,395,3716,385,3764,377,3786,369,3804,342,3810,315,3803,287,3786,258,3769,240,3750,227,3704,209"/>
<area shape="poly" title=" " alt="" coords="3639,207,3670,226,3684,239,3696,255,3707,289,3706,320,3692,348,3665,373,3640,381,3592,387,3439,398,2998,410,2555,416,2323,421,2296,425,2295,420,2322,416,2555,411,2998,405,3439,392,3591,382,3639,376,3663,368,3688,345,3701,319,3702,290,3691,258,3680,243,3667,230,3636,211"/>
<area shape="poly" title=" " alt="" coords="3700,206,3785,225,3819,238,3840,255,3859,285,3866,315,3860,344,3840,372,3825,385,3803,396,3742,417,3658,435,3557,451,3312,477,3033,496,2747,508,2481,516,2115,521,2115,516,2481,510,2747,503,3033,490,3311,472,3556,446,3657,430,3740,412,3801,391,3822,380,3837,369,3855,342,3860,315,3854,287,3837,258,3816,243,3783,230,3699,212"/>
<area shape="poly" title=" " alt="" coords="3688,206,3802,228,3854,241,3890,254,3918,271,3944,291,3984,332,3980,335,3940,295,3915,275,3888,259,3852,246,3801,233,3687,212"/>
<area shape="poly" title=" " alt="" coords="3606,210,3592,244,3587,242,3601,208"/>
<area shape="poly" title=" " alt="" coords="3473,287,3244,300,2821,316,2492,324,2163,333,1740,348,1641,352,1641,347,1740,342,2163,327,2492,319,2821,310,3244,294,3473,282"/>
<area shape="poly" title=" " alt="" coords="4086,206,4122,225,4138,238,4151,255,4166,286,4172,316,4171,345,4163,372,4148,397,4128,421,4103,442,4073,462,4024,481,3957,496,3876,507,3789,514,3616,521,3482,522,3482,517,3616,516,3789,509,3876,501,3956,491,4022,476,4071,457,4100,438,4124,417,4144,394,4158,370,4166,344,4167,317,4161,288,4147,258,4135,242,4119,229,4084,211"/>
<area shape="poly" title=" " alt="" coords="3971,212,3696,258,3695,253,3970,206"/>
<area shape="poly" title=" " alt="" coords="3478,135,3486,170,3502,207,3518,227,3538,245,3534,249,3515,231,3498,210,3481,171,3473,136"/>
<area shape="poly" title=" " alt="" coords="3892,206,3976,228,4019,243,4058,261,4091,283,4112,309,4118,323,4120,339,4117,355,4109,372,4092,396,4075,414,4057,427,4037,437,3993,449,3938,462,3890,470,3818,478,3615,491,3061,509,2490,518,2115,521,2115,516,2490,513,3061,504,3614,486,3818,473,3890,465,3937,457,3991,444,4035,432,4054,423,4071,410,4088,393,4104,369,4112,353,4114,338,4113,324,4108,311,4087,287,4056,266,4017,248,3974,233,3890,212"/>
<area shape="poly" title=" " alt="" coords="3786,211,3653,254,3651,249,3784,206"/>
</map>
</div>
</div>
<p><a href="GCNRegBankReassign_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad78e062f62e0d6e453941fb4ca843e4d" id="r_ad78e062f62e0d6e453941fb4ca843e4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>&#160;&#160;&#160;&quot;amdgpu-<a class="el" href="classllvm_1_1ilist__node__impl.html">regbanks</a>-<a class="el" href="classllvm_1_1ilist__node__impl.html">reassign&quot;</a></td></tr>
<tr class="separator:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed952294a637dc4604987ce7eb3159e0" id="r_aed952294a637dc4604987ce7eb3159e0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aed952294a637dc4604987ce7eb3159e0">NUM_VGPR_BANKS</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:aed952294a637dc4604987ce7eb3159e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab093f2c493ba38dcda8fc710e5ec4777" id="r_ab093f2c493ba38dcda8fc710e5ec4777"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab093f2c493ba38dcda8fc710e5ec4777">NUM_SGPR_BANKS</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:ab093f2c493ba38dcda8fc710e5ec4777"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af39511c5407cc365b3fbf39f78cc41bf" id="r_af39511c5407cc365b3fbf39f78cc41bf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af39511c5407cc365b3fbf39f78cc41bf">NUM_BANKS</a>&#160;&#160;&#160;(<a class="el" href="#aed952294a637dc4604987ce7eb3159e0">NUM_VGPR_BANKS</a> + <a class="el" href="#ab093f2c493ba38dcda8fc710e5ec4777">NUM_SGPR_BANKS</a>)</td></tr>
<tr class="separator:af39511c5407cc365b3fbf39f78cc41bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a863b897a62ed220f4700fb992dd91b1f" id="r_a863b897a62ed220f4700fb992dd91b1f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a863b897a62ed220f4700fb992dd91b1f">SGPR_BANK_OFFSET</a>&#160;&#160;&#160;<a class="el" href="#aed952294a637dc4604987ce7eb3159e0">NUM_VGPR_BANKS</a></td></tr>
<tr class="separator:a863b897a62ed220f4700fb992dd91b1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d4a8e139fd1b098b06ba7eed60eed4f" id="r_a4d4a8e139fd1b098b06ba7eed60eed4f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4d4a8e139fd1b098b06ba7eed60eed4f">VGPR_BANK_MASK</a>&#160;&#160;&#160;0xf</td></tr>
<tr class="separator:a4d4a8e139fd1b098b06ba7eed60eed4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f2600a538544c765010654172339688" id="r_a4f2600a538544c765010654172339688"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4f2600a538544c765010654172339688">SGPR_BANK_MASK</a>&#160;&#160;&#160;0xff0</td></tr>
<tr class="separator:a4f2600a538544c765010654172339688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c27d76ae430c8f91a03f611ba1c4e01" id="r_a7c27d76ae430c8f91a03f611ba1c4e01"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7c27d76ae430c8f91a03f611ba1c4e01">SGPR_BANK_SHIFTED_MASK</a>&#160;&#160;&#160;(<a class="el" href="#a4f2600a538544c765010654172339688">SGPR_BANK_MASK</a> &gt;&gt; <a class="el" href="#a863b897a62ed220f4700fb992dd91b1f">SGPR_BANK_OFFSET</a>)</td></tr>
<tr class="separator:a7c27d76ae430c8f91a03f611ba1c4e01"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6e0c631cc8dd34b9ac6b7af7a5b72dde" id="r_a6e0c631cc8dd34b9ac6b7af7a5b72dde"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6e0c631cc8dd34b9ac6b7af7a5b72dde">STATISTIC</a> (<a class="el" href="classllvm_1_1ilist__node__impl.html">NumStallsDetected</a>, &quot;Number <a class="el" href="classllvm_1_1ilist__node__impl.html">of</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">operand</a> read <a class="el" href="classllvm_1_1ilist__node__impl.html">stalls</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">detected&quot;</a>)</td></tr>
<tr class="separator:a6e0c631cc8dd34b9ac6b7af7a5b72dde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66d67ecf1a420dd1fbea4dec3c854182" id="r_a66d67ecf1a420dd1fbea4dec3c854182"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a66d67ecf1a420dd1fbea4dec3c854182">STATISTIC</a> (<a class="el" href="classllvm_1_1ilist__node__impl.html">NumStallsRecovered</a>, &quot;Number <a class="el" href="classllvm_1_1ilist__node__impl.html">of</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">operand</a> read <a class="el" href="classllvm_1_1ilist__node__impl.html">stalls</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">recovered&quot;</a>)</td></tr>
<tr class="separator:a66d67ecf1a420dd1fbea4dec3c854182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56bf14ac3c42c5de63c7871e3cc138fa" id="r_a56bf14ac3c42c5de63c7871e3cc138fa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a56bf14ac3c42c5de63c7871e3cc138fa">INITIALIZE_PASS_BEGIN</a> (GCNRegBankReassign, <a class="el" href="BlockFrequencyInfoImpl_8h.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, &quot;GCN RegBank <a class="el" href="classllvm_1_1ilist__node__impl.html">Reassign&quot;</a>, false, false) <a class="el" href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a>(GCNRegBankReassign</td></tr>
<tr class="separator:a56bf14ac3c42c5de63c7871e3cc138fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7fe5453609418fa5173dc0a43ca0b2c0" id="r_a7fe5453609418fa5173dc0a43ca0b2c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1ilist__node__impl.html">static</a> <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7fe5453609418fa5173dc0a43ca0b2c0">VerifyStallCycles</a> (&quot;amdgpu-<a class="el" href="PPCCTRLoops_8cpp.html#a593cc2f204f7b2edc16ee222c37c3196">verify</a>-<a class="el" href="classllvm_1_1ilist__node__impl.html">regbanks</a>-<a class="el" href="classllvm_1_1ilist__node__impl.html">reassign&quot;</a>, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Verify <a class="el" href="classllvm_1_1ilist__node__impl.html">stall</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">cycles</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">in</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">the</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">regbanks</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">reassign</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">pass&quot;</a>), <a class="el" href="structllvm_1_1cl_1_1value__desc.html">cl::value_desc</a>(&quot;0|1|2&quot;), cl::init(0), cl::Hidden)</td></tr>
<tr class="separator:a7fe5453609418fa5173dc0a43ca0b2c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a030569d5a541b6110f2ae1b6a3413a58" id="r_a030569d5a541b6110f2ae1b6a3413a58"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a030569d5a541b6110f2ae1b6a3413a58">DEBUG_TYPE</a></td></tr>
<tr class="separator:a030569d5a541b6110f2ae1b6a3413a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace9eec2f8c3d354f78b96a4b49e2e06c" id="r_ace9eec2f8c3d354f78b96a4b49e2e06c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1ilist__node__impl.html">GCN</a> RegBank&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ace9eec2f8c3d354f78b96a4b49e2e06c">Reassign</a></td></tr>
<tr class="separator:ace9eec2f8c3d354f78b96a4b49e2e06c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b50c71e9d5b24bd303885020e3b709a" id="r_a0b50c71e9d5b24bd303885020e3b709a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1ilist__node__impl.html">GCN</a> RegBank&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b50c71e9d5b24bd303885020e3b709a">false</a></td></tr>
<tr class="separator:a0b50c71e9d5b24bd303885020e3b709a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Try to reassign registers on GFX10+ to reduce register bank conflicts. </p>
<p>On GFX10 registers are organized in banks. VGPRs have 4 banks assigned in a round-robin fashion: v0, v4, v8... belong to bank 0. v1, v5, v9... to bank 1, etc. SGPRs have 8 banks and allocated in pairs, so that s0:s1, s16:s17, s32:s33 are at bank 0. s2:s3, s18:s19, s34:s35 are at bank 1 etc.</p>
<p>The shader can read one dword from each of these banks once per cycle. If an instruction has to read more register operands from the same bank an additional cycle is needed. HW attempts to pre-load registers through input operand gathering, but a stall cycle may occur if that fails. For example V_FMA_F32 V111 = V0 + V4 * V8 will need 3 cycles to read operands, potentially incuring 2 stall cycles.</p>
<p>The pass tries to reassign registers to reduce bank conflicts.</p>
<p>In this pass bank numbers 0-3 are VGPR banks and 4-11 are SGPR banks, so that 4 has to be subtracted from an SGPR bank number to get the real value. This also corresponds to bit numbers in bank masks used in the pass. </p>

<p class="definition">Definition in file <a class="el" href="GCNRegBankReassign_8cpp_source.html">GCNRegBankReassign.cpp</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad78e062f62e0d6e453941fb4ca843e4d" name="ad78e062f62e0d6e453941fb4ca843e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad78e062f62e0d6e453941fb4ca843e4d">&#9670;&#160;</a></span>DEBUG_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_TYPE&#160;&#160;&#160;&quot;amdgpu-<a class="el" href="classllvm_1_1ilist__node__impl.html">regbanks</a>-<a class="el" href="classllvm_1_1ilist__node__impl.html">reassign&quot;</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GCNRegBankReassign_8cpp_source.html#l00056">56</a> of file <a class="el" href="GCNRegBankReassign_8cpp_source.html">GCNRegBankReassign.cpp</a>.</p>

</div>
</div>
<a id="af39511c5407cc365b3fbf39f78cc41bf" name="af39511c5407cc365b3fbf39f78cc41bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af39511c5407cc365b3fbf39f78cc41bf">&#9670;&#160;</a></span>NUM_BANKS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUM_BANKS&#160;&#160;&#160;(<a class="el" href="#aed952294a637dc4604987ce7eb3159e0">NUM_VGPR_BANKS</a> + <a class="el" href="#ab093f2c493ba38dcda8fc710e5ec4777">NUM_SGPR_BANKS</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GCNRegBankReassign_8cpp_source.html#l00060">60</a> of file <a class="el" href="GCNRegBankReassign_8cpp_source.html">GCNRegBankReassign.cpp</a>.</p>

</div>
</div>
<a id="ab093f2c493ba38dcda8fc710e5ec4777" name="ab093f2c493ba38dcda8fc710e5ec4777"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab093f2c493ba38dcda8fc710e5ec4777">&#9670;&#160;</a></span>NUM_SGPR_BANKS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUM_SGPR_BANKS&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GCNRegBankReassign_8cpp_source.html#l00059">59</a> of file <a class="el" href="GCNRegBankReassign_8cpp_source.html">GCNRegBankReassign.cpp</a>.</p>

</div>
</div>
<a id="aed952294a637dc4604987ce7eb3159e0" name="aed952294a637dc4604987ce7eb3159e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed952294a637dc4604987ce7eb3159e0">&#9670;&#160;</a></span>NUM_VGPR_BANKS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUM_VGPR_BANKS&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GCNRegBankReassign_8cpp_source.html#l00058">58</a> of file <a class="el" href="GCNRegBankReassign_8cpp_source.html">GCNRegBankReassign.cpp</a>.</p>

</div>
</div>
<a id="a4f2600a538544c765010654172339688" name="a4f2600a538544c765010654172339688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f2600a538544c765010654172339688">&#9670;&#160;</a></span>SGPR_BANK_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SGPR_BANK_MASK&#160;&#160;&#160;0xff0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GCNRegBankReassign_8cpp_source.html#l00063">63</a> of file <a class="el" href="GCNRegBankReassign_8cpp_source.html">GCNRegBankReassign.cpp</a>.</p>

</div>
</div>
<a id="a863b897a62ed220f4700fb992dd91b1f" name="a863b897a62ed220f4700fb992dd91b1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a863b897a62ed220f4700fb992dd91b1f">&#9670;&#160;</a></span>SGPR_BANK_OFFSET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SGPR_BANK_OFFSET&#160;&#160;&#160;<a class="el" href="#aed952294a637dc4604987ce7eb3159e0">NUM_VGPR_BANKS</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GCNRegBankReassign_8cpp_source.html#l00061">61</a> of file <a class="el" href="GCNRegBankReassign_8cpp_source.html">GCNRegBankReassign.cpp</a>.</p>

</div>
</div>
<a id="a7c27d76ae430c8f91a03f611ba1c4e01" name="a7c27d76ae430c8f91a03f611ba1c4e01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c27d76ae430c8f91a03f611ba1c4e01">&#9670;&#160;</a></span>SGPR_BANK_SHIFTED_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SGPR_BANK_SHIFTED_MASK&#160;&#160;&#160;(<a class="el" href="#a4f2600a538544c765010654172339688">SGPR_BANK_MASK</a> &gt;&gt; <a class="el" href="#a863b897a62ed220f4700fb992dd91b1f">SGPR_BANK_OFFSET</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GCNRegBankReassign_8cpp_source.html#l00064">64</a> of file <a class="el" href="GCNRegBankReassign_8cpp_source.html">GCNRegBankReassign.cpp</a>.</p>

</div>
</div>
<a id="a4d4a8e139fd1b098b06ba7eed60eed4f" name="a4d4a8e139fd1b098b06ba7eed60eed4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d4a8e139fd1b098b06ba7eed60eed4f">&#9670;&#160;</a></span>VGPR_BANK_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VGPR_BANK_MASK&#160;&#160;&#160;0xf</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GCNRegBankReassign_8cpp_source.html#l00062">62</a> of file <a class="el" href="GCNRegBankReassign_8cpp_source.html">GCNRegBankReassign.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a56bf14ac3c42c5de63c7871e3cc138fa" name="a56bf14ac3c42c5de63c7871e3cc138fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56bf14ac3c42c5de63c7871e3cc138fa">&#9670;&#160;</a></span>INITIALIZE_PASS_BEGIN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INITIALIZE_PASS_BEGIN </td>
          <td>(</td>
          <td class="paramtype">GCNRegBankReassign</td>          <td class="paramname"><span class="paramname">, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="BlockFrequencyInfoImpl_8h.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a></td>          <td class="paramname"><span class="paramname">, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;GCN RegBank <a class="el" href="classllvm_1_1ilist__node__impl.html">Reassign&quot;</a></td>          <td class="paramname"><span class="paramname">, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">false</td>          <td class="paramname"><span class="paramname">, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">false</td>          <td class="paramname"><span class="paramname"></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6e0c631cc8dd34b9ac6b7af7a5b72dde" name="a6e0c631cc8dd34b9ac6b7af7a5b72dde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e0c631cc8dd34b9ac6b7af7a5b72dde">&#9670;&#160;</a></span>STATISTIC() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ilist__node__impl.html">NumStallsDetected</a></td>          <td class="paramname"><span class="paramname">, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number <a class="el" href="classllvm_1_1ilist__node__impl.html">of</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">operand</a> read <a class="el" href="classllvm_1_1ilist__node__impl.html">stalls</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">detected&quot;</a></td>          <td class="paramname"><span class="paramname"></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a66d67ecf1a420dd1fbea4dec3c854182" name="a66d67ecf1a420dd1fbea4dec3c854182"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66d67ecf1a420dd1fbea4dec3c854182">&#9670;&#160;</a></span>STATISTIC() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ilist__node__impl.html">NumStallsRecovered</a></td>          <td class="paramname"><span class="paramname">, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number <a class="el" href="classllvm_1_1ilist__node__impl.html">of</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">operand</a> read <a class="el" href="classllvm_1_1ilist__node__impl.html">stalls</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">recovered&quot;</a></td>          <td class="paramname"><span class="paramname"></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00104">SubReg</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a030569d5a541b6110f2ae1b6a3413a58" name="a030569d5a541b6110f2ae1b6a3413a58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a030569d5a541b6110f2ae1b6a3413a58">&#9670;&#160;</a></span>DEBUG_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEBUG_TYPE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GCNRegBankReassign_8cpp_source.html#l00272">272</a> of file <a class="el" href="GCNRegBankReassign_8cpp_source.html">GCNRegBankReassign.cpp</a>.</p>

</div>
</div>
<a id="a0b50c71e9d5b24bd303885020e3b709a" name="a0b50c71e9d5b24bd303885020e3b709a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b50c71e9d5b24bd303885020e3b709a">&#9670;&#160;</a></span>false</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1ilist__node__impl.html">GCN</a> RegBank false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GCNRegBankReassign_8cpp_source.html#l00273">273</a> of file <a class="el" href="GCNRegBankReassign_8cpp_source.html">GCNRegBankReassign.cpp</a>.</p>

</div>
</div>
<a id="ace9eec2f8c3d354f78b96a4b49e2e06c" name="ace9eec2f8c3d354f78b96a4b49e2e06c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace9eec2f8c3d354f78b96a4b49e2e06c">&#9670;&#160;</a></span>Reassign</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1ilist__node__impl.html">GCN</a> RegBank Reassign</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GCNRegBankReassign_8cpp_source.html#l00272">272</a> of file <a class="el" href="GCNRegBankReassign_8cpp_source.html">GCNRegBankReassign.cpp</a>.</p>

</div>
</div>
<a id="a7fe5453609418fa5173dc0a43ca0b2c0" name="a7fe5453609418fa5173dc0a43ca0b2c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fe5453609418fa5173dc0a43ca0b2c0">&#9670;&#160;</a></span>VerifyStallCycles</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt; VerifyStallCycles(&quot;amdgpu-<a class="el" href="PPCCTRLoops_8cpp.html#a593cc2f204f7b2edc16ee222c37c3196">verify</a>-<a class="el" href="classllvm_1_1ilist__node__impl.html">regbanks</a>-<a class="el" href="classllvm_1_1ilist__node__impl.html">reassign&quot;</a>, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Verify <a class="el" href="classllvm_1_1ilist__node__impl.html">stall</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">cycles</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">in</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">the</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">regbanks</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">reassign</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">pass&quot;</a>), <a class="el" href="structllvm_1_1cl_1_1value__desc.html">cl::value_desc</a>(&quot;0|1|2&quot;), cl::init(0), cl::Hidden) </td>
          <td>(</td>
          <td class="paramtype">&quot;amdgpu-<a class="el" href="PPCCTRLoops_8cpp.html#a593cc2f204f7b2edc16ee222c37c3196">verify</a>-<a class="el" href="classllvm_1_1ilist__node__impl.html">regbanks</a>-<a class="el" href="classllvm_1_1ilist__node__impl.html">reassign&quot;</a></td>          <td class="paramname"><span class="paramname">, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Verify <a class="el" href="classllvm_1_1ilist__node__impl.html">stall</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">cycles</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">in</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">the</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">regbanks</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">reassign</a> <a class="el" href="classllvm_1_1ilist__node__impl.html">pass&quot;</a>)</td>          <td class="paramname"><span class="paramname">, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structllvm_1_1cl_1_1value__desc.html">cl::value_desc</a>(&quot;0|1|2&quot;)</td>          <td class="paramname"><span class="paramname">, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::init(0)</td>          <td class="paramname"><span class="paramname">, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::Hidden</td>          <td class="paramname"><span class="paramname"></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Feb 20 2024 14:02:21 for LLVM by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
