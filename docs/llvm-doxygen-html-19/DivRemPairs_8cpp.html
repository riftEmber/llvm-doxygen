<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/Scalar/DivRemPairs.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LLVM<span id="projectnumber">&#160;19.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',false);
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_e6e1f1f37d351595fa984b942927b205.html">Scalar</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">DivRemPairs.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="DivRemPairs_8h_source.html">llvm/Transforms/Scalar/DivRemPairs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="DenseMap_8h_source.html">llvm/ADT/DenseMap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MapVector_8h_source.html">llvm/ADT/MapVector.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Statistic_8h_source.html">llvm/ADT/Statistic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="GlobalsModRef_8h_source.html">llvm/Analysis/GlobalsModRef.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="TargetTransformInfo_8h_source.html">llvm/Analysis/TargetTransformInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ValueTracking_8h_source.html">llvm/Analysis/ValueTracking.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Dominators_8h_source.html">llvm/IR/Dominators.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Function_8h_source.html">llvm/IR/Function.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="PatternMatch_8h_source.html">llvm/IR/PatternMatch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="DebugCounter_8h_source.html">llvm/Support/DebugCounter.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="BypassSlowDivision_8h_source.html">llvm/Transforms/Utils/BypassSlowDivision.h</a>&quot;</code><br />
<code>#include &lt;optional&gt;</code><br />
</div>
<p><a href="DivRemPairs_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad78e062f62e0d6e453941fb4ca843e4d" id="r_ad78e062f62e0d6e453941fb4ca843e4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>&#160;&#160;&#160;&quot;div-<a class="el" href="ExpandLargeDivRem_8cpp.html#ac7752c64c2d688b882808f06328ad521">rem</a>-pairs&quot;</td></tr>
<tr class="separator:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a52666b84652fc277b8a53aea9a4a2be0" id="r_a52666b84652fc277b8a53aea9a4a2be0"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a52666b84652fc277b8a53aea9a4a2be0">DivRemWorklistTy</a> = <a class="el" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt;DivRemPairWorklistEntry, 4&gt;</td></tr>
<tr class="separator:a52666b84652fc277b8a53aea9a4a2be0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2dce93455da9adba7bf8bcd3f1da1d2c" id="r_a2dce93455da9adba7bf8bcd3f1da1d2c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2dce93455da9adba7bf8bcd3f1da1d2c">STATISTIC</a> (NumPairs, &quot;Number of div/<a class="el" href="ExpandLargeDivRem_8cpp.html#ac7752c64c2d688b882808f06328ad521">rem</a> pairs&quot;)</td></tr>
<tr class="separator:a2dce93455da9adba7bf8bcd3f1da1d2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67cf64501da50834568b8facf2db83d9" id="r_a67cf64501da50834568b8facf2db83d9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a67cf64501da50834568b8facf2db83d9">STATISTIC</a> (NumRecomposed, &quot;Number of <a class="el" href="AtomicExpandPass_8cpp.html#a1bcc06b1cb86bd0ea08f33323190bdaa">instructions</a> recomposed&quot;)</td></tr>
<tr class="separator:a67cf64501da50834568b8facf2db83d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fcd3873e0c9636a4519024a74e8bf73" id="r_a0fcd3873e0c9636a4519024a74e8bf73"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0fcd3873e0c9636a4519024a74e8bf73">STATISTIC</a> (NumHoisted, &quot;Number of <a class="el" href="AtomicExpandPass_8cpp.html#a1bcc06b1cb86bd0ea08f33323190bdaa">instructions</a> hoisted&quot;)</td></tr>
<tr class="separator:a0fcd3873e0c9636a4519024a74e8bf73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f08e4162fbf26db1595ed5cf7c2a235" id="r_a8f08e4162fbf26db1595ed5cf7c2a235"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8f08e4162fbf26db1595ed5cf7c2a235">STATISTIC</a> (NumDecomposed, &quot;Number of <a class="el" href="AtomicExpandPass_8cpp.html#a1bcc06b1cb86bd0ea08f33323190bdaa">instructions</a> decomposed&quot;)</td></tr>
<tr class="separator:a8f08e4162fbf26db1595ed5cf7c2a235"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa89aea3953264c7ce68749d157ec1dd3" id="r_aa89aea3953264c7ce68749d157ec1dd3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa89aea3953264c7ce68749d157ec1dd3">DEBUG_COUNTER</a> (DRPCounter, &quot;div-<a class="el" href="ExpandLargeDivRem_8cpp.html#ac7752c64c2d688b882808f06328ad521">rem</a>-pairs-transform&quot;, &quot;Controls transformations in div-<a class="el" href="ExpandLargeDivRem_8cpp.html#ac7752c64c2d688b882808f06328ad521">rem</a>-pairs pass&quot;)</td></tr>
<tr class="separator:aa89aea3953264c7ce68749d157ec1dd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad762896b80c211f6d9cacfe6f8438732" id="r_ad762896b80c211f6d9cacfe6f8438732"><td class="memItemLeft" align="right" valign="top">static std::optional&lt; ExpandedMatch &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad762896b80c211f6d9cacfe6f8438732">matchExpandedRem</a> (<a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="el" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</td></tr>
<tr class="memdesc:ad762896b80c211f6d9cacfe6f8438732"><td class="mdescLeft">&#160;</td><td class="mdescRight">See if we can match: (which is the form we expand into) X - ((X ?/ Y) * Y) which is equivalent to: X ?% Y.  <br /></td></tr>
<tr class="separator:ad762896b80c211f6d9cacfe6f8438732"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ea228d1a2a12e3dc0542b388e3e3492" id="r_a4ea228d1a2a12e3dc0542b388e3e3492"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="#a52666b84652fc277b8a53aea9a4a2be0">DivRemWorklistTy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4ea228d1a2a12e3dc0542b388e3e3492">getWorklist</a> (<a class="el" href="classllvm_1_1Function.html">Function</a> &amp;<a class="el" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</td></tr>
<tr class="memdesc:a4ea228d1a2a12e3dc0542b388e3e3492"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find matching pairs of integer div/rem ops (they have the same numerator, denominator, and signedness).  <br /></td></tr>
<tr class="separator:a4ea228d1a2a12e3dc0542b388e3e3492"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e3883483a49e3be2520667d933b25f8" id="r_a6e3883483a49e3be2520667d933b25f8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6e3883483a49e3be2520667d933b25f8">optimizeDivRem</a> (<a class="el" href="classllvm_1_1Function.html">Function</a> &amp;<a class="el" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;<a class="el" href="namespacellvm.html#aa0d69e81725c10fa5407f0bf34462068">TTI</a>, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT)</td></tr>
<tr class="memdesc:a6e3883483a49e3be2520667d933b25f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find matching pairs of integer div/rem ops (they have the same numerator, denominator, and signedness).  <br /></td></tr>
<tr class="separator:a6e3883483a49e3be2520667d933b25f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad78e062f62e0d6e453941fb4ca843e4d" name="ad78e062f62e0d6e453941fb4ca843e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad78e062f62e0d6e453941fb4ca843e4d">&#9670;&#160;</a></span>DEBUG_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_TYPE&#160;&#160;&#160;&quot;div-<a class="el" href="ExpandLargeDivRem_8cpp.html#ac7752c64c2d688b882808f06328ad521">rem</a>-pairs&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="DivRemPairs_8cpp_source.html#l00031">31</a> of file <a class="el" href="DivRemPairs_8cpp_source.html">DivRemPairs.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a52666b84652fc277b8a53aea9a4a2be0" name="a52666b84652fc277b8a53aea9a4a2be0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52666b84652fc277b8a53aea9a4a2be0">&#9670;&#160;</a></span>DivRemWorklistTy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#a52666b84652fc277b8a53aea9a4a2be0">DivRemWorklistTy</a> = <a class="el" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt;DivRemPairWorklistEntry, 4&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="DivRemPairs_8cpp_source.html#l00115">115</a> of file <a class="el" href="DivRemPairs_8cpp_source.html">DivRemPairs.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa89aea3953264c7ce68749d157ec1dd3" name="aa89aea3953264c7ce68749d157ec1dd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa89aea3953264c7ce68749d157ec1dd3">&#9670;&#160;</a></span>DEBUG_COUNTER()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEBUG_COUNTER </td>
          <td>(</td>
          <td class="paramtype">DRPCounter</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;div-<a class="el" href="ExpandLargeDivRem_8cpp.html#ac7752c64c2d688b882808f06328ad521">rem</a>-pairs-transform&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Controls transformations in div-<a class="el" href="ExpandLargeDivRem_8cpp.html#ac7752c64c2d688b882808f06328ad521">rem</a>-pairs pass&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4ea228d1a2a12e3dc0542b388e3e3492" name="a4ea228d1a2a12e3dc0542b388e3e3492"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ea228d1a2a12e3dc0542b388e3e3492">&#9670;&#160;</a></span>getWorklist()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="#a52666b84652fc277b8a53aea9a4a2be0">DivRemWorklistTy</a> getWorklist </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Function.html">Function</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>F</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find matching pairs of integer div/rem ops (they have the same numerator, denominator, and signedness). </p>
<p>Place those pairs into a worklist for further processing. This indirection is needed because we have to use TrackingVH&lt;&gt; because we will be doing RAUW, and if one of the rem instructions we change happens to be an input to another div/rem in the maps, we'd have problems. </p>

<p class="definition">Definition at line <a class="el" href="DivRemPairs_8cpp_source.html#l00122">122</a> of file <a class="el" href="DivRemPairs_8cpp_source.html">DivRemPairs.cpp</a>.</p>

<p class="reference">References <a class="el" href="SmallVector_8h_source.html#l00951">llvm::SmallVectorImpl&lt; T &gt;::emplace_back()</a>, <a class="el" href="DenseMap_8h_source.html#l00084">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::end()</a>, <a class="el" href="MD5_8cpp_source.html#l00055">F</a>, <a class="el" href="DenseMap_8h_source.html#l00155">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::find()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="namespacellvm.html#a313a633eb3049b90e931206183e1251ea6da89265a9a8b0b28eb4946bb2ec0c6d">llvm::Match</a>, and <a class="el" href="DivRemPairs_8cpp_source.html#l00050">matchExpandedRem()</a>.</p>

<p class="reference">Referenced by <a class="el" href="DivRemPairs_8cpp_source.html#l00181">optimizeDivRem()</a>.</p>

</div>
</div>
<a id="ad762896b80c211f6d9cacfe6f8438732" name="ad762896b80c211f6d9cacfe6f8438732"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad762896b80c211f6d9cacfe6f8438732">&#9670;&#160;</a></span>matchExpandedRem()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::optional&lt; ExpandedMatch &gt; matchExpandedRem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>I</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>See if we can match: (which is the form we expand into) X - ((X ?/ Y) * Y) which is equivalent to: X ?% Y. </p>

<p class="definition">Definition at line <a class="el" href="DivRemPairs_8cpp_source.html#l00050">50</a> of file <a class="el" href="DivRemPairs_8cpp_source.html">DivRemPairs.cpp</a>.</p>

<p class="reference">References <a class="el" href="IR_2Instruction_8h_source.html#l00274">llvm::Instruction::getOpcode()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="PatternMatch_8h_source.html#l02704">llvm::PatternMatch::m_c_Mul()</a>, <a class="el" href="PatternMatch_8h_source.html#l00245">llvm::PatternMatch::m_CombineAnd()</a>, <a class="el" href="PatternMatch_8h_source.html#l00893">llvm::PatternMatch::m_Deferred()</a>, <a class="el" href="PatternMatch_8h_source.html#l01515">llvm::PatternMatch::m_IDiv()</a>, <a class="el" href="PatternMatch_8h_source.html#l00816">llvm::PatternMatch::m_Instruction()</a>, <a class="el" href="PatternMatch_8h_source.html#l00875">llvm::PatternMatch::m_Specific()</a>, <a class="el" href="PatternMatch_8h_source.html#l01104">llvm::PatternMatch::m_Sub()</a>, <a class="el" href="PatternMatch_8h_source.html#l00092">llvm::PatternMatch::m_Value()</a>, <a class="el" href="PatternMatch_8h_source.html#l00049">llvm::PatternMatch::match()</a>, and <a class="el" href="Value_8cpp_source.html#l00053">llvm::Value::Value()</a>.</p>

<p class="reference">Referenced by <a class="el" href="DivRemPairs_8cpp_source.html#l00122">getWorklist()</a>.</p>

</div>
</div>
<a id="a6e3883483a49e3be2520667d933b25f8" name="a6e3883483a49e3be2520667d933b25f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e3883483a49e3be2520667d933b25f8">&#9670;&#160;</a></span>optimizeDivRem()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> optimizeDivRem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Function.html">Function</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>F</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>TTI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>DT</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find matching pairs of integer div/rem ops (they have the same numerator, denominator, and signedness). </p>
<p>If they exist in different basic blocks, bring them together by hoisting or replace the common division operation that is implicit in the remainder: X % Y &lt;--&gt; X - ((X / Y) * Y).</p>
<p>We can largely ignore the normal safety and cost constraints on speculation of these ops when we find a matching pair. This is because we are already guaranteed that any exceptions and most cost are already incurred by the first member of the pair.</p>
<p>Note: This transform could be an oddball enhancement to EarlyCSE, GVN, or SimplifyCFG, but it's split off on its own because it's different enough that it doesn't quite match the stated objectives of those passes. </p>

<p class="definition">Definition at line <a class="el" href="DivRemPairs_8cpp_source.html#l00181">181</a> of file <a class="el" href="DivRemPairs_8cpp_source.html">DivRemPairs.cpp</a>.</p>

<p class="reference">References <a class="el" href="STLExtras_8h_source.html#l01722">llvm::all_of()</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="ObjCARCOpts_8cpp_source.html#l02382">Changed</a>, <a class="el" href="Dominators_8cpp_source.html#l00122">llvm::DominatorTree::dominates()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00092">llvm::Instruction::eraseFromParent()</a>, <a class="el" href="MD5_8cpp_source.html#l00055">F</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00466">llvm::Instruction::getDebugLoc()</a>, <a class="el" href="ilist__node_8h_source.html#l00132">llvm::ilist_node_impl&lt; OptionsT &gt;::getIterator()</a>, <a class="el" href="BasicBlock_8cpp_source.html#l00487">llvm::BasicBlock::getSingleSuccessor()</a>, <a class="el" href="BasicBlock_8h_source.html#l00229">llvm::BasicBlock::getTerminator()</a>, <a class="el" href="BasicBlock_8cpp_source.html#l00465">llvm::BasicBlock::getUniquePredecessor()</a>, <a class="el" href="DivRemPairs_8cpp_source.html#l00122">getWorklist()</a>, <a class="el" href="TargetTransformInfo_8cpp_source.html#l00533">llvm::TargetTransformInfo::hasDivRemOp()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00109">llvm::Instruction::insertAfter()</a>, <a class="el" href="Casting_8h_source.html#l00548">llvm::isa()</a>, <a class="el" href="ValueTracking_8cpp_source.html#l07628">llvm::isGuaranteedNotToBeUndef()</a>, <a class="el" href="ValueTracking_8cpp_source.html#l07692">llvm::isGuaranteedToTransferExecutionToSuccessor()</a>, <a class="el" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea62b6d55816cf737bfc6f42e60df1a3f2">llvm::Mul</a>, <a class="el" href="MachineBasicBlock_8h_source.html#l01341">llvm::predecessors()</a>, <a class="el" href="Value_8cpp_source.html#l00534">llvm::Value::replaceAllUsesWith()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00463">llvm::Instruction::setDebugLoc()</a>, <a class="el" href="Value_8cpp_source.html#l00377">llvm::Value::setName()</a>, <a class="el" href="User_8h_source.html#l00174">llvm::User::setOperand()</a>, <a class="el" href="DebugCounter_8h_source.html#l00087">llvm::DebugCounter::shouldExecute()</a>, <a class="el" href="MachineBasicBlock_8h_source.html#l01340">llvm::successors()</a>, <a class="el" href="ErlangGCPrinter_8cpp.html#a7ad930f7345a8faa5e6132305e2a6f49">X</a>, and <a class="el" href="OcamlGCPrinter_8cpp.html#a93c84752b140ee7b31646fc34cfa0dc2">Y</a>.</p>

<p class="reference">Referenced by <a class="el" href="DivRemPairs_8cpp_source.html#l00423">llvm::DivRemPairsPass::run()</a>.</p>

</div>
</div>
<a id="a8f08e4162fbf26db1595ed5cf7c2a235" name="a8f08e4162fbf26db1595ed5cf7c2a235"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f08e4162fbf26db1595ed5cf7c2a235">&#9670;&#160;</a></span>STATISTIC() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumDecomposed</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of <a class="el" href="AtomicExpandPass_8cpp.html#a1bcc06b1cb86bd0ea08f33323190bdaa">instructions</a> decomposed&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0fcd3873e0c9636a4519024a74e8bf73" name="a0fcd3873e0c9636a4519024a74e8bf73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fcd3873e0c9636a4519024a74e8bf73">&#9670;&#160;</a></span>STATISTIC() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumHoisted</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of <a class="el" href="AtomicExpandPass_8cpp.html#a1bcc06b1cb86bd0ea08f33323190bdaa">instructions</a> hoisted&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2dce93455da9adba7bf8bcd3f1da1d2c" name="a2dce93455da9adba7bf8bcd3f1da1d2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dce93455da9adba7bf8bcd3f1da1d2c">&#9670;&#160;</a></span>STATISTIC() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumPairs</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of div/<a class="el" href="ExpandLargeDivRem_8cpp.html#ac7752c64c2d688b882808f06328ad521">rem</a> pairs&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a67cf64501da50834568b8facf2db83d9" name="a67cf64501da50834568b8facf2db83d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67cf64501da50834568b8facf2db83d9">&#9670;&#160;</a></span>STATISTIC() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumRecomposed</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of <a class="el" href="AtomicExpandPass_8cpp.html#a1bcc06b1cb86bd0ea08f33323190bdaa">instructions</a> recomposed&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 1 2024 13:46:55 for LLVM by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
