<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: llvm::ThunkInserter&lt; Derived, InsertedThunksTy &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LLVM<span id="projectnumber">&#160;19.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',false);
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacellvm.html">llvm</a></li><li class="navelem"><a class="el" href="classllvm_1_1ThunkInserter.html">ThunkInserter</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classllvm_1_1ThunkInserter-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">llvm::ThunkInserter&lt; Derived, InsertedThunksTy &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This class assists in inserting MI thunk functions into the module and rewriting the existing machine functions to call these thunks.  
 <a href="#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="IndirectThunks_8h_source.html">llvm/CodeGen/IndirectThunks.h</a>&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad580754b469f950b5e7cb2a453f41768" id="r_ad580754b469f950b5e7cb2a453f41768"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad580754b469f950b5e7cb2a453f41768">init</a> (<a class="el" href="classllvm_1_1Module.html">Module</a> &amp;M)</td></tr>
<tr class="separator:ad580754b469f950b5e7cb2a453f41768"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a547880d64e46c0d922e0bb0f0d7f5fb9" id="r_a547880d64e46c0d922e0bb0f0d7f5fb9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a547880d64e46c0d922e0bb0f0d7f5fb9">run</a> (<a class="el" href="classllvm_1_1MachineModuleInfo.html">MachineModuleInfo</a> &amp;MMI, <a class="el" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)</td></tr>
<tr class="separator:a547880d64e46c0d922e0bb0f0d7f5fb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a1a95b72d4c28ba76251171967da03b01" id="r_a1a95b72d4c28ba76251171967da03b01"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1a95b72d4c28ba76251171967da03b01">createThunkFunction</a> (<a class="el" href="classllvm_1_1MachineModuleInfo.html">MachineModuleInfo</a> &amp;MMI, <a class="el" href="classllvm_1_1StringRef.html">StringRef</a> <a class="el" href="ELFObjHandler_8cpp.html#adc852f586959ce13117d737cf3f14899">Name</a>, <a class="el" href="classbool.html">bool</a> <a class="el" href="classllvm_1_1Comdat.html">Comdat</a>=<a class="el" href="BasicAliasAnalysis_8cpp.html#af6d5cafbdfc5313e65d990120021a3ec">true</a>, <a class="el" href="classllvm_1_1StringRef.html">StringRef</a> TargetAttrs=&quot;&quot;)</td></tr>
<tr class="memdesc:a1a95b72d4c28ba76251171967da03b01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an empty thunk function.  <br /></td></tr>
<tr class="separator:a1a95b72d4c28ba76251171967da03b01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a740bcd15c5627326e077787331b1d60a" id="r_a740bcd15c5627326e077787331b1d60a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a740bcd15c5627326e077787331b1d60a">doInitialization</a> (<a class="el" href="classllvm_1_1Module.html">Module</a> &amp;M)</td></tr>
<tr class="memdesc:a740bcd15c5627326e077787331b1d60a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes thunk inserter.  <br /></td></tr>
<tr class="separator:a740bcd15c5627326e077787331b1d60a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d87c609ee113d729a15013e29da1030" id="r_a7d87c609ee113d729a15013e29da1030"><td class="memItemLeft" align="right" valign="top"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classchar.html">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7d87c609ee113d729a15013e29da1030">getThunkPrefix</a> ()</td></tr>
<tr class="memdesc:a7d87c609ee113d729a15013e29da1030"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns common prefix for thunk function's names.  <br /></td></tr>
<tr class="separator:a7d87c609ee113d729a15013e29da1030"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e76d9a11bcf2f5bb6b8842ae88ebf9e" id="r_a0e76d9a11bcf2f5bb6b8842ae88ebf9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0e76d9a11bcf2f5bb6b8842ae88ebf9e">mayUseThunk</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)</td></tr>
<tr class="memdesc:a0e76d9a11bcf2f5bb6b8842ae88ebf9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if MF may use thunks (true - maybe, false - definitely not).  <br /></td></tr>
<tr class="separator:a0e76d9a11bcf2f5bb6b8842ae88ebf9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f77fc3ad826da7fc3c13df75da3c8ff" id="r_a1f77fc3ad826da7fc3c13df75da3c8ff"><td class="memItemLeft" align="right" valign="top">InsertedThunksTy&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f77fc3ad826da7fc3c13df75da3c8ff">insertThunks</a> (<a class="el" href="classllvm_1_1MachineModuleInfo.html">MachineModuleInfo</a> &amp;MMI, <a class="el" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, InsertedThunksTy ExistingThunks)</td></tr>
<tr class="memdesc:a1f77fc3ad826da7fc3c13df75da3c8ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rewrites the function if necessary, returns the set of thunks added.  <br /></td></tr>
<tr class="separator:a1f77fc3ad826da7fc3c13df75da3c8ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad70655ccbb3ff3439dfe9fabddd15625" id="r_ad70655ccbb3ff3439dfe9fabddd15625"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad70655ccbb3ff3439dfe9fabddd15625">populateThunk</a> (<a class="el" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)</td></tr>
<tr class="memdesc:ad70655ccbb3ff3439dfe9fabddd15625"><td class="mdescLeft">&#160;</td><td class="mdescRight">Populate the thunk function with instructions.  <br /></td></tr>
<tr class="separator:ad70655ccbb3ff3439dfe9fabddd15625"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename Derived, typename InsertedThunksTy = bool&gt;<br />
class llvm::ThunkInserter&lt; Derived, InsertedThunksTy &gt;</div><p>This class assists in inserting MI thunk functions into the module and rewriting the existing machine functions to call these thunks. </p>
<p>One of the common cases is implementing security mitigations that involve replacing some machine code patterns with calls to special thunk functions.</p>
<p>Inserting a module pass late in the codegen pipeline may increase memory usage, as it serializes the transformations and forces preceding passes to produce machine code for all functions before running the module pass. For that reason, <a class="el" href="classllvm_1_1ThunkInserter.html" title="This class assists in inserting MI thunk functions into the module and rewriting the existing machine...">ThunkInserter</a> can be driven by a <a class="el" href="classllvm_1_1MachineFunctionPass.html" title="MachineFunctionPass - This class adapts the FunctionPass interface to allow convenient creation of pa...">MachineFunctionPass</a> by passing one <a class="el" href="classllvm_1_1MachineFunction.html">MachineFunction</a> at a time to its <code>run(MMI, MF)</code> method. Then, the derived class should</p><ul>
<li>call createThunkFunction from its insertThunks method exactly once for each of the thunk functions to be inserted</li>
<li>populate the thunk in its populateThunk method</li>
</ul>
<p>Note that if some other pass is responsible for rewriting the functions, the insertThunks method may simply create all possible thunks at once, probably postponed until the first occurrence of possibly affected MF.</p>
<p>Alternatively, insertThunks method can rewrite MF by itself and only insert the thunks being called. In that case InsertedThunks variable can be used to track which thunks were already inserted.</p>
<p>In any case, the thunk function has to be inserted on behalf of some other function and then populated on its own "iteration" later - this is because <a class="el" href="classllvm_1_1MachineFunctionPass.html" title="MachineFunctionPass - This class adapts the FunctionPass interface to allow convenient creation of pa...">MachineFunctionPass</a> will see the newly created functions, but they first have to go through the preceding passes from the same pass manager, possibly even through the instruction selector. </p>

<p class="definition">Definition at line <a class="el" href="IndirectThunks_8h_source.html#l00061">61</a> of file <a class="el" href="IndirectThunks_8h_source.html">IndirectThunks.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a1a95b72d4c28ba76251171967da03b01" name="a1a95b72d4c28ba76251171967da03b01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a95b72d4c28ba76251171967da03b01">&#9670;&#160;</a></span>createThunkFunction()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Derived , typename InsertedThunksTy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classllvm_1_1ThunkInserter.html">llvm::ThunkInserter</a>&lt; Derived, InsertedThunksTy &gt;::createThunkFunction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MachineModuleInfo.html">MachineModuleInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>MMI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1StringRef.html">StringRef</a></td>          <td class="paramname"><span class="paramname"><em>Name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a></td>          <td class="paramname"><span class="paramname"><em>Comdat</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="BasicAliasAnalysis_8cpp.html#af6d5cafbdfc5313e65d990120021a3ec">true</a></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1StringRef.html">StringRef</a></td>          <td class="paramname"><span class="paramname"><em>TargetAttrs</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create an empty thunk function. </p>
<p>The new function will eventually be passed to populateThunk. If multiple thunks are created, populateThunk can distinguish them by their names. </p>

<p class="definition">Definition at line <a class="el" href="IndirectThunks_8h_source.html#l00119">119</a> of file <a class="el" href="IndirectThunks_8h_source.html">IndirectThunks.h</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>, <a class="el" href="BasicBlock_8h_source.html#l00202">llvm::BasicBlock::Create()</a>, <a class="el" href="Function_8h_source.html#l00165">llvm::Function::Create()</a>, <a class="el" href="MD5_8cpp_source.html#l00055">F</a>, <a class="el" href="classllvm_1_1FunctionType.html#af8be7844c269f201ebcee1e15048c378">llvm::FunctionType::get()</a>, <a class="el" href="MachineModuleInfo_8h_source.html#l00154">llvm::MachineModuleInfo::getModule()</a>, <a class="el" href="MachineModuleInfo_8cpp_source.html#l00095">llvm::MachineModuleInfo::getOrCreateMachineFunction()</a>, <a class="el" href="MachineFunction_8h_source.html#l00808">llvm::MachineFunction::getProperties()</a>, <a class="el" href="Type_8cpp_source.html#l00237">llvm::Type::getVoidTy()</a>, <a class="el" href="GlobalValue_8h_source.html#l00068">llvm::GlobalValue::HiddenVisibility</a>, <a class="el" href="GlobalValue_8h_source.html#l00059">llvm::GlobalValue::InternalLinkage</a>, <a class="el" href="GlobalValue_8h_source.html#l00055">llvm::GlobalValue::LinkOnceODRLinkage</a>, <a class="el" href="ELFObjHandler_8cpp_source.html#l00077">Name</a>, <a class="el" href="classllvm_1_1MachineFunctionProperties.html#ad85237c6c667e4713efe8921e9c32ac1a72f7d830dd5ddb30f06d8e9639558ac3">llvm::MachineFunctionProperties::NoVRegs</a>, and <a class="el" href="MachineFunction_8h_source.html#l00198">llvm::MachineFunctionProperties::set()</a>.</p>

</div>
</div>
<a id="a740bcd15c5627326e077787331b1d60a" name="a740bcd15c5627326e077787331b1d60a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a740bcd15c5627326e077787331b1d60a">&#9670;&#160;</a></span>doInitialization()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Derived , typename InsertedThunksTy  = bool&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classllvm_1_1ThunkInserter.html">llvm::ThunkInserter</a>&lt; Derived, InsertedThunksTy &gt;::doInitialization </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Module.html">Module</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>M</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes thunk inserter. </p>

<p class="definition">Definition at line <a class="el" href="IndirectThunks_8h_source.html#l00087">87</a> of file <a class="el" href="IndirectThunks_8h_source.html">IndirectThunks.h</a>.</p>

</div>
</div>
<a id="a7d87c609ee113d729a15013e29da1030" name="a7d87c609ee113d729a15013e29da1030"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d87c609ee113d729a15013e29da1030">&#9670;&#160;</a></span>getThunkPrefix()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Derived , typename InsertedThunksTy  = bool&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classchar.html">char</a> * <a class="el" href="classllvm_1_1ThunkInserter.html">llvm::ThunkInserter</a>&lt; Derived, InsertedThunksTy &gt;::getThunkPrefix </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns common prefix for thunk function's names. </p>

</div>
</div>
<a id="ad580754b469f950b5e7cb2a453f41768" name="ad580754b469f950b5e7cb2a453f41768"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad580754b469f950b5e7cb2a453f41768">&#9670;&#160;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Derived , typename InsertedThunksTy  = bool&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classllvm_1_1ThunkInserter.html">llvm::ThunkInserter</a>&lt; Derived, InsertedThunksTy &gt;::init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Module.html">Module</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>M</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="IndirectThunks_8h_source.html#l00110">110</a> of file <a class="el" href="IndirectThunks_8h_source.html">IndirectThunks.h</a>.</p>

</div>
</div>
<a id="a1f77fc3ad826da7fc3c13df75da3c8ff" name="a1f77fc3ad826da7fc3c13df75da3c8ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f77fc3ad826da7fc3c13df75da3c8ff">&#9670;&#160;</a></span>insertThunks()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Derived , typename InsertedThunksTy  = bool&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">InsertedThunksTy <a class="el" href="classllvm_1_1ThunkInserter.html">llvm::ThunkInserter</a>&lt; Derived, InsertedThunksTy &gt;::insertThunks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MachineModuleInfo.html">MachineModuleInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>MMI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>MF</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">InsertedThunksTy</td>          <td class="paramname"><span class="paramname"><em>ExistingThunks</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rewrites the function if necessary, returns the set of thunks added. </p>

</div>
</div>
<a id="a0e76d9a11bcf2f5bb6b8842ae88ebf9e" name="a0e76d9a11bcf2f5bb6b8842ae88ebf9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e76d9a11bcf2f5bb6b8842ae88ebf9e">&#9670;&#160;</a></span>mayUseThunk()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Derived , typename InsertedThunksTy  = bool&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> <a class="el" href="classllvm_1_1ThunkInserter.html">llvm::ThunkInserter</a>&lt; Derived, InsertedThunksTy &gt;::mayUseThunk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>MF</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if MF may use thunks (true - maybe, false - definitely not). </p>

</div>
</div>
<a id="ad70655ccbb3ff3439dfe9fabddd15625" name="ad70655ccbb3ff3439dfe9fabddd15625"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad70655ccbb3ff3439dfe9fabddd15625">&#9670;&#160;</a></span>populateThunk()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Derived , typename InsertedThunksTy  = bool&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classllvm_1_1ThunkInserter.html">llvm::ThunkInserter</a>&lt; Derived, InsertedThunksTy &gt;::populateThunk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>MF</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Populate the thunk function with instructions. </p>
<p>If multiple thunks are created, the content that must be inserted in the thunk function body should be derived from the MF's name.</p>
<p>Depending on the preceding passes in the pass manager, by the time populateThunk is called, MF may have a few target-specific instructions (such as a single MBB containing the return instruction). </p>

</div>
</div>
<a id="a547880d64e46c0d922e0bb0f0d7f5fb9" name="a547880d64e46c0d922e0bb0f0d7f5fb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a547880d64e46c0d922e0bb0f0d7f5fb9">&#9670;&#160;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Derived , typename InsertedThunksTy &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> <a class="el" href="classllvm_1_1ThunkInserter.html">llvm::ThunkInserter</a>&lt; Derived, InsertedThunksTy &gt;::run </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MachineModuleInfo.html">MachineModuleInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>MMI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>MF</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="IndirectThunks_8h_source.html#l00165">165</a> of file <a class="el" href="IndirectThunks_8h_source.html">IndirectThunks.h</a>.</p>

<p class="reference">References <a class="el" href="MachineFunction_8cpp_source.html#l00610">llvm::MachineFunction::getName()</a>, and <a class="el" href="StringRef_8h_source.html#l00250">llvm::StringRef::starts_with()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/llvm/CodeGen/<a class="el" href="IndirectThunks_8h_source.html">IndirectThunks.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 1 2024 14:00:29 for LLVM by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
