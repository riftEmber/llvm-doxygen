<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/CodeGen/AtomicExpandPass.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LLVM<span id="projectnumber">&#160;19.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',false);
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1e8ad0574bd6e387992681ee57691a07.html">CodeGen</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">AtomicExpandPass.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="ArrayRef_8h_source.html">llvm/ADT/ArrayRef.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="STLFunctionalExtras_8h_source.html">llvm/ADT/STLFunctionalExtras.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="SmallVector_8h_source.html">llvm/ADT/SmallVector.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="InstSimplifyFolder_8h_source.html">llvm/Analysis/InstSimplifyFolder.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="OptimizationRemarkEmitter_8h_source.html">llvm/Analysis/OptimizationRemarkEmitter.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="AtomicExpand_8h_source.html">llvm/CodeGen/AtomicExpand.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="AtomicExpandUtils_8h_source.html">llvm/CodeGen/AtomicExpandUtils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="RuntimeLibcallUtil_8h_source.html">llvm/CodeGen/RuntimeLibcallUtil.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="TargetLowering_8h_source.html">llvm/CodeGen/TargetLowering.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="TargetPassConfig_8h_source.html">llvm/CodeGen/TargetPassConfig.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="TargetSubtargetInfo_8h_source.html">llvm/CodeGen/TargetSubtargetInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ValueTypes_8h_source.html">llvm/CodeGen/ValueTypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Attributes_8h_source.html">llvm/IR/Attributes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="BasicBlock_8h_source.html">llvm/IR/BasicBlock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Constant_8h_source.html">llvm/IR/Constant.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Constants_8h_source.html">llvm/IR/Constants.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="DataLayout_8h_source.html">llvm/IR/DataLayout.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="DerivedTypes_8h_source.html">llvm/IR/DerivedTypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Function_8h_source.html">llvm/IR/Function.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="IRBuilder_8h_source.html">llvm/IR/IRBuilder.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="InstIterator_8h_source.html">llvm/IR/InstIterator.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="IR_2Instruction_8h_source.html">llvm/IR/Instruction.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Instructions_8h_source.html">llvm/IR/Instructions.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MDBuilder_8h_source.html">llvm/IR/MDBuilder.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MemoryModelRelaxationAnnotations_8h_source.html">llvm/IR/MemoryModelRelaxationAnnotations.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Module_8h_source.html">llvm/IR/Module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Type_8h_source.html">llvm/IR/Type.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="User_8h_source.html">llvm/IR/User.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Value_8h_source.html">llvm/IR/Value.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="InitializePasses_8h_source.html">llvm/InitializePasses.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Pass_8h_source.html">llvm/Pass.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="AtomicOrdering_8h_source.html">llvm/Support/AtomicOrdering.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Casting_8h_source.html">llvm/Support/Casting.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Debug_8h_source.html">llvm/Support/Debug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="llvm_2Support_2ErrorHandling_8h_source.html">llvm/Support/ErrorHandling.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="raw__ostream_8h_source.html">llvm/Support/raw_ostream.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="llvm_2Target_2TargetMachine_8h_source.html">llvm/Target/TargetMachine.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LowerAtomic_8h_source.html">llvm/Transforms/Utils/LowerAtomic.h</a>&quot;</code><br />
<code>#include &lt;cassert&gt;</code><br />
<code>#include &lt;cstdint&gt;</code><br />
<code>#include &lt;iterator&gt;</code><br />
</div>
<p><a href="AtomicExpandPass_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad78e062f62e0d6e453941fb4ca843e4d" id="r_ad78e062f62e0d6e453941fb4ca843e4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>&#160;&#160;&#160;&quot;atomic-expand&quot;</td></tr>
<tr class="separator:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2b5dd836d681863bc1cf1ab9fdcd3a90" id="r_a2b5dd836d681863bc1cf1ab9fdcd3a90"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2b5dd836d681863bc1cf1ab9fdcd3a90">INITIALIZE_PASS_BEGIN</a> (AtomicExpandLegacy, <a class="el" href="GenericCycleImpl_8h.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, &quot;Expand Atomic instructions&quot;, false, false) <a class="el" href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a>(AtomicExpandLegacy</td></tr>
<tr class="separator:a2b5dd836d681863bc1cf1ab9fdcd3a90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa54574a2cf0b638d4fee2b8ed962058a" id="r_aa54574a2cf0b638d4fee2b8ed962058a"><td class="memItemLeft" align="right" valign="top">Expand Atomic static false <a class="el" href="classunsigned.html">unsigned</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa54574a2cf0b638d4fee2b8ed962058a">getAtomicOpSize</a> (<a class="el" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI)</td></tr>
<tr class="separator:aa54574a2cf0b638d4fee2b8ed962058a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accc002905dbfe76b18e8ec1cea25cee6" id="r_accc002905dbfe76b18e8ec1cea25cee6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classunsigned.html">unsigned</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#accc002905dbfe76b18e8ec1cea25cee6">getAtomicOpSize</a> (<a class="el" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="el" href="PassBuilderBindings_8cpp.html#a10fde6bea2f819ef87db20d8fe3085c7">SI</a>)</td></tr>
<tr class="separator:accc002905dbfe76b18e8ec1cea25cee6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48ac978d44f5d426d300a400142708b5" id="r_a48ac978d44f5d426d300a400142708b5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classunsigned.html">unsigned</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a48ac978d44f5d426d300a400142708b5">getAtomicOpSize</a> (<a class="el" href="classllvm_1_1AtomicRMWInst.html">AtomicRMWInst</a> *RMWI)</td></tr>
<tr class="separator:a48ac978d44f5d426d300a400142708b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11d6de2bddc669af3e9b358e46e38e9e" id="r_a11d6de2bddc669af3e9b358e46e38e9e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classunsigned.html">unsigned</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a11d6de2bddc669af3e9b358e46e38e9e">getAtomicOpSize</a> (<a class="el" href="classllvm_1_1AtomicCmpXchgInst.html">AtomicCmpXchgInst</a> *CASI)</td></tr>
<tr class="separator:a11d6de2bddc669af3e9b358e46e38e9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addb0d67f88876ee143acca486e03c53d" id="r_addb0d67f88876ee143acca486e03c53d"><td class="memTemplParams" colspan="2">template&lt;typename Inst &gt; </td></tr>
<tr class="memitem:addb0d67f88876ee143acca486e03c53d"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#addb0d67f88876ee143acca486e03c53d">atomicSizeSupported</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1TargetLowering.html">TargetLowering</a> *TLI, Inst *<a class="el" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</td></tr>
<tr class="separator:addb0d67f88876ee143acca486e03c53d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9ea90f22a3fced77614ad93a197f7df" id="r_af9ea90f22a3fced77614ad93a197f7df"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af9ea90f22a3fced77614ad93a197f7df">createCmpXchgInstFun</a> (<a class="el" href="classllvm_1_1IRBuilderBase.html">IRBuilderBase</a> &amp;Builder, <a class="el" href="classllvm_1_1Value.html">Value</a> *<a class="el" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="el" href="classllvm_1_1Value.html">Value</a> *Loaded, <a class="el" href="classllvm_1_1Value.html">Value</a> *NewVal, <a class="el" href="structllvm_1_1Align.html">Align</a> AddrAlign, <a class="el" href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7">AtomicOrdering</a> MemOpOrder, <a class="el" href="namespacellvm_1_1SyncScope.html#a80741d3f96133391b683effd8e5b77f0">SyncScope::ID</a> SSID, <a class="el" href="classllvm_1_1Value.html">Value</a> *&amp;<a class="el" href="AArch64Disassembler_8cpp.html#abdb086b34295fb7aa09493c62d798465">Success</a>, <a class="el" href="classllvm_1_1Value.html">Value</a> *&amp;NewLoaded)</td></tr>
<tr class="separator:af9ea90f22a3fced77614ad93a197f7df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44f4e9b64d7a612f2b8236f0d147f591" id="r_a44f4e9b64d7a612f2b8236f0d147f591"><td class="memItemLeft" align="right" valign="top">static PartwordMaskValues&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a44f4e9b64d7a612f2b8236f0d147f591">createMaskInstrs</a> (<a class="el" href="classllvm_1_1IRBuilderBase.html">IRBuilderBase</a> &amp;Builder, <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="el" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="el" href="classllvm_1_1Type.html">Type</a> *<a class="el" href="namespacellvm.html#ad18871060ac1b051c7322cc6ad71e11c">ValueType</a>, <a class="el" href="classllvm_1_1Value.html">Value</a> *<a class="el" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="el" href="structllvm_1_1Align.html">Align</a> AddrAlign, <a class="el" href="classunsigned.html">unsigned</a> MinWordSize)</td></tr>
<tr class="memdesc:a44f4e9b64d7a612f2b8236f0d147f591"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a helper function which builds instructions to provide values necessary for partword atomic operations.  <br /></td></tr>
<tr class="separator:a44f4e9b64d7a612f2b8236f0d147f591"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8078ce258348e8fd9d2e16bead13e770" id="r_a8078ce258348e8fd9d2e16bead13e770"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8078ce258348e8fd9d2e16bead13e770">extractMaskedValue</a> (<a class="el" href="classllvm_1_1IRBuilderBase.html">IRBuilderBase</a> &amp;Builder, <a class="el" href="classllvm_1_1Value.html">Value</a> *WideWord, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> PartwordMaskValues &amp;PMV)</td></tr>
<tr class="separator:a8078ce258348e8fd9d2e16bead13e770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae621284e39538e26bdef3fa0904db7fe" id="r_ae621284e39538e26bdef3fa0904db7fe"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae621284e39538e26bdef3fa0904db7fe">insertMaskedValue</a> (<a class="el" href="classllvm_1_1IRBuilderBase.html">IRBuilderBase</a> &amp;Builder, <a class="el" href="classllvm_1_1Value.html">Value</a> *WideWord, <a class="el" href="classllvm_1_1Value.html">Value</a> *Updated, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> PartwordMaskValues &amp;PMV)</td></tr>
<tr class="separator:ae621284e39538e26bdef3fa0904db7fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f139ee1c3fc1e3029eaf08d4e67d9a9" id="r_a1f139ee1c3fc1e3029eaf08d4e67d9a9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f139ee1c3fc1e3029eaf08d4e67d9a9">performMaskedAtomicOp</a> (<a class="el" href="classllvm_1_1AtomicRMWInst.html#a461cfbbb5c7a57ab73210498923cf615">AtomicRMWInst::BinOp</a> <a class="el" href="namespacellvm.html#ab471937b9a227e70c7fe8bd9604014d6">Op</a>, <a class="el" href="classllvm_1_1IRBuilderBase.html">IRBuilderBase</a> &amp;Builder, <a class="el" href="classllvm_1_1Value.html">Value</a> *Loaded, <a class="el" href="classllvm_1_1Value.html">Value</a> *Shifted_Inc, <a class="el" href="classllvm_1_1Value.html">Value</a> *Inc, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> PartwordMaskValues &amp;PMV)</td></tr>
<tr class="memdesc:a1f139ee1c3fc1e3029eaf08d4e67d9a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emit IR to implement a masked version of a given atomicrmw operation.  <br /></td></tr>
<tr class="separator:a1f139ee1c3fc1e3029eaf08d4e67d9a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9315c94e4cd695aceef039966a2beba" id="r_ae9315c94e4cd695aceef039966a2beba"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae9315c94e4cd695aceef039966a2beba">copyMetadataForAtomic</a> (<a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;Dest, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;Source)</td></tr>
<tr class="memdesc:ae9315c94e4cd695aceef039966a2beba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy metadata that's safe to preserve when widening atomics.  <br /></td></tr>
<tr class="separator:ae9315c94e4cd695aceef039966a2beba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6312845f74f9bb3101268e4598ae05a5" id="r_a6312845f74f9bb3101268e4598ae05a5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6312845f74f9bb3101268e4598ae05a5">canUseSizedAtomicCall</a> (<a class="el" href="classunsigned.html">unsigned</a> <a class="el" href="ELFObjHandler_8cpp.html#af1557b042f2005cd730068528cfad1d2">Size</a>, <a class="el" href="structllvm_1_1Align.html">Align</a> Alignment, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="el" href="ARMSLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>)</td></tr>
<tr class="separator:a6312845f74f9bb3101268e4598ae05a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff1937512c312e6e175b1367b551a4a3" id="r_aff1937512c312e6e175b1367b551a4a3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447">RTLIB::Libcall</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aff1937512c312e6e175b1367b551a4a3">GetRMWLibcall</a> (<a class="el" href="classllvm_1_1AtomicRMWInst.html#a461cfbbb5c7a57ab73210498923cf615">AtomicRMWInst::BinOp</a> <a class="el" href="namespacellvm.html#ab471937b9a227e70c7fe8bd9604014d6">Op</a>)</td></tr>
<tr class="separator:aff1937512c312e6e175b1367b551a4a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a030569d5a541b6110f2ae1b6a3413a58" id="r_a030569d5a541b6110f2ae1b6a3413a58"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a030569d5a541b6110f2ae1b6a3413a58">DEBUG_TYPE</a></td></tr>
<tr class="separator:a030569d5a541b6110f2ae1b6a3413a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bcc06b1cb86bd0ea08f33323190bdaa" id="r_a1bcc06b1cb86bd0ea08f33323190bdaa"><td class="memItemLeft" align="right" valign="top">Expand Atomic&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1bcc06b1cb86bd0ea08f33323190bdaa">instructions</a></td></tr>
<tr class="separator:a1bcc06b1cb86bd0ea08f33323190bdaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27f675ccd5eaa6039694b250aa35ab57" id="r_a27f675ccd5eaa6039694b250aa35ab57"><td class="memItemLeft" align="right" valign="top">Expand Atomic&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a27f675ccd5eaa6039694b250aa35ab57">false</a></td></tr>
<tr class="separator:a27f675ccd5eaa6039694b250aa35ab57"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad78e062f62e0d6e453941fb4ca843e4d" name="ad78e062f62e0d6e453941fb4ca843e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad78e062f62e0d6e453941fb4ca843e4d">&#9670;&#160;</a></span>DEBUG_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_TYPE&#160;&#160;&#160;&quot;atomic-expand&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AtomicExpandPass_8cpp_source.html#l00061">61</a> of file <a class="el" href="AtomicExpandPass_8cpp_source.html">AtomicExpandPass.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="addb0d67f88876ee143acca486e03c53d" name="addb0d67f88876ee143acca486e03c53d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addb0d67f88876ee143acca486e03c53d">&#9670;&#160;</a></span>atomicSizeSupported()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Inst &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> atomicSizeSupported </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1TargetLowering.html">TargetLowering</a> *</td>          <td class="paramname"><span class="paramname"><em>TLI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Inst *</td>          <td class="paramname"><span class="paramname"><em>I</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AtomicExpandPass_8cpp_source.html#l00199">199</a> of file <a class="el" href="AtomicExpandPass_8cpp_source.html">AtomicExpandPass.cpp</a>.</p>

<p class="reference">References <a class="el" href="AtomicExpandPass_8cpp_source.html#l00175">getAtomicOpSize()</a>, <a class="el" href="TargetLowering_8h_source.html#l02119">llvm::TargetLoweringBase::getMaxAtomicSizeInBitsSupported()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, and <a class="el" href="ELFObjHandler_8cpp_source.html#l00081">Size</a>.</p>

</div>
</div>
<a id="a6312845f74f9bb3101268e4598ae05a5" name="a6312845f74f9bb3101268e4598ae05a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6312845f74f9bb3101268e4598ae05a5">&#9670;&#160;</a></span>canUseSizedAtomicCall()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> canUseSizedAtomicCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a></td>          <td class="paramname"><span class="paramname"><em>Size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structllvm_1_1Align.html">Align</a></td>          <td class="paramname"><span class="paramname"><em>Alignment</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>DL</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AtomicExpandPass_8cpp_source.html#l01673">1673</a> of file <a class="el" href="AtomicExpandPass_8cpp_source.html">AtomicExpandPass.cpp</a>.</p>

<p class="reference">References <a class="el" href="ARMSLSHardening_8cpp_source.html#l00073">DL</a>, and <a class="el" href="ELFObjHandler_8cpp_source.html#l00081">Size</a>.</p>

</div>
</div>
<a id="ae9315c94e4cd695aceef039966a2beba" name="ae9315c94e4cd695aceef039966a2beba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9315c94e4cd695aceef039966a2beba">&#9670;&#160;</a></span>copyMetadataForAtomic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void copyMetadataForAtomic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>Dest</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>Source</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy metadata that's safe to preserve when widening atomics. </p>

<p class="definition">Definition at line <a class="el" href="AtomicExpandPass_8cpp_source.html#l00942">942</a> of file <a class="el" href="AtomicExpandPass_8cpp_source.html">AtomicExpandPass.cpp</a>.</p>

<p class="reference">References <a class="el" href="Value_8cpp_source.html#l01075">llvm::Value::getContext()</a>, <a class="el" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, and <a class="el" href="Metadata_8cpp_source.html#l01636">llvm::Instruction::setMetadata()</a>.</p>

</div>
</div>
<a id="af9ea90f22a3fced77614ad93a197f7df" name="af9ea90f22a3fced77614ad93a197f7df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9ea90f22a3fced77614ad93a197f7df">&#9670;&#160;</a></span>createCmpXchgInstFun()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void createCmpXchgInstFun </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1IRBuilderBase.html">IRBuilderBase</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>Builder</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *</td>          <td class="paramname"><span class="paramname"><em>Addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *</td>          <td class="paramname"><span class="paramname"><em>Loaded</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *</td>          <td class="paramname"><span class="paramname"><em>NewVal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structllvm_1_1Align.html">Align</a></td>          <td class="paramname"><span class="paramname"><em>AddrAlign</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacellvm.html#a9bccbe67aaab722783ca4e7c504aaaa7">AtomicOrdering</a></td>          <td class="paramname"><span class="paramname"><em>MemOpOrder</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacellvm_1_1SyncScope.html#a80741d3f96133391b683effd8e5b77f0">SyncScope::ID</a></td>          <td class="paramname"><span class="paramname"><em>SSID</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *&amp;</td>          <td class="paramname"><span class="paramname"><em>Success</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *&amp;</td>          <td class="paramname"><span class="paramname"><em>NewLoaded</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AtomicExpandPass_8cpp_source.html#l00574">574</a> of file <a class="el" href="AtomicExpandPass_8cpp_source.html">AtomicExpandPass.cpp</a>.</p>

<p class="reference">References <a class="el" href="ELFObjHandler_8cpp_source.html#l00079">Addr</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Type_8cpp_source.html#l00258">llvm::Type::getIntNTy()</a>, <a class="el" href="Type_8cpp_source.html#l00166">llvm::Type::getPrimitiveSizeInBits()</a>, <a class="el" href="Instructions_8h_source.html#l00644">llvm::AtomicCmpXchgInst::getStrongestFailureOrdering()</a>, <a class="el" href="Value_8h_source.html#l00255">llvm::Value::getType()</a>, <a class="el" href="Type_8h_source.html#l00185">llvm::Type::isFloatingPointTy()</a>, <a class="el" href="Type_8h_source.html#l00255">llvm::Type::isPointerTy()</a>, <a class="el" href="Type_8h_source.html#l00265">llvm::Type::isVectorTy()</a>, and <a class="el" href="AArch64Disassembler_8cpp_source.html#l00213">Success</a>.</p>

</div>
</div>
<a id="a44f4e9b64d7a612f2b8236f0d147f591" name="a44f4e9b64d7a612f2b8236f0d147f591"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44f4e9b64d7a612f2b8236f0d147f591">&#9670;&#160;</a></span>createMaskInstrs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static PartwordMaskValues createMaskInstrs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1IRBuilderBase.html">IRBuilderBase</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>Builder</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *</td>          <td class="paramname"><span class="paramname"><em>I</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Type.html">Type</a> *</td>          <td class="paramname"><span class="paramname"><em>ValueType</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *</td>          <td class="paramname"><span class="paramname"><em>Addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structllvm_1_1Align.html">Align</a></td>          <td class="paramname"><span class="paramname"><em>AddrAlign</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a></td>          <td class="paramname"><span class="paramname"><em>MinWordSize</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is a helper function which builds instructions to provide values necessary for partword atomic operations. </p>
<p>It takes an incoming address, Addr, and ValueType, and constructs the address, shift-amounts and masks needed to work with a larger value of size WordSize.</p>
<p>AlignedAddr: Addr rounded down to a multiple of WordSize</p>
<p>ShiftAmt: Number of bits to right-shift a WordSize value loaded from AlignAddr for it to have the same value as if ValueType was loaded from Addr.</p>
<p>Mask: Value to mask with the value loaded from AlignAddr to include only the part that would've been loaded from Addr.</p>
<p>Inv_Mask: The inverse of Mask. </p>

<p class="definition">Definition at line <a class="el" href="AtomicExpandPass_8cpp_source.html#l00737">737</a> of file <a class="el" href="AtomicExpandPass_8cpp_source.html">AtomicExpandPass.cpp</a>.</p>

<p class="reference">References <a class="el" href="ELFObjHandler_8cpp_source.html#l00079">Addr</a>, <a class="el" href="ELFObjHandler_8cpp_source.html#l00082">Align</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Casting_8h_source.html#l00565">llvm::cast()</a>, <a class="el" href="ARMSLSHardening_8cpp_source.html#l00073">DL</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="Type_8h_source.html#l00185">llvm::Type::isFloatingPointTy()</a>, and <a class="el" href="Type_8h_source.html#l00265">llvm::Type::isVectorTy()</a>.</p>

</div>
</div>
<a id="a8078ce258348e8fd9d2e16bead13e770" name="a8078ce258348e8fd9d2e16bead13e770"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8078ce258348e8fd9d2e16bead13e770">&#9670;&#160;</a></span>extractMaskedValue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1Value.html">Value</a> * extractMaskedValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1IRBuilderBase.html">IRBuilderBase</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>Builder</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *</td>          <td class="paramname"><span class="paramname"><em>WideWord</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> PartwordMaskValues &amp;</td>          <td class="paramname"><span class="paramname"><em>PMV</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AtomicExpandPass_8cpp_source.html#l00804">804</a> of file <a class="el" href="AtomicExpandPass_8cpp_source.html">AtomicExpandPass.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, and <a class="el" href="Value_8h_source.html#l00255">llvm::Value::getType()</a>.</p>

<p class="reference">Referenced by <a class="el" href="AtomicExpandPass_8cpp_source.html#l00835">performMaskedAtomicOp()</a>.</p>

</div>
</div>
<a id="a11d6de2bddc669af3e9b358e46e38e9e" name="a11d6de2bddc669af3e9b358e46e38e9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11d6de2bddc669af3e9b358e46e38e9e">&#9670;&#160;</a></span>getAtomicOpSize() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classunsigned.html">unsigned</a> getAtomicOpSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AtomicCmpXchgInst.html">AtomicCmpXchgInst</a> *</td>          <td class="paramname"><span class="paramname"><em>CASI</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AtomicExpandPass_8cpp_source.html#l00190">190</a> of file <a class="el" href="AtomicExpandPass_8cpp_source.html">AtomicExpandPass.cpp</a>.</p>

<p class="reference">References <a class="el" href="ARMSLSHardening_8cpp_source.html#l00073">DL</a>, <a class="el" href="Instructions_8h_source.html#l00625">llvm::AtomicCmpXchgInst::getCompareOperand()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00074">llvm::Instruction::getDataLayout()</a>, and <a class="el" href="Value_8h_source.html#l00255">llvm::Value::getType()</a>.</p>

</div>
</div>
<a id="a48ac978d44f5d426d300a400142708b5" name="a48ac978d44f5d426d300a400142708b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48ac978d44f5d426d300a400142708b5">&#9670;&#160;</a></span>getAtomicOpSize() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classunsigned.html">unsigned</a> getAtomicOpSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AtomicRMWInst.html">AtomicRMWInst</a> *</td>          <td class="paramname"><span class="paramname"><em>RMWI</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AtomicExpandPass_8cpp_source.html#l00185">185</a> of file <a class="el" href="AtomicExpandPass_8cpp_source.html">AtomicExpandPass.cpp</a>.</p>

<p class="reference">References <a class="el" href="ARMSLSHardening_8cpp_source.html#l00073">DL</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00074">llvm::Instruction::getDataLayout()</a>, <a class="el" href="Value_8h_source.html#l00255">llvm::Value::getType()</a>, and <a class="el" href="Instructions_8h_source.html#l00856">llvm::AtomicRMWInst::getValOperand()</a>.</p>

</div>
</div>
<a id="aa54574a2cf0b638d4fee2b8ed962058a" name="aa54574a2cf0b638d4fee2b8ed962058a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa54574a2cf0b638d4fee2b8ed962058a">&#9670;&#160;</a></span>getAtomicOpSize() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Expand Atomic static false <a class="el" href="classunsigned.html">unsigned</a> getAtomicOpSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoadInst.html">LoadInst</a> *</td>          <td class="paramname"><span class="paramname"><em>LI</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AtomicExpandPass_8cpp_source.html#l00175">175</a> of file <a class="el" href="AtomicExpandPass_8cpp_source.html">AtomicExpandPass.cpp</a>.</p>

<p class="reference">References <a class="el" href="ARMSLSHardening_8cpp_source.html#l00073">DL</a>.</p>

<p class="reference">Referenced by <a class="el" href="AtomicExpandPass_8cpp_source.html#l00199">atomicSizeSupported()</a>.</p>

</div>
</div>
<a id="accc002905dbfe76b18e8ec1cea25cee6" name="accc002905dbfe76b18e8ec1cea25cee6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accc002905dbfe76b18e8ec1cea25cee6">&#9670;&#160;</a></span>getAtomicOpSize() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classunsigned.html">unsigned</a> getAtomicOpSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1StoreInst.html">StoreInst</a> *</td>          <td class="paramname"><span class="paramname"><em>SI</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AtomicExpandPass_8cpp_source.html#l00180">180</a> of file <a class="el" href="AtomicExpandPass_8cpp_source.html">AtomicExpandPass.cpp</a>.</p>

<p class="reference">References <a class="el" href="ARMSLSHardening_8cpp_source.html#l00073">DL</a>.</p>

</div>
</div>
<a id="aff1937512c312e6e175b1367b551a4a3" name="aff1937512c312e6e175b1367b551a4a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff1937512c312e6e175b1367b551a4a3">&#9670;&#160;</a></span>GetRMWLibcall()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="namespacellvm_1_1RTLIB.html#a50a0bab21f1d14a86a1483ec283e4447">RTLIB::Libcall</a> &gt; GetRMWLibcall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AtomicRMWInst.html#a461cfbbb5c7a57ab73210498923cf615">AtomicRMWInst::BinOp</a></td>          <td class="paramname"><span class="paramname"><em>Op</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AtomicExpandPass_8cpp_source.html#l01729">1729</a> of file <a class="el" href="AtomicExpandPass_8cpp_source.html">AtomicExpandPass.cpp</a>.</p>

<p class="reference">References <a class="el" href="Instructions_8h_source.html#l00712">llvm::AtomicRMWInst::Add</a>, <a class="el" href="Instructions_8h_source.html#l00716">llvm::AtomicRMWInst::And</a>, <a class="el" href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">llvm::ArrayRef()</a>, <a class="el" href="Instructions_8h_source.html#l00756">llvm::AtomicRMWInst::BAD_BINOP</a>, <a class="el" href="Instructions_8h_source.html#l00733">llvm::AtomicRMWInst::FAdd</a>, <a class="el" href="Instructions_8h_source.html#l00740">llvm::AtomicRMWInst::FMax</a>, <a class="el" href="Instructions_8h_source.html#l00744">llvm::AtomicRMWInst::FMin</a>, <a class="el" href="Instructions_8h_source.html#l00736">llvm::AtomicRMWInst::FSub</a>, <a class="el" href="llvm_2Support_2ErrorHandling_8h_source.html#l00143">llvm_unreachable</a>, <a class="el" href="Instructions_8h_source.html#l00724">llvm::AtomicRMWInst::Max</a>, <a class="el" href="Instructions_8h_source.html#l00726">llvm::AtomicRMWInst::Min</a>, <a class="el" href="Instructions_8h_source.html#l00718">llvm::AtomicRMWInst::Nand</a>, <a class="el" href="Instructions_8h_source.html#l00720">llvm::AtomicRMWInst::Or</a>, <a class="el" href="Instructions_8h_source.html#l00714">llvm::AtomicRMWInst::Sub</a>, <a class="el" href="Instructions_8h_source.html#l00752">llvm::AtomicRMWInst::UDecWrap</a>, <a class="el" href="Instructions_8h_source.html#l00748">llvm::AtomicRMWInst::UIncWrap</a>, <a class="el" href="Instructions_8h_source.html#l00728">llvm::AtomicRMWInst::UMax</a>, <a class="el" href="Instructions_8h_source.html#l00730">llvm::AtomicRMWInst::UMin</a>, <a class="el" href="Instructions_8h_source.html#l00710">llvm::AtomicRMWInst::Xchg</a>, and <a class="el" href="Instructions_8h_source.html#l00722">llvm::AtomicRMWInst::Xor</a>.</p>

</div>
</div>
<a id="a2b5dd836d681863bc1cf1ab9fdcd3a90" name="a2b5dd836d681863bc1cf1ab9fdcd3a90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b5dd836d681863bc1cf1ab9fdcd3a90">&#9670;&#160;</a></span>INITIALIZE_PASS_BEGIN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INITIALIZE_PASS_BEGIN </td>
          <td>(</td>
          <td class="paramtype">AtomicExpandLegacy</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="GenericCycleImpl_8h.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a></td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Expand Atomic instructions&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">false</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">false</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae621284e39538e26bdef3fa0904db7fe" name="ae621284e39538e26bdef3fa0904db7fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae621284e39538e26bdef3fa0904db7fe">&#9670;&#160;</a></span>insertMaskedValue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1Value.html">Value</a> * insertMaskedValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1IRBuilderBase.html">IRBuilderBase</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>Builder</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *</td>          <td class="paramname"><span class="paramname"><em>WideWord</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *</td>          <td class="paramname"><span class="paramname"><em>Updated</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> PartwordMaskValues &amp;</td>          <td class="paramname"><span class="paramname"><em>PMV</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AtomicExpandPass_8cpp_source.html#l00815">815</a> of file <a class="el" href="AtomicExpandPass_8cpp_source.html">AtomicExpandPass.cpp</a>.</p>

<p class="reference">References <a class="el" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830eac33315685a0cba3ce53be378b3c7874b">llvm::And</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Value_8h_source.html#l00255">llvm::Value::getType()</a>, and <a class="el" href="namespacellvm.html#aac36edd0f1ce976f0025c98e88d3830ea3a2d5fe857d8f9541136a124c2edec6c">llvm::Or</a>.</p>

<p class="reference">Referenced by <a class="el" href="AtomicExpandPass_8cpp_source.html#l00835">performMaskedAtomicOp()</a>.</p>

</div>
</div>
<a id="a1f139ee1c3fc1e3029eaf08d4e67d9a9" name="a1f139ee1c3fc1e3029eaf08d4e67d9a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f139ee1c3fc1e3029eaf08d4e67d9a9">&#9670;&#160;</a></span>performMaskedAtomicOp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1Value.html">Value</a> * performMaskedAtomicOp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AtomicRMWInst.html#a461cfbbb5c7a57ab73210498923cf615">AtomicRMWInst::BinOp</a></td>          <td class="paramname"><span class="paramname"><em>Op</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1IRBuilderBase.html">IRBuilderBase</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>Builder</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *</td>          <td class="paramname"><span class="paramname"><em>Loaded</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *</td>          <td class="paramname"><span class="paramname"><em>Shifted_Inc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *</td>          <td class="paramname"><span class="paramname"><em>Inc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> PartwordMaskValues &amp;</td>          <td class="paramname"><span class="paramname"><em>PMV</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emit IR to implement a masked version of a given atomicrmw operation. </p>
<p>(That is, only the bits under the Mask should be affected by the operation) </p>

<p class="definition">Definition at line <a class="el" href="AtomicExpandPass_8cpp_source.html#l00835">835</a> of file <a class="el" href="AtomicExpandPass_8cpp_source.html">AtomicExpandPass.cpp</a>.</p>

<p class="reference">References <a class="el" href="Instructions_8h_source.html#l00712">llvm::AtomicRMWInst::Add</a>, <a class="el" href="Instructions_8h_source.html#l00716">llvm::AtomicRMWInst::And</a>, <a class="el" href="LowerAtomic_8cpp_source.html#l00041">llvm::buildAtomicRMWValue()</a>, <a class="el" href="AtomicExpandPass_8cpp_source.html#l00804">extractMaskedValue()</a>, <a class="el" href="Instructions_8h_source.html#l00733">llvm::AtomicRMWInst::FAdd</a>, <a class="el" href="Instructions_8h_source.html#l00740">llvm::AtomicRMWInst::FMax</a>, <a class="el" href="Instructions_8h_source.html#l00744">llvm::AtomicRMWInst::FMin</a>, <a class="el" href="Instructions_8h_source.html#l00736">llvm::AtomicRMWInst::FSub</a>, <a class="el" href="AtomicExpandPass_8cpp_source.html#l00815">insertMaskedValue()</a>, <a class="el" href="llvm_2Support_2ErrorHandling_8h_source.html#l00143">llvm_unreachable</a>, <a class="el" href="Instructions_8h_source.html#l00724">llvm::AtomicRMWInst::Max</a>, <a class="el" href="Instructions_8h_source.html#l00726">llvm::AtomicRMWInst::Min</a>, <a class="el" href="Instructions_8h_source.html#l00718">llvm::AtomicRMWInst::Nand</a>, <a class="el" href="Instructions_8h_source.html#l00720">llvm::AtomicRMWInst::Or</a>, <a class="el" href="Instructions_8h_source.html#l00714">llvm::AtomicRMWInst::Sub</a>, <a class="el" href="Instructions_8h_source.html#l00752">llvm::AtomicRMWInst::UDecWrap</a>, <a class="el" href="Instructions_8h_source.html#l00748">llvm::AtomicRMWInst::UIncWrap</a>, <a class="el" href="Instructions_8h_source.html#l00728">llvm::AtomicRMWInst::UMax</a>, <a class="el" href="Instructions_8h_source.html#l00730">llvm::AtomicRMWInst::UMin</a>, <a class="el" href="Instructions_8h_source.html#l00710">llvm::AtomicRMWInst::Xchg</a>, and <a class="el" href="Instructions_8h_source.html#l00722">llvm::AtomicRMWInst::Xor</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a030569d5a541b6110f2ae1b6a3413a58" name="a030569d5a541b6110f2ae1b6a3413a58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a030569d5a541b6110f2ae1b6a3413a58">&#9670;&#160;</a></span>DEBUG_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEBUG_TYPE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AtomicExpandPass_8cpp_source.html#l00171">171</a> of file <a class="el" href="AtomicExpandPass_8cpp_source.html">AtomicExpandPass.cpp</a>.</p>

</div>
</div>
<a id="a27f675ccd5eaa6039694b250aa35ab57" name="a27f675ccd5eaa6039694b250aa35ab57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27f675ccd5eaa6039694b250aa35ab57">&#9670;&#160;</a></span>false</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Expand Atomic false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AtomicExpandPass_8cpp_source.html#l00172">172</a> of file <a class="el" href="AtomicExpandPass_8cpp_source.html">AtomicExpandPass.cpp</a>.</p>

</div>
</div>
<a id="a1bcc06b1cb86bd0ea08f33323190bdaa" name="a1bcc06b1cb86bd0ea08f33323190bdaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bcc06b1cb86bd0ea08f33323190bdaa">&#9670;&#160;</a></span>instructions</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Expand Atomic instructions</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AtomicExpandPass_8cpp_source.html#l00172">172</a> of file <a class="el" href="AtomicExpandPass_8cpp_source.html">AtomicExpandPass.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="BoundsChecking_8cpp_source.html#l00142">addBoundsChecking()</a>, <a class="el" href="X86TargetTransformInfo_8cpp_source.html#l06132">llvm::X86TTIImpl::areInlineCompatible()</a>, <a class="el" href="BDCE_8cpp_source.html#l00096">bitTrackingDCE()</a>, <a class="el" href="CoroFrame_8cpp_source.html#l03098">llvm::coro::buildCoroutineFrame()</a>, <a class="el" href="Coroutines_8cpp_source.html#l00171">llvm::coro::Shape::buildFrom()</a>, <a class="el" href="Function_8cpp_source.html#l01954">llvm::Function::callsFunctionThatReturnsTwice()</a>, <a class="el" href="TailRecursionElimination_8cpp_source.html#l00092">canTRE()</a>, <a class="el" href="FunctionAttrs_8cpp_source.html#l00160">checkFunctionMemoryAccess()</a>, <a class="el" href="CoroSplit_8cpp_source.html#l00714">collectDbgVariableIntrinsics()</a>, <a class="el" href="BPFPreserveStaticOffset_8cpp_source.html#l00594">collectPreserveStaticOffsetCalls()</a>, <a class="el" href="SelectionDAGISel_8cpp_source.html#l00420">computeUsesMSVCFloatingPoint()</a>, <a class="el" href="Annotation2Metadata_8cpp_source.html#l00026">convertAnnotation2Metadata()</a>, <a class="el" href="FunctionAttrs_8cpp_source.html#l01805">createSCCNodeSet()</a>, <a class="el" href="CoroFrame_8cpp_source.html#l03036">doRematerializations()</a>, <a class="el" href="DCE_8cpp_source.html#l00089">eliminateDeadCode()</a>, <a class="el" href="CodeExtractor_8cpp_source.html#l01527">eraseDebugIntrinsicsWithNonLocalRefs()</a>, <a class="el" href="MakeGuardsExplicit_8cpp_source.html#l00056">explicifyGuards()</a>, <a class="el" href="CodeExtractor_8cpp_source.html#l01544">fixupDebugInfoPostExtraction()</a>, <a class="el" href="FunctionAttrs_8cpp_source.html#l01763">functionWillReturn()</a>, <a class="el" href="LazyCallGraph_8cpp_source.html#l01580">getEdgeKind()</a>, <a class="el" href="UniformityAnalysis_8cpp_source.html#l00033">llvm::GenericUniformityAnalysisImpl&lt; ContextT &gt;::initialize()</a>, <a class="el" href="SPIRVRegularizer_8cpp_source.html#l00058">INITIALIZE_PASS()</a>, <a class="el" href="MLInlineAdvisor_8cpp_source.html#l00139">llvm::MLInlineAdvisor::MLInlineAdvisor()</a>, <a class="el" href="IRMutator_8cpp_source.html#l00174">llvm::InstDeleterIRStrategy::mutate()</a>, <a class="el" href="ScalarEvolution_8cpp_source.html#l13741">llvm::ScalarEvolution::print()</a>, <a class="el" href="StackSafetyAnalysis_8cpp_source.html#l01008">llvm::StackSafetyGlobalInfo::print()</a>, <a class="el" href="SelectionDAGISel_8cpp_source.html#l01572">processDbgDeclares()</a>, <a class="el" href="CoroElide_8cpp_source.html#l00119">removeTailCallAttribute()</a>, <a class="el" href="PredicateInfo_8cpp_source.html#l00830">llvm::replaceCreatedSSACopys()</a>, <a class="el" href="MIRCanonicalizerPass_8cpp_source.html#l00087">rescheduleLexographically()</a>, <a class="el" href="AliasSetTracker_8cpp_source.html#l00575">llvm::AliasSetsPrinterPass::run()</a>, <a class="el" href="AMDGPULowerKernelAttributes_8cpp_source.html#l00358">llvm::AMDGPULowerKernelAttributesPass::run()</a>, <a class="el" href="AssumeBundleBuilder_8cpp_source.html#l00576">llvm::AssumeBuilderPass::run()</a>, <a class="el" href="CGSCCPassManager_8cpp_source.html#l00360">llvm::DevirtSCCRepeatedPass::run()</a>, <a class="el" href="DeadStoreElimination_8cpp_source.html#l02332">llvm::DSEPass::run()</a>, <a class="el" href="Inliner_8cpp_source.html#l00208">llvm::InlinerPass::run()</a>, <a class="el" href="Transforms_2Instrumentation_2KCFI_8cpp_source.html#l00048">llvm::KCFIPass::run()</a>, <a class="el" href="MemDerefPrinter_8cpp_source.html#l00021">llvm::MemDerefPrinterPass::run()</a>, <a class="el" href="ModuleInliner_8cpp_source.html#l00103">llvm::ModuleInlinerPass::run()</a>, <a class="el" href="MustExecute_8cpp_source.html#l00752">llvm::MustBeExecutedContextPrinterPass::run()</a>, <a class="el" href="ProvenanceAnalysisEvaluator_8cpp_source.html#l00033">llvm::PAEvalPass::run()</a>, <a class="el" href="StackLifetime_8cpp_source.html#l00401">llvm::StackLifetimePrinterPass::run()</a>, <a class="el" href="ReplaceWithVeclib_8cpp_source.html#l00191">runImpl()</a>, <a class="el" href="InjectTLIMappings_8cpp_source.html#l00125">runImpl()</a>, <a class="el" href="AnnotationRemarks_8cpp_source.html#l00042">runImpl()</a>, <a class="el" href="ExpandLargeDivRem_8cpp_source.html#l00080">runImpl()</a>, <a class="el" href="ExpandLargeFpConvert_8cpp_source.html#l00593">runImpl()</a>, <a class="el" href="NVVMIntrRange_8cpp_source.html#l00066">runNVVMIntrRange()</a>, <a class="el" href="RewriteStatepointsForGC_8cpp_source.html#l03028">llvm::RewriteStatepointsForGC::runOnFunction()</a>, <a class="el" href="Reg2Mem_8cpp_source.html#l00053">runPass()</a>, <a class="el" href="CoroFrame_8cpp_source.html#l02760">sinkLifetimeStartMarkers()</a>, <a class="el" href="StripSymbols_8cpp_source.html#l00183">stripDeadDebugInfoImpl()</a>, <a class="el" href="StripGCRelocates_8cpp_source.html#l00024">stripGCRelocates()</a>, <a class="el" href="RewriteStatepointsForGC_8cpp_source.html#l02946">stripNonValidDataFromBody()</a>, <a class="el" href="BitcodeReader_8cpp_source.html#l00184">stripTBAA()</a>, and <a class="el" href="CGSCCPassManager_8cpp_source.html#l00876">updateCGAndAnalysisManagerForPass()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 1 2024 13:46:51 for LLVM by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
