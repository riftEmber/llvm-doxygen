<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/Scalar/SimpleLoopUnswitch.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LLVM<span id="projectnumber">&#160;19.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',false);
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_e6e1f1f37d351595fa984b942927b205.html">Scalar</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">SimpleLoopUnswitch.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="SimpleLoopUnswitch_8h_source.html">llvm/Transforms/Scalar/SimpleLoopUnswitch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="DenseMap_8h_source.html">llvm/ADT/DenseMap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="STLExtras_8h_source.html">llvm/ADT/STLExtras.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Sequence_8h_source.html">llvm/ADT/Sequence.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="SetVector_8h_source.html">llvm/ADT/SetVector.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="SmallPtrSet_8h_source.html">llvm/ADT/SmallPtrSet.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="SmallVector_8h_source.html">llvm/ADT/SmallVector.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Statistic_8h_source.html">llvm/ADT/Statistic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Twine_8h_source.html">llvm/ADT/Twine.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="AssumptionCache_8h_source.html">llvm/Analysis/AssumptionCache.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="BlockFrequencyInfo_8h_source.html">llvm/Analysis/BlockFrequencyInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Analysis_2CFG_8h_source.html">llvm/Analysis/CFG.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="CodeMetrics_8h_source.html">llvm/Analysis/CodeMetrics.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="DomTreeUpdater_8h_source.html">llvm/Analysis/DomTreeUpdater.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Analysis_2GuardUtils_8h_source.html">llvm/Analysis/GuardUtils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LoopAnalysisManager_8h_source.html">llvm/Analysis/LoopAnalysisManager.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LoopInfo_8h_source.html">llvm/Analysis/LoopInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LoopIterator_8h_source.html">llvm/Analysis/LoopIterator.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MemorySSA_8h_source.html">llvm/Analysis/MemorySSA.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MemorySSAUpdater_8h_source.html">llvm/Analysis/MemorySSAUpdater.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MustExecute_8h_source.html">llvm/Analysis/MustExecute.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ProfileSummaryInfo_8h_source.html">llvm/Analysis/ProfileSummaryInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ScalarEvolution_8h_source.html">llvm/Analysis/ScalarEvolution.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="TargetTransformInfo_8h_source.html">llvm/Analysis/TargetTransformInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ValueTracking_8h_source.html">llvm/Analysis/ValueTracking.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="BasicBlock_8h_source.html">llvm/IR/BasicBlock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Constant_8h_source.html">llvm/IR/Constant.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Constants_8h_source.html">llvm/IR/Constants.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Dominators_8h_source.html">llvm/IR/Dominators.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Function_8h_source.html">llvm/IR/Function.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="IRBuilder_8h_source.html">llvm/IR/IRBuilder.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="InstrTypes_8h_source.html">llvm/IR/InstrTypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="IR_2Instruction_8h_source.html">llvm/IR/Instruction.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Instructions_8h_source.html">llvm/IR/Instructions.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="IntrinsicInst_8h_source.html">llvm/IR/IntrinsicInst.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Module_8h_source.html">llvm/IR/Module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="PatternMatch_8h_source.html">llvm/IR/PatternMatch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ProfDataUtils_8h_source.html">llvm/IR/ProfDataUtils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="IR_2Use_8h_source.html">llvm/IR/Use.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Value_8h_source.html">llvm/IR/Value.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Casting_8h_source.html">llvm/Support/Casting.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="CommandLine_8h_source.html">llvm/Support/CommandLine.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Debug_8h_source.html">llvm/Support/Debug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="llvm_2Support_2ErrorHandling_8h_source.html">llvm/Support/ErrorHandling.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="GenericDomTree_8h_source.html">llvm/Support/GenericDomTree.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="InstructionCost_8h_source.html">llvm/Support/InstructionCost.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="raw__ostream_8h_source.html">llvm/Support/raw_ostream.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LoopPassManager_8h_source.html">llvm/Transforms/Scalar/LoopPassManager.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="BasicBlockUtils_8h_source.html">llvm/Transforms/Utils/BasicBlockUtils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Cloning_8h_source.html">llvm/Transforms/Utils/Cloning.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Transforms_2Utils_2Local_8h_source.html">llvm/Transforms/Utils/Local.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LoopUtils_8h_source.html">llvm/Transforms/Utils/LoopUtils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ValueMapper_8h_source.html">llvm/Transforms/Utils/ValueMapper.h</a>&quot;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;cassert&gt;</code><br />
<code>#include &lt;iterator&gt;</code><br />
<code>#include &lt;numeric&gt;</code><br />
<code>#include &lt;optional&gt;</code><br />
<code>#include &lt;utility&gt;</code><br />
</div>
<p><a href="SimpleLoopUnswitch_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad78e062f62e0d6e453941fb4ca843e4d" id="r_ad78e062f62e0d6e453941fb4ca843e4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>&#160;&#160;&#160;&quot;simple-loop-unswitch&quot;</td></tr>
<tr class="memdesc:ad78e062f62e0d6e453941fb4ca843e4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">===- <a class="el" href="SimpleLoopUnswitch_8cpp.html">SimpleLoopUnswitch.cpp</a> - Hoist loop-invariant control flow ------&mdash;===//  <br /></td></tr>
<tr class="separator:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad5b466cbd242079ab18347e5248fd1b9" id="r_ad5b466cbd242079ab18347e5248fd1b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad5b466cbd242079ab18347e5248fd1b9">STATISTIC</a> (NumBranches, &quot;Number of <a class="el" href="ARCBranchFinalize_8cpp.html#a14311558a7445776def2d5bc13161ba3">branches</a> unswitched&quot;)</td></tr>
<tr class="separator:ad5b466cbd242079ab18347e5248fd1b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3ab9463ab2f6721ceff43efa0ba37e5" id="r_ab3ab9463ab2f6721ceff43efa0ba37e5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab3ab9463ab2f6721ceff43efa0ba37e5">STATISTIC</a> (NumSwitches, &quot;Number of switches unswitched&quot;)</td></tr>
<tr class="separator:ab3ab9463ab2f6721ceff43efa0ba37e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b42a29a9e74c94c6d7826358ff0cf51" id="r_a5b42a29a9e74c94c6d7826358ff0cf51"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5b42a29a9e74c94c6d7826358ff0cf51">STATISTIC</a> (NumSelects, &quot;Number of <a class="el" href="SelectOptimize_8cpp.html#a3d495d9a0daf7fe32f1b1fb0aa153929">selects</a> turned into <a class="el" href="ARCBranchFinalize_8cpp.html#a14311558a7445776def2d5bc13161ba3">branches</a> <a class="el" href="AArch64ExpandPseudoInsts_8cpp.html#a4cfc8b177e8521a4b496ae2edff6244f">for</a> unswitching&quot;)</td></tr>
<tr class="separator:a5b42a29a9e74c94c6d7826358ff0cf51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a825e9b46eaa40a5853a43f520d9b3a9d" id="r_a825e9b46eaa40a5853a43f520d9b3a9d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a825e9b46eaa40a5853a43f520d9b3a9d">STATISTIC</a> (NumGuards, &quot;Number of guards turned into <a class="el" href="ARCBranchFinalize_8cpp.html#a14311558a7445776def2d5bc13161ba3">branches</a> <a class="el" href="AArch64ExpandPseudoInsts_8cpp.html#a4cfc8b177e8521a4b496ae2edff6244f">for</a> unswitching&quot;)</td></tr>
<tr class="separator:a825e9b46eaa40a5853a43f520d9b3a9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6e446decc15b9df1996f94f20798fbf" id="r_aa6e446decc15b9df1996f94f20798fbf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa6e446decc15b9df1996f94f20798fbf">STATISTIC</a> (NumTrivial, &quot;Number of unswitches that are trivial&quot;)</td></tr>
<tr class="separator:aa6e446decc15b9df1996f94f20798fbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91923c5ac786f070c692a9ae19983ecb" id="r_a91923c5ac786f070c692a9ae19983ecb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a91923c5ac786f070c692a9ae19983ecb">STATISTIC</a> (NumCostMultiplierSkipped, &quot;Number of unswitch candidates that had their cost multiplier skipped&quot;)</td></tr>
<tr class="separator:a91923c5ac786f070c692a9ae19983ecb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab781a25844101ae293fa4d6e9f27902f" id="r_ab781a25844101ae293fa4d6e9f27902f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab781a25844101ae293fa4d6e9f27902f">STATISTIC</a> (NumInvariantConditionsInjected, &quot;Number of invariant conditions injected and unswitched&quot;)</td></tr>
<tr class="separator:ab781a25844101ae293fa4d6e9f27902f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ca2e820d1b5a49dcaad5e6873917198" id="r_a5ca2e820d1b5a49dcaad5e6873917198"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5ca2e820d1b5a49dcaad5e6873917198">skipTrivialSelect</a> (<a class="el" href="classllvm_1_1Value.html">Value</a> *<a class="el" href="RISCVRedundantCopyElimination_8cpp.html#a193847098793cdbab306803186676899">Cond</a>)</td></tr>
<tr class="separator:a5ca2e820d1b5a49dcaad5e6873917198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1061b839196c8068b89d05aced41de29" id="r_a1061b839196c8068b89d05aced41de29"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1TinyPtrVector.html">TinyPtrVector</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1061b839196c8068b89d05aced41de29">collectHomogenousInstGraphLoopInvariants</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;Root, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI)</td></tr>
<tr class="memdesc:a1061b839196c8068b89d05aced41de29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collect all of the loop invariant input values transitively used by the homogeneous instruction graph from a given root.  <br /></td></tr>
<tr class="separator:a1061b839196c8068b89d05aced41de29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a669b909f685098d484bb789192620885" id="r_a669b909f685098d484bb789192620885"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a669b909f685098d484bb789192620885">replaceLoopInvariantUses</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1Value.html">Value</a> *Invariant, <a class="el" href="classllvm_1_1Constant.html">Constant</a> &amp;Replacement)</td></tr>
<tr class="separator:a669b909f685098d484bb789192620885"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98ebfee3c290028ee7875184aac567ce" id="r_a98ebfee3c290028ee7875184aac567ce"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a98ebfee3c290028ee7875184aac567ce">areLoopExitPHIsLoopInvariant</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;ExitingBB, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;ExitBB)</td></tr>
<tr class="memdesc:a98ebfee3c290028ee7875184aac567ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that all the LCSSA PHI nodes in the loop exit block have trivial incoming values along this edge.  <br /></td></tr>
<tr class="separator:a98ebfee3c290028ee7875184aac567ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45b06cc0aa3a6fcbace0aacf3b25a9e6" id="r_a45b06cc0aa3a6fcbace0aacf3b25a9e6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a45b06cc0aa3a6fcbace0aacf3b25a9e6">buildPartialUnswitchConditionalBranch</a> (<a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;BB, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; Invariants, <a class="el" href="classbool.html">bool</a> <a class="el" href="structllvm_1_1Loop_1_1LoopBounds.html#a1c06ad0290f168148c08edc0ce69703f">Direction</a>, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;UnswitchedSucc, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;NormalSucc, <a class="el" href="classbool.html">bool</a> InsertFreeze, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="el" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> *AC, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT)</td></tr>
<tr class="memdesc:a45b06cc0aa3a6fcbace0aacf3b25a9e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy a set of loop invariant values <code>ToDuplicate</code> and insert them at the end of <code>BB</code> and conditionally branch on the copied condition.  <br /></td></tr>
<tr class="separator:a45b06cc0aa3a6fcbace0aacf3b25a9e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eaf12b7854445670a7b0af3fe87b86c" id="r_a0eaf12b7854445670a7b0af3fe87b86c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0eaf12b7854445670a7b0af3fe87b86c">buildPartialInvariantUnswitchConditionalBranch</a> (<a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;BB, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; ToDuplicate, <a class="el" href="classbool.html">bool</a> <a class="el" href="structllvm_1_1Loop_1_1LoopBounds.html#a1c06ad0290f168148c08edc0ce69703f">Direction</a>, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;UnswitchedSucc, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;NormalSucc, <a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU)</td></tr>
<tr class="memdesc:a0eaf12b7854445670a7b0af3fe87b86c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy a set of loop invariant values, and conditionally branch on them.  <br /></td></tr>
<tr class="separator:a0eaf12b7854445670a7b0af3fe87b86c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a003a854484a7b23c151bc0b3d684e5d9" id="r_a003a854484a7b23c151bc0b3d684e5d9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a003a854484a7b23c151bc0b3d684e5d9">rewritePHINodesForUnswitchedExitBlock</a> (<a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;UnswitchedBB, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;OldExitingBB, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;OldPH)</td></tr>
<tr class="memdesc:a003a854484a7b23c151bc0b3d684e5d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rewrite the PHI nodes in an unswitched loop exit basic block.  <br /></td></tr>
<tr class="separator:a003a854484a7b23c151bc0b3d684e5d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a1db01205f9a51a14b99e53e3068da1" id="r_a9a1db01205f9a51a14b99e53e3068da1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9a1db01205f9a51a14b99e53e3068da1">rewritePHINodesForExitAndUnswitchedBlocks</a> (<a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;ExitBB, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;UnswitchedBB, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;OldExitingBB, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;OldPH, <a class="el" href="classbool.html">bool</a> FullUnswitch)</td></tr>
<tr class="memdesc:a9a1db01205f9a51a14b99e53e3068da1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rewrite the PHI nodes in the loop exit basic block and the split off unswitched block.  <br /></td></tr>
<tr class="separator:a9a1db01205f9a51a14b99e53e3068da1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa8d35023dc30883011a5641eac69d38" id="r_afa8d35023dc30883011a5641eac69d38"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa8d35023dc30883011a5641eac69d38">hoistLoopToNewParent</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;Preheader, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU, <a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE)</td></tr>
<tr class="memdesc:afa8d35023dc30883011a5641eac69d38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hoist the current loop up to the innermost loop containing a remaining exit.  <br /></td></tr>
<tr class="separator:afa8d35023dc30883011a5641eac69d38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e771bd40bbd3121ec36a96aa44ef46a" id="r_a5e771bd40bbd3121ec36a96aa44ef46a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Loop.html">Loop</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5e771bd40bbd3121ec36a96aa44ef46a">getTopMostExitingLoop</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ExitBB, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI)</td></tr>
<tr class="separator:a5e771bd40bbd3121ec36a96aa44ef46a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a082aa2e05f44f7dab89e2ff8c582ff" id="r_a6a082aa2e05f44f7dab89e2ff8c582ff"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6a082aa2e05f44f7dab89e2ff8c582ff">unswitchTrivialBranch</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1BranchInst.html">BranchInst</a> &amp;BI, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU)</td></tr>
<tr class="memdesc:a6a082aa2e05f44f7dab89e2ff8c582ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unswitch a trivial branch if the condition is loop invariant.  <br /></td></tr>
<tr class="separator:a6a082aa2e05f44f7dab89e2ff8c582ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadf6036e1d19c8ba91242af6ec48d40b" id="r_aadf6036e1d19c8ba91242af6ec48d40b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aadf6036e1d19c8ba91242af6ec48d40b">unswitchTrivialSwitch</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1SwitchInst.html">SwitchInst</a> &amp;<a class="el" href="PassBuilderBindings_8cpp.html#a10fde6bea2f819ef87db20d8fe3085c7">SI</a>, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU)</td></tr>
<tr class="memdesc:aadf6036e1d19c8ba91242af6ec48d40b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unswitch a trivial switch if the condition is loop invariant.  <br /></td></tr>
<tr class="separator:aadf6036e1d19c8ba91242af6ec48d40b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a050cc2b2d1467ffcad6a825f1141424c" id="r_a050cc2b2d1467ffcad6a825f1141424c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a050cc2b2d1467ffcad6a825f1141424c">unswitchAllTrivialConditions</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU)</td></tr>
<tr class="memdesc:a050cc2b2d1467ffcad6a825f1141424c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This routine scans the loop to find a branch or switch which occurs before any side effects occur.  <br /></td></tr>
<tr class="separator:a050cc2b2d1467ffcad6a825f1141424c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea49493e2ae224d30cda2b3235d180b0" id="r_aea49493e2ae224d30cda2b3235d180b0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aea49493e2ae224d30cda2b3235d180b0">buildClonedLoopBlocks</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *LoopPH, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *SplitBB, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt; ExitBlocks, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ParentBB, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *UnswitchedSuccBB, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ContinueSuccBB, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1SmallDenseMap.html">SmallDenseMap</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *, 16 &gt; &amp;DominatingSucc, <a class="el" href="namespacellvm.html#abf0f52ae29f87b5e0f2b95ff961cdae1">ValueToValueMapTy</a> &amp;VMap, <a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; DominatorTree::UpdateType &gt; &amp;DTUpdates, <a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;AC, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU, <a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE)</td></tr>
<tr class="memdesc:aea49493e2ae224d30cda2b3235d180b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build the cloned blocks for an unswitched copy of the given loop.  <br /></td></tr>
<tr class="separator:aea49493e2ae224d30cda2b3235d180b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af747cc9f106d837a03d08bd395ede216" id="r_af747cc9f106d837a03d08bd395ede216"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Loop.html">Loop</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af747cc9f106d837a03d08bd395ede216">cloneLoopNest</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;OrigRootL, <a class="el" href="classllvm_1_1Loop.html">Loop</a> *RootParentL, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="namespacellvm.html#abf0f52ae29f87b5e0f2b95ff961cdae1">ValueToValueMapTy</a> &amp;VMap, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI)</td></tr>
<tr class="memdesc:af747cc9f106d837a03d08bd395ede216"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recursively clone the specified loop and all of its children.  <br /></td></tr>
<tr class="separator:af747cc9f106d837a03d08bd395ede216"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe5225e90ea8896cab9cda7246af413d" id="r_afe5225e90ea8896cab9cda7246af413d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe5225e90ea8896cab9cda7246af413d">buildClonedLoops</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;OrigL, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt; ExitBlocks, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="namespacellvm.html#abf0f52ae29f87b5e0f2b95ff961cdae1">ValueToValueMapTy</a> &amp;VMap, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; <a class="el" href="classllvm_1_1Loop.html">Loop</a> * &gt; &amp;NonChildClonedLoops)</td></tr>
<tr class="memdesc:afe5225e90ea8896cab9cda7246af413d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build the cloned loops of an original loop from unswitching.  <br /></td></tr>
<tr class="separator:afe5225e90ea8896cab9cda7246af413d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13971a178ec8248ecf4b0a903c4db1c6" id="r_a13971a178ec8248ecf4b0a903c4db1c6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a13971a178ec8248ecf4b0a903c4db1c6">deleteDeadClonedBlocks</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt; ExitBlocks, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; std::unique_ptr&lt; <a class="el" href="namespacellvm.html#abf0f52ae29f87b5e0f2b95ff961cdae1">ValueToValueMapTy</a> &gt; &gt; VMaps, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU)</td></tr>
<tr class="separator:a13971a178ec8248ecf4b0a903c4db1c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeabcdff1c388af9ac5a98f1ec4ba2471" id="r_aeabcdff1c388af9ac5a98f1ec4ba2471"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeabcdff1c388af9ac5a98f1ec4ba2471">deleteDeadBlocksFromLoop</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt; &amp;ExitBlocks, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU, <a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE, <a class="el" href="classllvm_1_1LPMUpdater.html">LPMUpdater</a> &amp;LoopUpdater)</td></tr>
<tr class="separator:aeabcdff1c388af9ac5a98f1ec4ba2471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c9b0aa6fff67d00a95f47fc121491e5" id="r_a0c9b0aa6fff67d00a95f47fc121491e5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet</a>&lt; <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *, 16 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0c9b0aa6fff67d00a95f47fc121491e5">recomputeLoopBlockSet</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI)</td></tr>
<tr class="memdesc:a0c9b0aa6fff67d00a95f47fc121491e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recompute the set of blocks in a loop after unswitching.  <br /></td></tr>
<tr class="separator:a0c9b0aa6fff67d00a95f47fc121491e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab79f3dcf9607c6a8908cda57cc964f49" id="r_ab79f3dcf9607c6a8908cda57cc964f49"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab79f3dcf9607c6a8908cda57cc964f49">rebuildLoopAfterUnswitch</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt; ExitBlocks, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; <a class="el" href="classllvm_1_1Loop.html">Loop</a> * &gt; &amp;HoistedLoops, <a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE)</td></tr>
<tr class="memdesc:ab79f3dcf9607c6a8908cda57cc964f49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rebuild a loop after unswitching removes some subset of blocks and edges.  <br /></td></tr>
<tr class="separator:ab79f3dcf9607c6a8908cda57cc964f49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18b0f192065386f9e0bc793a08bbf3ff" id="r_a18b0f192065386f9e0bc793a08bbf3ff"><td class="memTemplParams" colspan="2">template&lt;typename CallableT &gt; </td></tr>
<tr class="memitem:a18b0f192065386f9e0bc793a08bbf3ff"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a18b0f192065386f9e0bc793a08bbf3ff">visitDomSubTree</a> (<a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB, CallableT Callable)</td></tr>
<tr class="memdesc:a18b0f192065386f9e0bc793a08bbf3ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to visit a dominator subtree, invoking a callable on each node.  <br /></td></tr>
<tr class="separator:a18b0f192065386f9e0bc793a08bbf3ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45007554e260296266b8ae927dde223f" id="r_a45007554e260296266b8ae927dde223f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a45007554e260296266b8ae927dde223f">postUnswitch</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1LPMUpdater.html">LPMUpdater</a> &amp;U, <a class="el" href="classllvm_1_1StringRef.html">StringRef</a> LoopName, <a class="el" href="classbool.html">bool</a> CurrentLoopValid, <a class="el" href="classbool.html">bool</a> PartiallyInvariant, <a class="el" href="classbool.html">bool</a> InjectedCondition, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Loop.html">Loop</a> * &gt; NewLoops)</td></tr>
<tr class="separator:a45007554e260296266b8ae927dde223f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae4261fb86bc9023c3383785afa66b9a" id="r_aae4261fb86bc9023c3383785afa66b9a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aae4261fb86bc9023c3383785afa66b9a">unswitchNontrivialInvariants</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;TI, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; Invariants, <a class="el" href="structllvm_1_1IVConditionInfo.html">IVConditionInfo</a> &amp;PartialIVInfo, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;AC, <a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU, <a class="el" href="classllvm_1_1LPMUpdater.html">LPMUpdater</a> &amp;LoopUpdater, <a class="el" href="classbool.html">bool</a> InsertFreeze, <a class="el" href="classbool.html">bool</a> InjectedCondition)</td></tr>
<tr class="separator:aae4261fb86bc9023c3383785afa66b9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78a15f5bff768264b9e435e319db18f3" id="r_a78a15f5bff768264b9e435e319db18f3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1InstructionCost.html">InstructionCost</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78a15f5bff768264b9e435e319db18f3">computeDomSubtreeCost</a> (<a class="el" href="namespacellvm.html#a58b9df85470fc4e2a8066ff6a62e5a34">DomTreeNode</a> &amp;<a class="el" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1SmallDenseMap.html">SmallDenseMap</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *, <a class="el" href="classllvm_1_1InstructionCost.html">InstructionCost</a>, 4 &gt; &amp;BBCostMap, <a class="el" href="classllvm_1_1SmallDenseMap.html">SmallDenseMap</a>&lt; <a class="el" href="namespacellvm.html#a58b9df85470fc4e2a8066ff6a62e5a34">DomTreeNode</a> *, <a class="el" href="classllvm_1_1InstructionCost.html">InstructionCost</a>, 4 &gt; &amp;DTCostMap)</td></tr>
<tr class="memdesc:a78a15f5bff768264b9e435e319db18f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recursively compute the cost of a dominator subtree based on the per-block cost map provided.  <br /></td></tr>
<tr class="separator:a78a15f5bff768264b9e435e319db18f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e6301db15e4516c92e21f33761886c6" id="r_a2e6301db15e4516c92e21f33761886c6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1BranchInst.html">BranchInst</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2e6301db15e4516c92e21f33761886c6">turnSelectIntoBranch</a> (<a class="el" href="classllvm_1_1SelectInst.html">SelectInst</a> *<a class="el" href="PassBuilderBindings_8cpp.html#a10fde6bea2f819ef87db20d8fe3085c7">SI</a>, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU, <a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> *AC)</td></tr>
<tr class="memdesc:a2e6301db15e4516c92e21f33761886c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turns a select instruction into implicit control flow branch, making the following replacement:  <br /></td></tr>
<tr class="separator:a2e6301db15e4516c92e21f33761886c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3ac46dde637293a34d0ff7b619a656b" id="r_af3ac46dde637293a34d0ff7b619a656b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1BranchInst.html">BranchInst</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af3ac46dde637293a34d0ff7b619a656b">turnGuardIntoBranch</a> (<a class="el" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *GI, <a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU)</td></tr>
<tr class="memdesc:af3ac46dde637293a34d0ff7b619a656b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turns a llvm.experimental.guard intrinsic into implicit control flow branch, making the following replacement:  <br /></td></tr>
<tr class="separator:af3ac46dde637293a34d0ff7b619a656b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e686f0d790f0fd925a036c4cb50199b" id="r_a0e686f0d790f0fd925a036c4cb50199b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0e686f0d790f0fd925a036c4cb50199b">CalculateUnswitchCostMultiplier</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;TI, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; NonTrivialUnswitchCandidate &gt; UnswitchCandidates)</td></tr>
<tr class="memdesc:a0e686f0d790f0fd925a036c4cb50199b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cost multiplier is a way to limit potentially exponential behavior of loop-unswitch.  <br /></td></tr>
<tr class="separator:a0e686f0d790f0fd925a036c4cb50199b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7737deb6a166cd21dc8465bb48f110b2" id="r_a7737deb6a166cd21dc8465bb48f110b2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7737deb6a166cd21dc8465bb48f110b2">collectUnswitchCandidates</a> (<a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; NonTrivialUnswitchCandidate &gt; &amp;UnswitchCandidates, <a class="el" href="structllvm_1_1IVConditionInfo.html">IVConditionInfo</a> &amp;PartialIVInfo, <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *&amp;PartialIVCondBranch, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1AAResults.html">AAResults</a> &amp;AA, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU)</td></tr>
<tr class="separator:a7737deb6a166cd21dc8465bb48f110b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00f78fab5c2e297c664f86f38233cbff" id="r_a00f78fab5c2e297c664f86f38233cbff"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a00f78fab5c2e297c664f86f38233cbff">canonicalizeForInvariantConditionInjection</a> (ICmpInst::Predicate &amp;Pred, <a class="el" href="classllvm_1_1Value.html">Value</a> *&amp;<a class="el" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="el" href="classllvm_1_1Value.html">Value</a> *&amp;<a class="el" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&amp;IfTrue, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&amp;IfFalse, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L)</td></tr>
<tr class="memdesc:a00f78fab5c2e297c664f86f38233cbff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tries to canonicalize condition described by:  <br /></td></tr>
<tr class="separator:a00f78fab5c2e297c664f86f38233cbff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cbb86574a065a122292322ed4e27b0e" id="r_a4cbb86574a065a122292322ed4e27b0e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4cbb86574a065a122292322ed4e27b0e">shouldTryInjectInvariantCondition</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> ICmpInst::Predicate Pred, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Value.html">Value</a> *<a class="el" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Value.html">Value</a> *<a class="el" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *IfTrue, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *IfFalse, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L)</td></tr>
<tr class="memdesc:a4cbb86574a065a122292322ed4e27b0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true, if predicate described by ( <code>Pred</code>, <code>LHS</code>, <code>RHS</code> ) succeeding into blocks ( <code>IfTrue</code>, <code>IfFalse</code>) can be optimized by injecting a loop-invariant condition.  <br /></td></tr>
<tr class="separator:a4cbb86574a065a122292322ed4e27b0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af08d593d99b84298decf28611dd32f50" id="r_af08d593d99b84298decf28611dd32f50"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af08d593d99b84298decf28611dd32f50">shouldTryInjectBasingOnMetadata</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BranchInst.html">BranchInst</a> *BI, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *TakenSucc)</td></tr>
<tr class="memdesc:af08d593d99b84298decf28611dd32f50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true, if metadata on <code>BI</code> allows us to optimize branching into <code>TakenSucc</code> via injection of invariant conditions.  <br /></td></tr>
<tr class="separator:af08d593d99b84298decf28611dd32f50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8f270ce4d001ee9e7839aa11c607931" id="r_aa8f270ce4d001ee9e7839aa11c607931"><td class="memItemLeft" align="right" valign="top">static NonTrivialUnswitchCandidate&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa8f270ce4d001ee9e7839aa11c607931">injectPendingInvariantConditions</a> (NonTrivialUnswitchCandidate Candidate, <a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;AC, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU)</td></tr>
<tr class="memdesc:aa8f270ce4d001ee9e7839aa11c607931"><td class="mdescLeft">&#160;</td><td class="mdescRight">Materialize pending invariant condition of the given candidate into IR.  <br /></td></tr>
<tr class="separator:aa8f270ce4d001ee9e7839aa11c607931"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ba70601e2398b462375dd8f3e9bc1b2" id="r_a9ba70601e2398b462375dd8f3e9bc1b2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9ba70601e2398b462375dd8f3e9bc1b2">insertCandidatesWithPendingInjections</a> (<a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; NonTrivialUnswitchCandidate &gt; &amp;UnswitchCandidates, <a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, ICmpInst::Predicate Pred, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; CompareDesc &gt; Compares, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT)</td></tr>
<tr class="memdesc:a9ba70601e2398b462375dd8f3e9bc1b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given chain of loop branch conditions looking like: br (Variant &lt; Invariant1) br (Variant &lt; Invariant2) br (Variant &lt; Invariant3) ... collect set of invariant conditions on which we want to unswitch, which look like: Invariant1 &lt;= Invariant2 Invariant2 &lt;= Invariant3 ... Though they might not immediately exist in the IR, we can still inject them.  <br /></td></tr>
<tr class="separator:a9ba70601e2398b462375dd8f3e9bc1b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a607c1e689b230ff38733bfc0bfd3b6da" id="r_a607c1e689b230ff38733bfc0bfd3b6da"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a607c1e689b230ff38733bfc0bfd3b6da">collectUnswitchCandidatesWithInjections</a> (<a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; NonTrivialUnswitchCandidate &gt; &amp;UnswitchCandidates, <a class="el" href="structllvm_1_1IVConditionInfo.html">IVConditionInfo</a> &amp;PartialIVInfo, <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *&amp;PartialIVCondBranch, <a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1AAResults.html">AAResults</a> &amp;AA, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU)</td></tr>
<tr class="memdesc:a607c1e689b230ff38733bfc0bfd3b6da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collect unswitch candidates by invariant conditions that are not immediately present in the loop.  <br /></td></tr>
<tr class="separator:a607c1e689b230ff38733bfc0bfd3b6da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41cbe08b01edbedddb8d8706d13c5270" id="r_a41cbe08b01edbedddb8d8706d13c5270"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a41cbe08b01edbedddb8d8706d13c5270">isSafeForNoNTrivialUnswitching</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI)</td></tr>
<tr class="separator:a41cbe08b01edbedddb8d8706d13c5270"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52374e76082ee94158724e5695a88a02" id="r_a52374e76082ee94158724e5695a88a02"><td class="memItemLeft" align="right" valign="top">static NonTrivialUnswitchCandidate&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a52374e76082ee94158724e5695a88a02">findBestNonTrivialUnswitchCandidate</a> (<a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; NonTrivialUnswitchCandidate &gt; UnswitchCandidates, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;AC, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;<a class="el" href="namespacellvm.html#aa0d69e81725c10fa5407f0bf34462068">TTI</a>, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="structllvm_1_1IVConditionInfo.html">IVConditionInfo</a> &amp;PartialIVInfo)</td></tr>
<tr class="separator:a52374e76082ee94158724e5695a88a02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81f9271273f74a220003075573119a05" id="r_a81f9271273f74a220003075573119a05"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a81f9271273f74a220003075573119a05">shouldInsertFreeze</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;TI, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;AC)</td></tr>
<tr class="separator:a81f9271273f74a220003075573119a05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc20b8effcbe869069ff973354344872" id="r_acc20b8effcbe869069ff973354344872"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acc20b8effcbe869069ff973354344872">unswitchBestCondition</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;AC, <a class="el" href="classllvm_1_1AAResults.html">AAResults</a> &amp;AA, <a class="el" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;<a class="el" href="namespacellvm.html#aa0d69e81725c10fa5407f0bf34462068">TTI</a>, <a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU, <a class="el" href="classllvm_1_1LPMUpdater.html">LPMUpdater</a> &amp;LoopUpdater)</td></tr>
<tr class="separator:acc20b8effcbe869069ff973354344872"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00b3b7cedd83de61be0312c6535f3f37" id="r_a00b3b7cedd83de61be0312c6535f3f37"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a00b3b7cedd83de61be0312c6535f3f37">unswitchLoop</a> (<a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;L, <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;DT, <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;LI, <a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;AC, <a class="el" href="classllvm_1_1AAResults.html">AAResults</a> &amp;AA, <a class="el" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;<a class="el" href="namespacellvm.html#aa0d69e81725c10fa5407f0bf34462068">TTI</a>, <a class="el" href="classbool.html">bool</a> Trivial, <a class="el" href="classbool.html">bool</a> NonTrivial, <a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *SE, <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *MSSAU, <a class="el" href="classllvm_1_1ProfileSummaryInfo.html">ProfileSummaryInfo</a> *PSI, <a class="el" href="classllvm_1_1BlockFrequencyInfo.html">BlockFrequencyInfo</a> *BFI, <a class="el" href="classllvm_1_1LPMUpdater.html">LPMUpdater</a> &amp;LoopUpdater)</td></tr>
<tr class="memdesc:a00b3b7cedd83de61be0312c6535f3f37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unswitch control flow predicated on loop invariant conditions.  <br /></td></tr>
<tr class="separator:a00b3b7cedd83de61be0312c6535f3f37"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a08f48517d908cdf7a21eed936deb7f7c" id="r_a08f48517d908cdf7a21eed936deb7f7c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="classbool.html">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a08f48517d908cdf7a21eed936deb7f7c">EnableNonTrivialUnswitch</a> (&quot;enable-nontrivial-unswitch&quot;, cl::init(false), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Forcibly enables non-trivial loop unswitching rather than &quot; &quot;following the configuration passed into the pass.&quot;))</td></tr>
<tr class="separator:a08f48517d908cdf7a21eed936deb7f7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a639210c26d1952e9108bcdbb0353443b" id="r_a639210c26d1952e9108bcdbb0353443b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a639210c26d1952e9108bcdbb0353443b">UnswitchThreshold</a> (&quot;unswitch-threshold&quot;, cl::init(50), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;The cost threshold <a class="el" href="AArch64ExpandPseudoInsts_8cpp.html#a4cfc8b177e8521a4b496ae2edff6244f">for</a> unswitching a loop.&quot;))</td></tr>
<tr class="separator:a639210c26d1952e9108bcdbb0353443b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58389dda20e5bd529f3fb18c6531c7ce" id="r_a58389dda20e5bd529f3fb18c6531c7ce"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="classbool.html">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a58389dda20e5bd529f3fb18c6531c7ce">EnableUnswitchCostMultiplier</a> (&quot;enable-unswitch-cost-multiplier&quot;, cl::init(<a class="el" href="BasicAliasAnalysis_8cpp.html#af6d5cafbdfc5313e65d990120021a3ec">true</a>), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Enable unswitch cost multiplier that prohibits exponential &quot; &quot;explosion in nontrivial unswitch.&quot;))</td></tr>
<tr class="separator:a58389dda20e5bd529f3fb18c6531c7ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ec915a44f00522e05af0372fe598372" id="r_a8ec915a44f00522e05af0372fe598372"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8ec915a44f00522e05af0372fe598372">UnswitchSiblingsToplevelDiv</a> (&quot;unswitch-siblings-toplevel-div&quot;, cl::init(2), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Toplevel siblings divisor <a class="el" href="AArch64ExpandPseudoInsts_8cpp.html#a4cfc8b177e8521a4b496ae2edff6244f">for</a> cost multiplier.&quot;))</td></tr>
<tr class="separator:a8ec915a44f00522e05af0372fe598372"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49834115bcfb38ad510305e2e587f67a" id="r_a49834115bcfb38ad510305e2e587f67a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a49834115bcfb38ad510305e2e587f67a">UnswitchNumInitialUnscaledCandidates</a> (&quot;unswitch-num-initial-unscaled-candidates&quot;, cl::init(8), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Number of unswitch candidates that are ignored when calculating &quot; &quot;cost multiplier.&quot;))</td></tr>
<tr class="separator:a49834115bcfb38ad510305e2e587f67a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0986070d3233b98011a6bd838a65f1cb" id="r_a0986070d3233b98011a6bd838a65f1cb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="classbool.html">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0986070d3233b98011a6bd838a65f1cb">UnswitchGuards</a> (&quot;simple-loop-unswitch-guards&quot;, cl::init(<a class="el" href="BasicAliasAnalysis_8cpp.html#af6d5cafbdfc5313e65d990120021a3ec">true</a>), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;If enabled, simple loop unswitching will also consider &quot; &quot;llvm.experimental.guard <a class="el" href="ExpandReductions_8cpp.html#a4bfc835c142e9a1d698379da76392e9f">intrinsics</a> as unswitch candidates.&quot;))</td></tr>
<tr class="separator:a0986070d3233b98011a6bd838a65f1cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab1355fa0b9b124a5424d170db011c9e" id="r_aab1355fa0b9b124a5424d170db011c9e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="classbool.html">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aab1355fa0b9b124a5424d170db011c9e">DropNonTrivialImplicitNullChecks</a> (&quot;simple-loop-unswitch-drop-non-trivial-implicit-null-checks&quot;, cl::init(false), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;If enabled, drop make.implicit <a class="el" href="AMDGPUAnnotateUniformValues_8cpp.html#a3cd36c33be3dfbc64aa6da755a47e6b1">metadata</a> in unswitched implicit &quot; &quot;null <a class="el" href="ImplicitNullChecks_8cpp.html#a9a4776a2cfc0bcc3774690aef4b43196">checks</a> to save time analyzing <a class="el" href="PassBuilderBindings_8cpp.html#a2123399ae32cbb1ca753fdfa99756b5c">if</a> we can keep it.&quot;))</td></tr>
<tr class="separator:aab1355fa0b9b124a5424d170db011c9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93f97c549049a827518c9bce17a53833" id="r_a93f97c549049a827518c9bce17a53833"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a93f97c549049a827518c9bce17a53833">MSSAThreshold</a> (&quot;simple-loop-unswitch-<a class="el" href="MemorySSA_8cpp.html#a31df1231338073ab4c1eae57f0d75a7f">memoryssa</a>-threshold&quot;, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Max number of memory uses to explore during &quot; &quot;partial unswitching analysis&quot;), cl::init(100), cl::Hidden)</td></tr>
<tr class="separator:a93f97c549049a827518c9bce17a53833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a777551c6c08e4e3588b36665a8572414" id="r_a777551c6c08e4e3588b36665a8572414"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="classbool.html">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a777551c6c08e4e3588b36665a8572414">FreezeLoopUnswitchCond</a> (&quot;freeze-loop-unswitch-cond&quot;, cl::init(<a class="el" href="BasicAliasAnalysis_8cpp.html#af6d5cafbdfc5313e65d990120021a3ec">true</a>), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;If enabled, the <a class="el" href="CanonicalizeFreezeInLoops_8cpp.html#a9680cc81ccaa4506cae9f5369cf5307e">freeze</a> instruction will be added to condition &quot; &quot;of loop unswitch to prevent miscompilation.&quot;))</td></tr>
<tr class="separator:a777551c6c08e4e3588b36665a8572414"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a777260b6a90536fc8e2d844a891eddb5" id="r_a777260b6a90536fc8e2d844a891eddb5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="classbool.html">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a777260b6a90536fc8e2d844a891eddb5">InjectInvariantConditions</a> (&quot;simple-loop-unswitch-inject-invariant-conditions&quot;, cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Whether we should inject new invariants and unswitch them to &quot; &quot;eliminate some existing (non-invariant) conditions.&quot;), cl::init(<a class="el" href="BasicAliasAnalysis_8cpp.html#af6d5cafbdfc5313e65d990120021a3ec">true</a>))</td></tr>
<tr class="separator:a777260b6a90536fc8e2d844a891eddb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad5d88dba5221d4277024edf98cec9ac" id="r_aad5d88dba5221d4277024edf98cec9ac"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aad5d88dba5221d4277024edf98cec9ac">InjectInvariantConditionHotnesThreshold</a> (&quot;simple-loop-unswitch-inject-invariant-condition-hotness-threshold&quot;, cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Only try to inject loop invariant conditions and &quot; &quot;unswitch on them to eliminate <a class="el" href="ARCBranchFinalize_8cpp.html#a14311558a7445776def2d5bc13161ba3">branches</a> that are &quot; &quot;not-taken 1/&lt;this option&gt; times or less.&quot;), cl::init(16))</td></tr>
<tr class="separator:aad5d88dba5221d4277024edf98cec9ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad78e062f62e0d6e453941fb4ca843e4d" name="ad78e062f62e0d6e453941fb4ca843e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad78e062f62e0d6e453941fb4ca843e4d">&#9670;&#160;</a></span>DEBUG_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_TYPE&#160;&#160;&#160;&quot;simple-loop-unswitch&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>===- <a class="el" href="SimpleLoopUnswitch_8cpp.html">SimpleLoopUnswitch.cpp</a> - Hoist loop-invariant control flow ------&mdash;===// </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00069">69</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a98ebfee3c290028ee7875184aac567ce" name="a98ebfee3c290028ee7875184aac567ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98ebfee3c290028ee7875184aac567ce">&#9670;&#160;</a></span>areLoopExitPHIsLoopInvariant()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> areLoopExitPHIsLoopInvariant </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>ExitingBB</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>ExitBB</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check that all the LCSSA PHI nodes in the loop exit block have trivial incoming values along this edge. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00252">252</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="Casting_8h_source.html#l00649">llvm::dyn_cast()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, and <a class="el" href="llvm_2Support_2ErrorHandling_8h_source.html#l00143">llvm_unreachable</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00509">unswitchTrivialBranch()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00743">unswitchTrivialSwitch()</a>.</p>

</div>
</div>
<a id="aea49493e2ae224d30cda2b3235d180b0" name="aea49493e2ae224d30cda2b3235d180b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea49493e2ae224d30cda2b3235d180b0">&#9670;&#160;</a></span>buildClonedLoopBlocks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * buildClonedLoopBlocks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *</td>          <td class="paramname"><span class="paramname"><em>LoopPH</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *</td>          <td class="paramname"><span class="paramname"><em>SplitBB</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt;</td>          <td class="paramname"><span class="paramname"><em>ExitBlocks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *</td>          <td class="paramname"><span class="paramname"><em>ParentBB</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *</td>          <td class="paramname"><span class="paramname"><em>UnswitchedSuccBB</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *</td>          <td class="paramname"><span class="paramname"><em>ContinueSuccBB</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1SmallDenseMap.html">SmallDenseMap</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *, <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *, 16 &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>DominatingSucc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacellvm.html#abf0f52ae29f87b5e0f2b95ff961cdae1">ValueToValueMapTy</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>VMap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; DominatorTree::UpdateType &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>DTUpdates</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>AC</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>DT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *</td>          <td class="paramname"><span class="paramname"><em>MSSAU</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *</td>          <td class="paramname"><span class="paramname"><em>SE</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Build the cloned blocks for an unswitched copy of the given loop. </p>
<p>The cloned blocks are inserted before the loop preheader (<code>LoopPH</code>) and after the split block (<code>SplitBB</code>) that will be used to select between the cloned and original loop.</p>
<p>This routine handles cloning all of the necessary loop blocks and exit blocks including rewriting their instructions and the relevant PHI nodes. Any loop blocks or exit blocks which are dominated by a different successor than the one for this clone of the loop blocks can be trivially skipped. We use the <code>DominatingSucc</code> map to determine whether a block satisfies that property with a simple map lookup.</p>
<p>It also correctly creates the unconditional branch in the cloned unswitched parent block to only point at the unswitched successor.</p>
<p>This does not handle most of the necessary updates to <code>LoopInfo</code>. Only exit block splitting is correctly reflected in <code>LoopInfo</code>, essentially all of the cloned blocks (and their loops) are left without full <code>LoopInfo</code> updates. This also doesn't fully update <code>DominatorTree</code>. It adds the cloned blocks to them but doesn't create the cloned <code>DominatorTree</code> structure and instead the caller must recompute an accurate DT. It <em>does</em> correctly update the <code>AssumptionCache</code> provided in <code>AC</code>. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01167">1167</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Casting_8h_source.html#l00565">llvm::cast()</a>, <a class="el" href="Casting_8h_source.html#l00720">llvm::cast_or_null()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00096">llvm::SmallPtrSetImplBase::clear()</a>, <a class="el" href="CloneFunction_8cpp_source.html#l00044">llvm::CloneBasicBlock()</a>, <a class="el" href="Instructions_8h_source.html#l02974">llvm::BranchInst::Create()</a>, <a class="el" href="Instructions_8h_source.html#l02538">llvm::PHINode::Create()</a>, <a class="el" href="Casting_8h_source.html#l00649">llvm::dyn_cast()</a>, <a class="el" href="DenseMap_8h_source.html#l00084">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::end()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00092">llvm::Instruction::eraseFromParent()</a>, <a class="el" href="DenseMap_8h_source.html#l00155">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::find()</a>, <a class="el" href="ScalarEvolution_8cpp_source.html#l08477">llvm::ScalarEvolution::forgetValue()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00466">llvm::Instruction::getDebugLoc()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="NVVMIntrRange_8cpp_source.html#l00052">II</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00344">llvm::SmallPtrSetImpl&lt; PtrType &gt;::insert()</a>, <a class="el" href="Casting_8h_source.html#l00548">llvm::isa()</a>, <a class="el" href="ValueMap_8h_source.html#l00164">llvm::ValueMap&lt; KeyT, ValueT, Config &gt;::lookup()</a>, <a class="el" href="iterator__range_8h_source.html#l00076">llvm::make_range()</a>, <a class="el" href="BasicBlock_8h_source.html#l00366">llvm::BasicBlock::moveBefore()</a>, <a class="el" href="SmallVector_8h_source.html#l00427">llvm::SmallVectorTemplateBase&lt; T, bool &gt;::push_back()</a>, <a class="el" href="Transforms_2Utils_2Local_8cpp_source.html#l00540">llvm::RecursivelyDeleteTriviallyDeadInstructions()</a>, <a class="el" href="AssumptionCache_8cpp_source.html#l00187">llvm::AssumptionCache::registerAssumption()</a>, <a class="el" href="ValueMapper_8h_source.html#l00281">llvm::RemapDbgRecordRange()</a>, <a class="el" href="ValueMapper_8h_source.html#l00263">llvm::RemapInstruction()</a>, <a class="el" href="SmallVector_8h_source.html#l00677">llvm::SmallVectorImpl&lt; T &gt;::reserve()</a>, <a class="el" href="ValueMapper_8h_source.html#l00094">llvm::RF_IgnoreMissingLocals</a>, <a class="el" href="ValueMapper_8h_source.html#l00076">llvm::RF_NoModuleLevelChanges</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00463">llvm::Instruction::setDebugLoc()</a>, <a class="el" href="ArrayRef_8h_source.html#l00165">llvm::ArrayRef&lt; T &gt;::size()</a>, <a class="el" href="BasicBlockUtils_8cpp_source.html#l01083">llvm::SplitBlock()</a>, <a class="el" href="MachineBasicBlock_8h_source.html#l01340">llvm::successors()</a>, and <a class="el" href="STLExtras_8h_source.html#l00876">llvm::zip_first()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02175">unswitchNontrivialInvariants()</a>.</p>

</div>
</div>
<a id="afe5225e90ea8896cab9cda7246af413d" name="afe5225e90ea8896cab9cda7246af413d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe5225e90ea8896cab9cda7246af413d">&#9670;&#160;</a></span>buildClonedLoops()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void buildClonedLoops </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>OrigL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt;</td>          <td class="paramname"><span class="paramname"><em>ExitBlocks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="namespacellvm.html#abf0f52ae29f87b5e0f2b95ff961cdae1">ValueToValueMapTy</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>VMap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; <a class="el" href="classllvm_1_1Loop.html">Loop</a> * &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>NonChildClonedLoops</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Build the cloned loops of an original loop from unswitching. </p>
<p>Because unswitching simplifies the CFG of the loop, this isn't a trivial operation. We need to re-verify that there even is a loop (as the backedge may not have been cloned), and even if there are remaining backedges the backedge set may be different. However, we know that each child loop is undisturbed, we only need to find where to place each child loop within either any parent loop or within a cloned version of the original loop.</p>
<p>Because child loops may end up cloned outside of any cloned version of the original loop, multiple cloned sibling loops may be created. All of them are returned so that the newly introduced loop nest roots can be identified. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01422">1422</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="GenericLoopInfoImpl_8h_source.html#l00271">llvm::LoopBase&lt; BlockT, LoopT &gt;::addBasicBlockToLoop()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00387">llvm::LoopBase&lt; BlockT, LoopT &gt;::addChildLoop()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00659">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::addTopLevelLoop()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00566">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::AllocateLoop()</a>, <a class="el" href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">llvm::ArrayRef()</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00180">llvm::LoopBase&lt; BlockT, LoopT &gt;::blocks()</a>, <a class="el" href="Casting_8h_source.html#l00565">llvm::cast()</a>, <a class="el" href="Casting_8h_source.html#l00720">llvm::cast_or_null()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01363">cloneLoopNest()</a>, <a class="el" href="STLExtras_8h_source.html#l01176">llvm::concat()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00124">llvm::LoopBase&lt; BlockT, LoopT &gt;::contains()</a>, <a class="el" href="DenseMap_8h_source.html#l00151">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::count()</a>, <a class="el" href="SetVector_8h_source.html#l00264">llvm::SetVector&lt; T, Vector, Set, N &gt;::count()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00412">llvm::SmallPtrSetImpl&lt; PtrType &gt;::count()</a>, <a class="el" href="ValueMap_8h_source.html#l00151">llvm::ValueMap&lt; KeyT, ValueT, Config &gt;::count()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00093">llvm::SmallPtrSetImplBase::empty()</a>, <a class="el" href="SmallVector_8h_source.html#l00095">llvm::SmallVectorBase&lt; Size_T &gt;::empty()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00361">llvm::SmallPtrSetImpl&lt; PtrType &gt;::erase()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00090">llvm::LoopBase&lt; BlockT, LoopT &gt;::getHeader()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00602">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::getLoopFor()</a>, <a class="el" href="GenericLoopInfoImpl_8h_source.html#l00199">llvm::LoopBase&lt; BlockT, LoopT &gt;::getLoopPreheader()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00099">llvm::LoopBase&lt; BlockT, LoopT &gt;::getParentLoop()</a>, <a class="el" href="DenseMap_8h_source.html#l00220">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::insert()</a>, <a class="el" href="SetVector_8h_source.html#l00162">llvm::SetVector&lt; T, Vector, Set, N &gt;::insert()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00344">llvm::SmallPtrSetImpl&lt; PtrType &gt;::insert()</a>, <a class="el" href="DenseMap_8h_source.html#l00202">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::lookup()</a>, <a class="el" href="ValueMap_8h_source.html#l00164">llvm::ValueMap&lt; KeyT, ValueT, Config &gt;::lookup()</a>, <a class="el" href="SmallVector_8h_source.html#l00687">llvm::SmallVectorImpl&lt; T &gt;::pop_back_val()</a>, <a class="el" href="MachineBasicBlock_8h_source.html#l01341">llvm::predecessors()</a>, <a class="el" href="SmallVector_8h_source.html#l00427">llvm::SmallVectorTemplateBase&lt; T, bool &gt;::push_back()</a>, <a class="el" href="SmallVector_8h_source.html#l00677">llvm::SmallVectorImpl&lt; T &gt;::reserve()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00428">llvm::LoopBase&lt; BlockT, LoopT &gt;::reserveBlocks()</a>, <a class="el" href="ArrayRef_8h_source.html#l00165">llvm::ArrayRef&lt; T &gt;::size()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00094">llvm::SmallPtrSetImplBase::size()</a>, and <a class="el" href="STLExtras_8h_source.html#l01647">llvm::sort()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02175">unswitchNontrivialInvariants()</a>.</p>

</div>
</div>
<a id="a0eaf12b7854445670a7b0af3fe87b86c" name="a0eaf12b7854445670a7b0af3fe87b86c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0eaf12b7854445670a7b0af3fe87b86c">&#9670;&#160;</a></span>buildPartialInvariantUnswitchConditionalBranch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void buildPartialInvariantUnswitchConditionalBranch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>BB</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt;</td>          <td class="paramname"><span class="paramname"><em>ToDuplicate</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a></td>          <td class="paramname"><span class="paramname"><em>Direction</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>UnswitchedSucc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>NormalSucc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *</td>          <td class="paramname"><span class="paramname"><em>MSSAU</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy a set of loop invariant values, and conditionally branch on them. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00292">292</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="Casting_8h_source.html#l00565">llvm::cast()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l01299">llvm::Instruction::clone()</a>, <a class="el" href="RISCVRedundantCopyElimination_8cpp_source.html#l00075">Cond</a>, <a class="el" href="IRBuilder_8h_source.html#l01125">llvm::IRBuilderBase::CreateCondBr()</a>, <a class="el" href="MemorySSAUpdater_8cpp_source.html#l01404">llvm::MemorySSAUpdater::createMemoryAccessInBB()</a>, <a class="el" href="Casting_8h_source.html#l00649">llvm::dyn_cast()</a>, <a class="el" href="Casting_8h_source.html#l00759">llvm::dyn_cast_or_null()</a>, <a class="el" href="BasicBlock_8h_source.html#l00451">llvm::BasicBlock::end()</a>, <a class="el" href="MemorySSA_8h_source.html#l00719">llvm::MemorySSA::getMemoryAccess()</a>, <a class="el" href="MemorySSAUpdater_8h_source.html#l00239">llvm::MemorySSAUpdater::getMemorySSA()</a>, <a class="el" href="ilist__node_8h_source.html#l00032">llvm::ilist_detail::node_parent_access&lt; NodeTy, ParentTy &gt;::getParent()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00115">llvm::Instruction::insertInto()</a>, <a class="el" href="ValueMapper_8h_source.html#l00263">llvm::RemapInstruction()</a>, <a class="el" href="STLExtras_8h_source.html#l00419">llvm::reverse()</a>, <a class="el" href="ValueMapper_8h_source.html#l00094">llvm::RF_IgnoreMissingLocals</a>, and <a class="el" href="ValueMapper_8h_source.html#l00076">llvm::RF_NoModuleLevelChanges</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02175">unswitchNontrivialInvariants()</a>.</p>

</div>
</div>
<a id="a45b06cc0aa3a6fcbace0aacf3b25a9e6" name="a45b06cc0aa3a6fcbace0aacf3b25a9e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45b06cc0aa3a6fcbace0aacf3b25a9e6">&#9670;&#160;</a></span>buildPartialUnswitchConditionalBranch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void buildPartialUnswitchConditionalBranch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>BB</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt;</td>          <td class="paramname"><span class="paramname"><em>Invariants</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a></td>          <td class="paramname"><span class="paramname"><em>Direction</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>UnswitchedSucc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>NormalSucc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a></td>          <td class="paramname"><span class="paramname"><em>InsertFreeze</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *</td>          <td class="paramname"><span class="paramname"><em>I</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> *</td>          <td class="paramname"><span class="paramname"><em>AC</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>DT</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy a set of loop invariant values <code>ToDuplicate</code> and insert them at the end of <code>BB</code> and conditionally branch on the copied condition. </p>
<p>We only branch on a single value. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00272">272</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="RISCVRedundantCopyElimination_8cpp_source.html#l00075">Cond</a>, <a class="el" href="IRBuilder_8h_source.html#l01480">llvm::IRBuilderBase::CreateAnd()</a>, <a class="el" href="IRBuilder_8h_source.html#l01125">llvm::IRBuilderBase::CreateCondBr()</a>, <a class="el" href="IRBuilder_8h_source.html#l02540">llvm::IRBuilderBase::CreateFreeze()</a>, <a class="el" href="IRBuilder_8h_source.html#l01502">llvm::IRBuilderBase::CreateOr()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="ValueTracking_8cpp_source.html#l07613">llvm::isGuaranteedNotToBeUndefOrPoison()</a>, and <a class="el" href="SmallVector_8h_source.html#l00427">llvm::SmallVectorTemplateBase&lt; T, bool &gt;::push_back()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02175">unswitchNontrivialInvariants()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00509">unswitchTrivialBranch()</a>.</p>

</div>
</div>
<a id="a0e686f0d790f0fd925a036c4cb50199b" name="a0e686f0d790f0fd925a036c4cb50199b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e686f0d790f0fd925a036c4cb50199b">&#9670;&#160;</a></span>CalculateUnswitchCostMultiplier()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int CalculateUnswitchCostMultiplier </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>TI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>DT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; NonTrivialUnswitchCandidate &gt;</td>          <td class="paramname"><span class="paramname"><em>UnswitchCandidates</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cost multiplier is a way to limit potentially exponential behavior of loop-unswitch. </p>
<p>Cost is multipied in proportion of 2^number of unswitch candidates available. Also accounting for the number of "sibling" loops with the idea to account for previous unswitches that already happened on this cluster of loops. There was an attempt to keep this formula simple, just enough to limit the worst case behavior. Even if it is not that simple now it is still not an attempt to provide a detailed heuristic size prediction.</p>
<p>TODO: Make a proper accounting of "explosion" effect for all kinds of unswitch candidates, making adequate predictions instead of wild guesses. That requires knowing not just the number of "remaining" candidates but also costs of unswitching for each of these candidates. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02818">2818</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="GenericLoopInfo_8h_source.html#l00577">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::begin()</a>, <a class="el" href="STLExtras_8h_source.html#l01921">llvm::count_if()</a>, <a class="el" href="Debug_8cpp_source.html#l00163">llvm::dbgs()</a>, <a class="el" href="Dominators_8cpp_source.html#l00122">llvm::DominatorTree::dominates()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00578">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::end()</a>, <a class="el" href="ilist__node_8h_source.html#l00032">llvm::ilist_detail::node_parent_access&lt; NodeTy, ParentTy &gt;::getParent()</a>, <a class="el" href="Casting_8h_source.html#l00548">llvm::isa()</a>, <a class="el" href="Analysis_2GuardUtils_8cpp_source.html#l00018">llvm::isGuard()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00277">llvm::Instruction::isTerminator()</a>, <a class="el" href="Debug_8h_source.html#l00101">LLVM_DEBUG</a>, <a class="el" href="MathExtras_8h_source.html#l00340">llvm::Log2_32()</a>, <a class="el" href="NVVMReflect_8cpp.html#ac934769d93af95250952646a3829df4c">size()</a>, <a class="el" href="MachineBasicBlock_8h_source.html#l01340">llvm::successors()</a>, <a class="el" href="#a49834115bcfb38ad510305e2e587f67a">UnswitchNumInitialUnscaledCandidates</a>, <a class="el" href="#a8ec915a44f00522e05af0372fe598372">UnswitchSiblingsToplevelDiv</a>, and <a class="el" href="#a639210c26d1952e9108bcdbb0353443b">UnswitchThreshold</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03315">findBestNonTrivialUnswitchCandidate()</a>.</p>

</div>
</div>
<a id="a00f78fab5c2e297c664f86f38233cbff" name="a00f78fab5c2e297c664f86f38233cbff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00f78fab5c2e297c664f86f38233cbff">&#9670;&#160;</a></span>canonicalizeForInvariantConditionInjection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void canonicalizeForInvariantConditionInjection </td>
          <td>(</td>
          <td class="paramtype">ICmpInst::Predicate &amp;</td>          <td class="paramname"><span class="paramname"><em>Pred</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *&amp;</td>          <td class="paramname"><span class="paramname"><em>LHS</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *&amp;</td>          <td class="paramname"><span class="paramname"><em>RHS</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&amp;</td>          <td class="paramname"><span class="paramname"><em>IfTrue</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *&amp;</td>          <td class="paramname"><span class="paramname"><em>IfFalse</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tries to canonicalize condition described by: </p>
<p>br (LHS pred RHS), label IfTrue, label IfFalse</p>
<p>into its equivalent where <code>Pred</code> is something that we support for injected invariants (so far it is limited to ult), LHS in canonicalized form is non-invariant and RHS is an invariant. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02993">2993</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="APInt_8h_source.html#l00199">llvm::APInt::getSignedMinValue()</a>, <a class="el" href="PatternMatch_8h_source.html#l00612">llvm::PatternMatch::m_Zero()</a>, <a class="el" href="PatternMatch_8h_source.html#l00049">llvm::PatternMatch::match()</a>, and <a class="el" href="BitVector_8h_source.html#l00860">std::swap()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03217">collectUnswitchCandidatesWithInjections()</a>.</p>

</div>
</div>
<a id="af747cc9f106d837a03d08bd395ede216" name="af747cc9f106d837a03d08bd395ede216"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af747cc9f106d837a03d08bd395ede216">&#9670;&#160;</a></span>cloneLoopNest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1Loop.html">Loop</a> * cloneLoopNest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>OrigRootL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> *</td>          <td class="paramname"><span class="paramname"><em>RootParentL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="namespacellvm.html#abf0f52ae29f87b5e0f2b95ff961cdae1">ValueToValueMapTy</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>VMap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LI</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recursively clone the specified loop and all of its children. </p>
<p>The target parent loop for the clone should be provided, or can be null if the clone is a top-level loop. While cloning, all the blocks are mapped with the provided value map. The entire original loop must be present in the value map. The cloned loop is returned. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01363">1363</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="GenericLoopInfo_8h_source.html#l00387">llvm::LoopBase&lt; BlockT, LoopT &gt;::addChildLoop()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00659">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::addTopLevelLoop()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00566">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::AllocateLoop()</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00180">llvm::LoopBase&lt; BlockT, LoopT &gt;::blocks()</a>, <a class="el" href="Casting_8h_source.html#l00565">llvm::cast()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00640">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::changeLoopFor()</a>, <a class="el" href="SmallVector_8h_source.html#l00095">llvm::SmallVectorBase&lt; Size_T &gt;::empty()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00602">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::getLoopFor()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00187">llvm::LoopBase&lt; BlockT, LoopT &gt;::getNumBlocks()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00167">llvm::LoopBase&lt; BlockT, LoopT &gt;::isInnermost()</a>, <a class="el" href="ValueMap_8h_source.html#l00164">llvm::ValueMap&lt; KeyT, ValueT, Config &gt;::lookup()</a>, <a class="el" href="SmallVector_8h_source.html#l00687">llvm::SmallVectorImpl&lt; T &gt;::pop_back_val()</a>, <a class="el" href="SmallVector_8h_source.html#l00427">llvm::SmallVectorTemplateBase&lt; T, bool &gt;::push_back()</a>, and <a class="el" href="STLExtras_8h_source.html#l00419">llvm::reverse()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01422">buildClonedLoops()</a>.</p>

</div>
</div>
<a id="a1061b839196c8068b89d05aced41de29" name="a1061b839196c8068b89d05aced41de29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1061b839196c8068b89d05aced41de29">&#9670;&#160;</a></span>collectHomogenousInstGraphLoopInvariants()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1TinyPtrVector.html">TinyPtrVector</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt; collectHomogenousInstGraphLoopInvariants </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>Root</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LI</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Collect all of the loop invariant input values transitively used by the homogeneous instruction graph from a given root. </p>
<p>This essentially walks from a root recursively through loop variant operands which have perform the same logical operation (AND or OR) and finds all inputs which are loop invariant. For some operations these can be re-associated and unswitched out of the loop entirely. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00193">193</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Casting_8h_source.html#l00649">llvm::dyn_cast()</a>, <a class="el" href="SmallVector_8h_source.html#l00095">llvm::SmallVectorBase&lt; Size_T &gt;::empty()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00344">llvm::SmallPtrSetImpl&lt; PtrType &gt;::insert()</a>, <a class="el" href="Casting_8h_source.html#l00548">llvm::isa()</a>, <a class="el" href="PatternMatch_8h_source.html#l02983">llvm::PatternMatch::m_LogicalAnd()</a>, <a class="el" href="PatternMatch_8h_source.html#l03001">llvm::PatternMatch::m_LogicalOr()</a>, <a class="el" href="PatternMatch_8h_source.html#l00049">llvm::PatternMatch::match()</a>, <a class="el" href="SmallVector_8h_source.html#l00687">llvm::SmallVectorImpl&lt; T &gt;::pop_back_val()</a>, <a class="el" href="SmallVector_8h_source.html#l00427">llvm::SmallVectorTemplateBase&lt; T, bool &gt;::push_back()</a>, <a class="el" href="TinyPtrVector_8h_source.html#l00242">llvm::TinyPtrVector&lt; EltTy &gt;::push_back()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00178">skipTrivialSelect()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02897">collectUnswitchCandidates()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00509">unswitchTrivialBranch()</a>.</p>

</div>
</div>
<a id="a7737deb6a166cd21dc8465bb48f110b2" name="a7737deb6a166cd21dc8465bb48f110b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7737deb6a166cd21dc8465bb48f110b2">&#9670;&#160;</a></span>collectUnswitchCandidates()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> collectUnswitchCandidates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; NonTrivialUnswitchCandidate &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>UnswitchCandidates</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structllvm_1_1IVConditionInfo.html">IVConditionInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>PartialIVInfo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *&amp;</td>          <td class="paramname"><span class="paramname"><em>PartialIVCondBranch</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AAResults.html">AAResults</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>AA</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *</td>          <td class="paramname"><span class="paramname"><em>MSSAU</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02897">2897</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="STLExtras_8h_source.html#l01729">llvm::any_of()</a>, <a class="el" href="STLExtras_8h_source.html#l02073">llvm::append_range()</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Casting_8h_source.html#l00565">llvm::cast()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00193">collectHomogenousInstGraphLoopInvariants()</a>, <a class="el" href="RISCVRedundantCopyElimination_8cpp_source.html#l00075">Cond</a>, <a class="el" href="Debug_8cpp_source.html#l00163">llvm::dbgs()</a>, <a class="el" href="Casting_8h_source.html#l00649">llvm::dyn_cast()</a>, <a class="el" href="SmallVector_8h_source.html#l00095">llvm::SmallVectorBase&lt; Size_T &gt;::empty()</a>, <a class="el" href="TinyPtrVector_8h_source.html#l00162">llvm::TinyPtrVector&lt; EltTy &gt;::empty()</a>, <a class="el" href="LoopInfo_8cpp_source.html#l01055">llvm::findOptionMDForLoop()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00602">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::getLoopFor()</a>, <a class="el" href="MemorySSAUpdater_8h_source.html#l00239">llvm::MemorySSAUpdater::getMemorySSA()</a>, <a class="el" href="Function_8cpp_source.html#l01071">llvm::Intrinsic::getName()</a>, <a class="el" href="LoopUtils_8cpp_source.html#l02000">llvm::hasPartialIVCondition()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="CSEInfo_8cpp_source.html#l00027">Info</a>, <a class="el" href="Casting_8h_source.html#l00548">llvm::isa()</a>, <a class="el" href="Analysis_2GuardUtils_8cpp_source.html#l00018">llvm::isGuard()</a>, <a class="el" href="Debug_8h_source.html#l00101">LLVM_DEBUG</a>, <a class="el" href="PatternMatch_8h_source.html#l00239">llvm::PatternMatch::m_CombineOr()</a>, <a class="el" href="PatternMatch_8h_source.html#l02983">llvm::PatternMatch::m_LogicalAnd()</a>, <a class="el" href="PatternMatch_8h_source.html#l03001">llvm::PatternMatch::m_LogicalOr()</a>, <a class="el" href="PatternMatch_8h_source.html#l00049">llvm::PatternMatch::match()</a>, <a class="el" href="#a93f97c549049a827518c9bce17a53833">MSSAThreshold</a>, <a class="el" href="SmallVector_8h_source.html#l00427">llvm::SmallVectorTemplateBase&lt; T, bool &gt;::push_back()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00178">skipTrivialSelect()</a>, and <a class="el" href="#a0986070d3233b98011a6bd838a65f1cb">UnswitchGuards</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03492">unswitchBestCondition()</a>.</p>

</div>
</div>
<a id="a607c1e689b230ff38733bfc0bfd3b6da" name="a607c1e689b230ff38733bfc0bfd3b6da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a607c1e689b230ff38733bfc0bfd3b6da">&#9670;&#160;</a></span>collectUnswitchCandidatesWithInjections()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> collectUnswitchCandidatesWithInjections </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; NonTrivialUnswitchCandidate &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>UnswitchCandidates</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structllvm_1_1IVConditionInfo.html">IVConditionInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>PartialIVInfo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *&amp;</td>          <td class="paramname"><span class="paramname"><em>PartialIVCondBranch</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>DT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AAResults.html">AAResults</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>AA</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *</td>          <td class="paramname"><span class="paramname"><em>MSSAU</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Collect unswitch candidates by invariant conditions that are not immediately present in the loop. </p>
<p>However, they can be injected into the code if we decide it's profitable. An example of such conditions is following:</p>
<p>for (...) { x = load ... if (! x &lt;u C1) break; if (! x &lt;u C2) break; &lt;do something&gt; }</p>
<p>We can unswitch by condition "C1 &lt;=u C2". If that is true, then "x &lt;u C1 &lt;=
C2" automatically implies "x &lt;u C2", so we can get rid of one of loop-variant checks in unswitched loop version. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03217">3217</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02993">canonicalizeForInvariantConditionInjection()</a>, <a class="el" href="Casting_8h_source.html#l00565">llvm::cast()</a>, <a class="el" href="Casting_8h_source.html#l00649">llvm::dyn_cast()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00602">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::getLoopFor()</a>, <a class="el" href="GenericDomTree_8h_source.html#l00365">llvm::DominatorTreeBase&lt; NodeT, IsPostDom &gt;::getNode()</a>, <a class="el" href="#a777260b6a90536fc8e2d844a891eddb5">InjectInvariantConditions</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03179">insertCandidatesWithPendingInjections()</a>, <a class="el" href="Dominators_8cpp_source.html#l00321">llvm::DominatorTree::isReachableFromEntry()</a>, <a class="el" href="X86PartialReduction_8cpp_source.html#l00075">LHS</a>, <a class="el" href="PatternMatch_8h_source.html#l00189">llvm::PatternMatch::m_BasicBlock()</a>, <a class="el" href="PatternMatch_8h_source.html#l02158">llvm::PatternMatch::m_Br()</a>, <a class="el" href="PatternMatch_8h_source.html#l01589">llvm::PatternMatch::m_ICmp()</a>, <a class="el" href="PatternMatch_8h_source.html#l00092">llvm::PatternMatch::m_Value()</a>, <a class="el" href="PatternMatch_8h_source.html#l00049">llvm::PatternMatch::match()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03041">shouldTryInjectBasingOnMetadata()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03019">shouldTryInjectInvariantCondition()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03492">unswitchBestCondition()</a>.</p>

</div>
</div>
<a id="a78a15f5bff768264b9e435e319db18f3" name="a78a15f5bff768264b9e435e319db18f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78a15f5bff768264b9e435e319db18f3">&#9670;&#160;</a></span>computeDomSubtreeCost()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1InstructionCost.html">InstructionCost</a> computeDomSubtreeCost </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacellvm.html#a58b9df85470fc4e2a8066ff6a62e5a34">DomTreeNode</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>N</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1SmallDenseMap.html">SmallDenseMap</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *, <a class="el" href="classllvm_1_1InstructionCost.html">InstructionCost</a>, 4 &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>BBCostMap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallDenseMap.html">SmallDenseMap</a>&lt; <a class="el" href="namespacellvm.html#a58b9df85470fc4e2a8066ff6a62e5a34">DomTreeNode</a> *, <a class="el" href="classllvm_1_1InstructionCost.html">InstructionCost</a>, 4 &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>DTCostMap</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recursively compute the cost of a dominator subtree based on the per-block cost map provided. </p>
<p>The recursive computation is memozied into the provided DT-indexed cost map to allow querying it for most nodes in the domtree without it becoming quadratic. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02660">2660</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="DenseMap_8h_source.html#l00084">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::end()</a>, <a class="el" href="DenseMap_8h_source.html#l00155">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::find()</a>, <a class="el" href="DenseMap_8h_source.html#l00220">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::insert()</a>, and <a class="el" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03315">findBestNonTrivialUnswitchCandidate()</a>.</p>

</div>
</div>
<a id="aeabcdff1c388af9ac5a98f1ec4ba2471" name="aeabcdff1c388af9ac5a98f1ec4ba2471"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeabcdff1c388af9ac5a98f1ec4ba2471">&#9670;&#160;</a></span>deleteDeadBlocksFromLoop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void deleteDeadBlocksFromLoop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>ExitBlocks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>DT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *</td>          <td class="paramname"><span class="paramname"><em>MSSAU</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *</td>          <td class="paramname"><span class="paramname"><em>SE</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LPMUpdater.html">LPMUpdater</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LoopUpdater</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01701">1701</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SmallVector_8h_source.html#l00697">llvm::SmallVectorImpl&lt; T &gt;::append()</a>, <a class="el" href="SmallVector_8h_source.html#l00281">llvm::SmallVectorTemplateCommon&lt; T, typename &gt;::begin()</a>, <a class="el" href="SetVector_8h_source.html#l00264">llvm::SetVector&lt; T, Vector, Set, N &gt;::count()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00706">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::destroy()</a>, <a class="el" href="SmallVector_8h_source.html#l00095">llvm::SmallVectorBase&lt; Size_T &gt;::empty()</a>, <a class="el" href="SmallVector_8h_source.html#l00283">llvm::SmallVectorTemplateCommon&lt; T, typename &gt;::end()</a>, <a class="el" href="STLExtras_8h_source.html#l02057">llvm::erase_if()</a>, <a class="el" href="ScalarEvolution_8cpp_source.html#l08532">llvm::ScalarEvolution::forgetBlockAndLoopDispositions()</a>, <a class="el" href="LoopInfo_8h_source.html#l00393">llvm::Loop::getName()</a>, <a class="el" href="SetVector_8h_source.html#l00162">llvm::SetVector&lt; T, Vector, Set, N &gt;::insert()</a>, <a class="el" href="Dominators_8cpp_source.html#l00321">llvm::DominatorTree::isReachableFromEntry()</a>, <a class="el" href="LoopPassManager_8h_source.html#l00249">llvm::LPMUpdater::markLoopAsDeleted()</a>, <a class="el" href="SmallVector_8h_source.html#l00687">llvm::SmallVectorImpl&lt; T &gt;::pop_back_val()</a>, <a class="el" href="SmallVector_8h_source.html#l00427">llvm::SmallVectorTemplateBase&lt; T, bool &gt;::push_back()</a>, <a class="el" href="MemorySSAUpdater_8cpp_source.html#l01347">llvm::MemorySSAUpdater::removeBlocks()</a>, and <a class="el" href="MachineBasicBlock_8h_source.html#l01340">llvm::successors()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02175">unswitchNontrivialInvariants()</a>.</p>

</div>
</div>
<a id="a13971a178ec8248ecf4b0a903c4db1c6" name="a13971a178ec8248ecf4b0a903c4db1c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13971a178ec8248ecf4b0a903c4db1c6">&#9670;&#160;</a></span>deleteDeadClonedBlocks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void deleteDeadClonedBlocks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt;</td>          <td class="paramname"><span class="paramname"><em>ExitBlocks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; std::unique_ptr&lt; <a class="el" href="namespacellvm.html#abf0f52ae29f87b5e0f2b95ff961cdae1">ValueToValueMapTy</a> &gt; &gt;</td>          <td class="paramname"><span class="paramname"><em>VMaps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>DT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *</td>          <td class="paramname"><span class="paramname"><em>MSSAU</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01672">1672</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SmallVector_8h_source.html#l00281">llvm::SmallVectorTemplateCommon&lt; T, typename &gt;::begin()</a>, <a class="el" href="Casting_8h_source.html#l00720">llvm::cast_or_null()</a>, <a class="el" href="STLExtras_8h_source.html#l01176">llvm::concat()</a>, <a class="el" href="SmallVector_8h_source.html#l00283">llvm::SmallVectorTemplateCommon&lt; T, typename &gt;::end()</a>, <a class="el" href="Dominators_8cpp_source.html#l00321">llvm::DominatorTree::isReachableFromEntry()</a>, <a class="el" href="SmallVector_8h_source.html#l00427">llvm::SmallVectorTemplateBase&lt; T, bool &gt;::push_back()</a>, <a class="el" href="MemorySSAUpdater_8cpp_source.html#l01347">llvm::MemorySSAUpdater::removeBlocks()</a>, and <a class="el" href="MachineBasicBlock_8h_source.html#l01340">llvm::successors()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02175">unswitchNontrivialInvariants()</a>.</p>

</div>
</div>
<a id="a52374e76082ee94158724e5695a88a02" name="a52374e76082ee94158724e5695a88a02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52374e76082ee94158724e5695a88a02">&#9670;&#160;</a></span>findBestNonTrivialUnswitchCandidate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static NonTrivialUnswitchCandidate findBestNonTrivialUnswitchCandidate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; NonTrivialUnswitchCandidate &gt;</td>          <td class="paramname"><span class="paramname"><em>UnswitchCandidates</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>DT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>AC</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>TTI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="structllvm_1_1IVConditionInfo.html">IVConditionInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>PartialIVInfo</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03315">3315</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="STLExtras_8h_source.html#l01722">llvm::all_of()</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02818">CalculateUnswitchCostMultiplier()</a>, <a class="el" href="Casting_8h_source.html#l00565">llvm::cast()</a>, <a class="el" href="CodeMetrics_8cpp_source.html#l00071">llvm::CodeMetrics::collectEphemeralValues()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02660">computeDomSubtreeCost()</a>, <a class="el" href="RISCVRedundantCopyElimination_8cpp_source.html#l00075">Cond</a>, <a class="el" href="CostModel_8cpp.html#a162d8b2b3865594d1e14d828d2b8336a">CostKind</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00412">llvm::SmallPtrSetImpl&lt; PtrType &gt;::count()</a>, <a class="el" href="Debug_8cpp_source.html#l00163">llvm::dbgs()</a>, <a class="el" href="Dominators_8cpp_source.html#l00122">llvm::DominatorTree::dominates()</a>, <a class="el" href="Casting_8h_source.html#l00649">llvm::dyn_cast()</a>, <a class="el" href="#a58389dda20e5bd529f3fb18c6531c7ce">EnableUnswitchCostMultiplier</a>, <a class="el" href="Instructions_8h_source.html#l02991">llvm::BranchInst::getCondition()</a>, <a class="el" href="TargetTransformInfo_8cpp_source.html#l00267">llvm::TargetTransformInfo::getInstructionCost()</a>, <a class="el" href="ilist__node_8h_source.html#l00032">llvm::ilist_detail::node_parent_access&lt; NodeTy, ParentTy &gt;::getParent()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00344">llvm::SmallPtrSetImpl&lt; PtrType &gt;::insert()</a>, <a class="el" href="Casting_8h_source.html#l00548">llvm::isa()</a>, <a class="el" href="Analysis_2GuardUtils_8cpp_source.html#l00018">llvm::isGuard()</a>, <a class="el" href="Constants_8cpp_source.html#l00124">llvm::Constant::isOneValue()</a>, <a class="el" href="LoopUtils_8h_source.html#l00552">llvm::IVConditionInfo::KnownValue</a>, <a class="el" href="Debug_8h_source.html#l00101">LLVM_DEBUG</a>, <a class="el" href="PatternMatch_8h_source.html#l02983">llvm::PatternMatch::m_LogicalAnd()</a>, <a class="el" href="PatternMatch_8h_source.html#l03001">llvm::PatternMatch::m_LogicalOr()</a>, <a class="el" href="PatternMatch_8h_source.html#l00049">llvm::PatternMatch::match()</a>, <a class="el" href="MachineBasicBlock_8h_source.html#l01341">llvm::predecessors()</a>, <a class="el" href="ArrayRef_8h_source.html#l00165">llvm::ArrayRef&lt; T &gt;::size()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00094">llvm::SmallPtrSetImplBase::size()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00178">skipTrivialSelect()</a>, <a class="el" href="MachineBasicBlock_8h_source.html#l01340">llvm::successors()</a>, <a class="el" href="TargetTransformInfo_8h_source.html#l00262">llvm::TargetTransformInfo::TCK_CodeSize</a>, <a class="el" href="TargetTransformInfo_8h_source.html#l00263">llvm::TargetTransformInfo::TCK_SizeAndLatency</a>, and <a class="el" href="#a639210c26d1952e9108bcdbb0353443b">UnswitchThreshold</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03492">unswitchBestCondition()</a>.</p>

</div>
</div>
<a id="a5e771bd40bbd3121ec36a96aa44ef46a" name="a5e771bd40bbd3121ec36a96aa44ef46a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e771bd40bbd3121ec36a96aa44ef46a">&#9670;&#160;</a></span>getTopMostExitingLoop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1Loop.html">Loop</a> * getTopMostExitingLoop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *</td>          <td class="paramname"><span class="paramname"><em>ExitBB</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LI</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00480">480</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="GenericLoopInfo_8h_source.html#l00602">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::getLoopFor()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00099">llvm::LoopBase&lt; BlockT, LoopT &gt;::getParentLoop()</a>, and <a class="el" href="GenericLoopInfo_8h_source.html#l00227">llvm::LoopBase&lt; BlockT, LoopT &gt;::isLoopExiting()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02175">unswitchNontrivialInvariants()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00509">unswitchTrivialBranch()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00743">unswitchTrivialSwitch()</a>.</p>

</div>
</div>
<a id="afa8d35023dc30883011a5641eac69d38" name="afa8d35023dc30883011a5641eac69d38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa8d35023dc30883011a5641eac69d38">&#9670;&#160;</a></span>hoistLoopToNewParent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void hoistLoopToNewParent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>Preheader</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>DT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *</td>          <td class="paramname"><span class="paramname"><em>MSSAU</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *</td>          <td class="paramname"><span class="paramname"><em>SE</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hoist the current loop up to the innermost loop containing a remaining exit. </p>
<p>Because we've removed an exit from the loop, we may have changed the set of loops reachable and need to move the current loop up the loop nest or even to an entirely separate nest. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00409">409</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="GenericLoopInfo_8h_source.html#l00387">llvm::LoopBase&lt; BlockT, LoopT &gt;::addChildLoop()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00659">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::addTopLevelLoop()</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00640">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::changeLoopFor()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00124">llvm::LoopBase&lt; BlockT, LoopT &gt;::contains()</a>, <a class="el" href="STLExtras_8h_source.html#l02057">llvm::erase_if()</a>, <a class="el" href="LoopUtils_8cpp_source.html#l00057">llvm::formDedicatedExitBlocks()</a>, <a class="el" href="LCSSA_8cpp_source.html#l00363">llvm::formLCSSA()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00602">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::getLoopFor()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00099">llvm::LoopBase&lt; BlockT, LoopT &gt;::getParentLoop()</a>, and <a class="el" href="GenericLoopInfo_8h_source.html#l00396">llvm::LoopBase&lt; BlockT, LoopT &gt;::removeChildLoop()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00509">unswitchTrivialBranch()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00743">unswitchTrivialSwitch()</a>.</p>

</div>
</div>
<a id="aa8f270ce4d001ee9e7839aa11c607931" name="aa8f270ce4d001ee9e7839aa11c607931"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8f270ce4d001ee9e7839aa11c607931">&#9670;&#160;</a></span>injectPendingInvariantConditions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static NonTrivialUnswitchCandidate injectPendingInvariantConditions </td>
          <td>(</td>
          <td class="paramtype">NonTrivialUnswitchCandidate</td>          <td class="paramname"><span class="paramname"><em>Candidate</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>DT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>AC</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *</td>          <td class="paramname"><span class="paramname"><em>MSSAU</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Materialize pending invariant condition of the given candidate into IR. </p>
<p>The injected loop-invariant condition implies the original loop-variant branch condition, so the materialization turns</p>
<p>loop_block: ... br i1 variant_cond, label InLoopSucc, label OutOfLoopSucc</p>
<p>into</p>
<p>preheader: invariant_cond = LHS pred RHS ... loop_block: br i1 invariant_cond, label InLoopSucc, label OriginalCheck OriginalCheck: br i1 variant_cond, label InLoopSucc, label OutOfLoopSucc ... </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03081">3081</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="GenericDomTree_8h_source.html#l00559">llvm::DominatorTreeBase&lt; NodeT, IsPostDom &gt;::applyUpdates()</a>, <a class="el" href="MemorySSAUpdater_8cpp_source.html#l00784">llvm::MemorySSAUpdater::applyUpdates()</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Casting_8h_source.html#l00565">llvm::cast()</a>, <a class="el" href="BasicBlock_8h_source.html#l00202">llvm::BasicBlock::Create()</a>, <a class="el" href="Debug_8cpp_source.html#l00163">llvm::dbgs()</a>, <a class="el" href="Casting_8h_source.html#l00649">llvm::dyn_cast()</a>, <a class="el" href="ilist__node_8h_source.html#l00132">llvm::ilist_node_impl&lt; OptionsT &gt;::getIterator()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00602">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::getLoopFor()</a>, <a class="el" href="MemorySSAUpdater_8h_source.html#l00239">llvm::MemorySSAUpdater::getMemorySSA()</a>, <a class="el" href="ilist__node_8h_source.html#l00032">llvm::ilist_detail::node_parent_access&lt; NodeTy, ParentTy &gt;::getParent()</a>, <a class="el" href="BasicBlock_8h_source.html#l00229">llvm::BasicBlock::getTerminator()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="Debug_8h_source.html#l00101">LLVM_DEBUG</a>, <a class="el" href="GenericDomTree_8h_source.html#l00817">llvm::DominatorTreeBase&lt; NodeT, IsPostDom &gt;::verify()</a>, <a class="el" href="GenericLoopInfoImpl_8h_source.html#l00707">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::verify()</a>, <a class="el" href="MemorySSA_8cpp_source.html#l00084">llvm::VerifyMemorySSA</a>, and <a class="el" href="MemorySSA_8cpp_source.html#l01905">llvm::MemorySSA::verifyMemorySSA()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03492">unswitchBestCondition()</a>.</p>

</div>
</div>
<a id="a9ba70601e2398b462375dd8f3e9bc1b2" name="a9ba70601e2398b462375dd8f3e9bc1b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ba70601e2398b462375dd8f3e9bc1b2">&#9670;&#160;</a></span>insertCandidatesWithPendingInjections()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> insertCandidatesWithPendingInjections </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; NonTrivialUnswitchCandidate &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>UnswitchCandidates</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ICmpInst::Predicate</td>          <td class="paramname"><span class="paramname"><em>Pred</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; CompareDesc &gt;</td>          <td class="paramname"><span class="paramname"><em>Compares</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>DT</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given chain of loop branch conditions looking like: br (Variant &lt; Invariant1) br (Variant &lt; Invariant2) br (Variant &lt; Invariant3) ... collect set of invariant conditions on which we want to unswitch, which look like: Invariant1 &lt;= Invariant2 Invariant2 &lt;= Invariant3 ... Though they might not immediately exist in the IR, we can still inject them. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03179">3179</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="ArrayRef_8h_source.html#l00153">llvm::ArrayRef&lt; T &gt;::begin()</a>, <a class="el" href="ArrayRef_8h_source.html#l00154">llvm::ArrayRef&lt; T &gt;::end()</a>, <a class="el" href="Instructions_8h_source.html#l01230">llvm::ICmpInst::isRelational()</a>, <a class="el" href="InstrProf_8h_source.html#l00141">llvm::Next</a>, <a class="el" href="SmallVector_8h_source.html#l00427">llvm::SmallVectorTemplateBase&lt; T, bool &gt;::push_back()</a>, and <a class="el" href="ArrayRef_8h_source.html#l00165">llvm::ArrayRef&lt; T &gt;::size()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03217">collectUnswitchCandidatesWithInjections()</a>.</p>

</div>
</div>
<a id="a41cbe08b01edbedddb8d8706d13c5270" name="a41cbe08b01edbedddb8d8706d13c5270"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41cbe08b01edbedddb8d8706d13c5270">&#9670;&#160;</a></span>isSafeForNoNTrivialUnswitching()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> isSafeForNoNTrivialUnswitching </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LI</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03272">3272</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Analysis_2CFG_8h_source.html#l00148">llvm::containsIrreducibleCFG()</a>, <a class="el" href="Debug_8cpp_source.html#l00163">llvm::dbgs()</a>, <a class="el" href="Casting_8h_source.html#l00649">llvm::dyn_cast()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="Casting_8h_source.html#l00548">llvm::isa()</a>, <a class="el" href="Debug_8h_source.html#l00101">LLVM_DEBUG</a>, and <a class="el" href="LoopIterator_8h_source.html#l00180">llvm::LoopBlocksRPO::perform()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03585">unswitchLoop()</a>.</p>

</div>
</div>
<a id="a45007554e260296266b8ae927dde223f" name="a45007554e260296266b8ae927dde223f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45007554e260296266b8ae927dde223f">&#9670;&#160;</a></span>postUnswitch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void postUnswitch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LPMUpdater.html">LPMUpdater</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>U</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1StringRef.html">StringRef</a></td>          <td class="paramname"><span class="paramname"><em>LoopName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a></td>          <td class="paramname"><span class="paramname"><em>CurrentLoopValid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a></td>          <td class="paramname"><span class="paramname"><em>PartiallyInvariant</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a></td>          <td class="paramname"><span class="paramname"><em>InjectedCondition</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Loop.html">Loop</a> * &gt;</td>          <td class="paramname"><span class="paramname"><em>NewLoops</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02138">2138</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="ArrayRef_8h_source.html#l00160">llvm::ArrayRef&lt; T &gt;::empty()</a>, <a class="el" href="Metadata_8h_source.html#l01543">llvm::MDNode::get()</a>, <a class="el" href="Metadata_8cpp_source.html#l00600">llvm::MDString::get()</a>, and <a class="el" href="LoopInfo_8cpp_source.html#l01158">llvm::makePostTransformationMetadata()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03585">unswitchLoop()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02175">unswitchNontrivialInvariants()</a>.</p>

</div>
</div>
<a id="ab79f3dcf9607c6a8908cda57cc964f49" name="ab79f3dcf9607c6a8908cda57cc964f49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab79f3dcf9607c6a8908cda57cc964f49">&#9670;&#160;</a></span>rebuildLoopAfterUnswitch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> rebuildLoopAfterUnswitch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * &gt;</td>          <td class="paramname"><span class="paramname"><em>ExitBlocks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; <a class="el" href="classllvm_1_1Loop.html">Loop</a> * &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>HoistedLoops</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *</td>          <td class="paramname"><span class="paramname"><em>SE</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rebuild a loop after unswitching removes some subset of blocks and edges. </p>
<p>The removal may have removed some child loops entirely but cannot have disturbed any remaining child loops. However, they may need to be hoisted to the parent loop (or to be top-level loops). The original loop may be completely removed.</p>
<p>The sibling loops resulting from this update are returned. If the original loop remains a valid loop, it will be the first entry in this list with all of the newly sibling loops following it.</p>
<p>Returns true if the loop remains a loop after unswitching, and false if it is no longer a loop after unswitching (and should not continue to be referenced). </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01906">1906</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="GenericLoopInfo_8h_source.html#l00387">llvm::LoopBase&lt; BlockT, LoopT &gt;::addChildLoop()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00659">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::addTopLevelLoop()</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="ELF__riscv_8cpp_source.html#l00507">Blocks</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00640">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::changeLoopFor()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00124">llvm::LoopBase&lt; BlockT, LoopT &gt;::contains()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00706">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::destroy()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00093">llvm::SmallPtrSetImplBase::empty()</a>, <a class="el" href="SmallVector_8h_source.html#l00095">llvm::SmallVectorBase&lt; Size_T &gt;::empty()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00361">llvm::SmallPtrSetImpl&lt; PtrType &gt;::erase()</a>, <a class="el" href="STLExtras_8h_source.html#l02057">llvm::erase_if()</a>, <a class="el" href="STLExtras_8h_source.html#l01742">llvm::find()</a>, <a class="el" href="ScalarEvolution_8cpp_source.html#l08532">llvm::ScalarEvolution::forgetBlockAndLoopDispositions()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00609">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::getLoopDepth()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00602">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::getLoopFor()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00099">llvm::LoopBase&lt; BlockT, LoopT &gt;::getParentLoop()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00344">llvm::SmallPtrSetImpl&lt; PtrType &gt;::insert()</a>, <a class="el" href="iterator__range_8h_source.html#l00076">llvm::make_range()</a>, <a class="el" href="SmallVector_8h_source.html#l00687">llvm::SmallVectorImpl&lt; T &gt;::pop_back_val()</a>, <a class="el" href="MachineBasicBlock_8h_source.html#l01341">llvm::predecessors()</a>, <a class="el" href="SmallVector_8h_source.html#l00427">llvm::SmallVectorTemplateBase&lt; T, bool &gt;::push_back()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01795">recomputeLoopBlockSet()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00396">llvm::LoopBase&lt; BlockT, LoopT &gt;::removeChildLoop()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00629">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::removeLoop()</a>, <a class="el" href="SmallVector_8h_source.html#l00677">llvm::SmallVectorImpl&lt; T &gt;::reserve()</a>, <a class="el" href="ArrayRef_8h_source.html#l00165">llvm::ArrayRef&lt; T &gt;::size()</a>, and <a class="el" href="STLExtras_8h_source.html#l01995">llvm::stable_sort()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02175">unswitchNontrivialInvariants()</a>.</p>

</div>
</div>
<a id="a0c9b0aa6fff67d00a95f47fc121491e5" name="a0c9b0aa6fff67d00a95f47fc121491e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c9b0aa6fff67d00a95f47fc121491e5">&#9670;&#160;</a></span>recomputeLoopBlockSet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet</a>&lt; <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *, 16 &gt; recomputeLoopBlockSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LI</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recompute the set of blocks in a loop after unswitching. </p>
<p>This walks from the original headers predecessors to rebuild the loop. We take advantage of the fact that new blocks can't have been added, and so we filter by the original loop's blocks. This also handles potentially unreachable code that we don't want to explore but might be found examining the predecessors of the header.</p>
<p>If the original loop is no longer a loop, this will return an empty set. If it remains a loop, all the blocks within it will be added to the set (including those blocks in inner loops). </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01795">1795</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00412">llvm::SmallPtrSetImpl&lt; PtrType &gt;::count()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00093">llvm::SmallPtrSetImplBase::empty()</a>, <a class="el" href="SmallVector_8h_source.html#l00095">llvm::SmallVectorBase&lt; Size_T &gt;::empty()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00602">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::getLoopFor()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00344">llvm::SmallPtrSetImpl&lt; PtrType &gt;::insert()</a>, <a class="el" href="SmallVector_8h_source.html#l00687">llvm::SmallVectorImpl&lt; T &gt;::pop_back_val()</a>, <a class="el" href="MachineBasicBlock_8h_source.html#l01341">llvm::predecessors()</a>, and <a class="el" href="SmallVector_8h_source.html#l00427">llvm::SmallVectorTemplateBase&lt; T, bool &gt;::push_back()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01906">rebuildLoopAfterUnswitch()</a>.</p>

</div>
</div>
<a id="a669b909f685098d484bb789192620885" name="a669b909f685098d484bb789192620885"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a669b909f685098d484bb789192620885">&#9670;&#160;</a></span>replaceLoopInvariantUses()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void replaceLoopInvariantUses </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *</td>          <td class="paramname"><span class="paramname"><em>Invariant</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Constant.html">Constant</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>Replacement</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00235">235</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Casting_8h_source.html#l00649">llvm::dyn_cast()</a>, <a class="el" href="Casting_8h_source.html#l00548">llvm::isa()</a>, <a class="el" href="STLExtras_8h_source.html#l00656">llvm::make_early_inc_range()</a>, and <a class="el" href="Value_8h_source.html#l00376">llvm::Value::uses()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00509">unswitchTrivialBranch()</a>.</p>

</div>
</div>
<a id="a9a1db01205f9a51a14b99e53e3068da1" name="a9a1db01205f9a51a14b99e53e3068da1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a1db01205f9a51a14b99e53e3068da1">&#9670;&#160;</a></span>rewritePHINodesForExitAndUnswitchedBlocks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rewritePHINodesForExitAndUnswitchedBlocks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>ExitBB</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>UnswitchedBB</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>OldExitingBB</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>OldPH</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a></td>          <td class="paramname"><span class="paramname"><em>FullUnswitch</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rewrite the PHI nodes in the loop exit basic block and the split off unswitched block. </p>
<p>Because the exit block remains an exit from the loop, this rewrites the LCSSA PHI nodes in it to remove the unswitched edge and introduces PHI nodes into the unswitched basic block to select between the value in the old preheader and the loop exit. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00363">363</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="BasicBlock_8h_source.html#l00438">llvm::BasicBlock::begin()</a>, <a class="el" href="Instructions_8h_source.html#l02538">llvm::PHINode::Create()</a>, and <a class="el" href="BasicBlock_8h_source.html#l00507">llvm::BasicBlock::phis()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00509">unswitchTrivialBranch()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00743">unswitchTrivialSwitch()</a>.</p>

</div>
</div>
<a id="a003a854484a7b23c151bc0b3d684e5d9" name="a003a854484a7b23c151bc0b3d684e5d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a003a854484a7b23c151bc0b3d684e5d9">&#9670;&#160;</a></span>rewritePHINodesForUnswitchedExitBlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rewritePHINodesForUnswitchedExitBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>UnswitchedBB</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>OldExitingBB</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>OldPH</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rewrite the PHI nodes in an unswitched loop exit basic block. </p>
<p>Requires that the loop exit and unswitched basic block are the same, and that the exiting block was a unique predecessor of that block. Rewrites the PHI nodes in that block such that what were LCSSA PHI nodes become trivial PHI nodes from the old preheader that now contains the unswitched terminator. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00341">341</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="BasicBlock_8h_source.html#l00507">llvm::BasicBlock::phis()</a>, and <a class="el" href="Sequence_8h_source.html#l00305">llvm::seq()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00509">unswitchTrivialBranch()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00743">unswitchTrivialSwitch()</a>.</p>

</div>
</div>
<a id="a81f9271273f74a220003075573119a05" name="a81f9271273f74a220003075573119a05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81f9271273f74a220003075573119a05">&#9670;&#160;</a></span>shouldInsertFreeze()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> shouldInsertFreeze </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>TI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>DT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>AC</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03472">3472</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Casting_8h_source.html#l00565">llvm::cast()</a>, <a class="el" href="MustExecute_8cpp_source.html#l00079">llvm::ICFLoopSafetyInfo::computeLoopSafetyInfo()</a>, <a class="el" href="RISCVRedundantCopyElimination_8cpp_source.html#l00075">Cond</a>, <a class="el" href="Casting_8h_source.html#l00649">llvm::dyn_cast()</a>, <a class="el" href="#a777551c6c08e4e3588b36665a8572414">FreezeLoopUnswitchCond</a>, <a class="el" href="Casting_8h_source.html#l00548">llvm::isa()</a>, <a class="el" href="ValueTracking_8cpp_source.html#l07613">llvm::isGuaranteedNotToBeUndefOrPoison()</a>, <a class="el" href="MustExecute_8cpp_source.html#l00277">llvm::ICFLoopSafetyInfo::isGuaranteedToExecute()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00178">skipTrivialSelect()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03492">unswitchBestCondition()</a>.</p>

</div>
</div>
<a id="af08d593d99b84298decf28611dd32f50" name="af08d593d99b84298decf28611dd32f50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af08d593d99b84298decf28611dd32f50">&#9670;&#160;</a></span>shouldTryInjectBasingOnMetadata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> shouldTryInjectBasingOnMetadata </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BranchInst.html">BranchInst</a> *</td>          <td class="paramname"><span class="paramname"><em>BI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *</td>          <td class="paramname"><span class="paramname"><em>TakenSucc</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true, if metadata on <code>BI</code> allows us to optimize branching into <code>TakenSucc</code> via injection of invariant conditions. </p>
<p>The branch should be not enough and not previously unswitched, the information about this comes from the metadata. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03041">3041</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="ProfDataUtils_8cpp_source.html#l00173">llvm::extractBranchWeights()</a>, <a class="el" href="Instructions_8h_source.html#l03003">llvm::BranchInst::getSuccessor()</a>, <a class="el" href="#aad5d88dba5221d4277024edf98cec9ac">InjectInvariantConditionHotnesThreshold</a>, and <a class="el" href="SmallVector_8h_source.html#l00092">llvm::SmallVectorBase&lt; Size_T &gt;::size()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03217">collectUnswitchCandidatesWithInjections()</a>.</p>

</div>
</div>
<a id="a4cbb86574a065a122292322ed4e27b0e" name="a4cbb86574a065a122292322ed4e27b0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cbb86574a065a122292322ed4e27b0e">&#9670;&#160;</a></span>shouldTryInjectInvariantCondition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> shouldTryInjectInvariantCondition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> ICmpInst::Predicate</td>          <td class="paramname"><span class="paramname"><em>Pred</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Value.html">Value</a> *</td>          <td class="paramname"><span class="paramname"><em>LHS</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Value.html">Value</a> *</td>          <td class="paramname"><span class="paramname"><em>RHS</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *</td>          <td class="paramname"><span class="paramname"><em>IfTrue</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *</td>          <td class="paramname"><span class="paramname"><em>IfFalse</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true, if predicate described by ( <code>Pred</code>, <code>LHS</code>, <code>RHS</code> ) succeeding into blocks ( <code>IfTrue</code>, <code>IfFalse</code>) can be optimized by injecting a loop-invariant condition. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03019">3019</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03217">collectUnswitchCandidatesWithInjections()</a>.</p>

</div>
</div>
<a id="a5ca2e820d1b5a49dcaad5e6873917198" name="a5ca2e820d1b5a49dcaad5e6873917198"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ca2e820d1b5a49dcaad5e6873917198">&#9670;&#160;</a></span>skipTrivialSelect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1Value.html">Value</a> * skipTrivialSelect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *</td>          <td class="paramname"><span class="paramname"><em>Cond</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00178">178</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="RISCVRedundantCopyElimination_8cpp_source.html#l00075">Cond</a>, <a class="el" href="PatternMatch_8h_source.html#l00592">llvm::PatternMatch::m_One()</a>, <a class="el" href="PatternMatch_8h_source.html#l01745">llvm::PatternMatch::m_Select()</a>, <a class="el" href="PatternMatch_8h_source.html#l00092">llvm::PatternMatch::m_Value()</a>, <a class="el" href="PatternMatch_8h_source.html#l00612">llvm::PatternMatch::m_Zero()</a>, and <a class="el" href="PatternMatch_8h_source.html#l00049">llvm::PatternMatch::match()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00193">collectHomogenousInstGraphLoopInvariants()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02897">collectUnswitchCandidates()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03315">findBestNonTrivialUnswitchCandidate()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03472">shouldInsertFreeze()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01048">unswitchAllTrivialConditions()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02175">unswitchNontrivialInvariants()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00509">unswitchTrivialBranch()</a>.</p>

</div>
</div>
<a id="ad5b466cbd242079ab18347e5248fd1b9" name="ad5b466cbd242079ab18347e5248fd1b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5b466cbd242079ab18347e5248fd1b9">&#9670;&#160;</a></span>STATISTIC() <span class="overload">[1/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumBranches</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of <a class="el" href="ARCBranchFinalize_8cpp.html#a14311558a7445776def2d5bc13161ba3">branches</a> unswitched&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a91923c5ac786f070c692a9ae19983ecb" name="a91923c5ac786f070c692a9ae19983ecb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91923c5ac786f070c692a9ae19983ecb">&#9670;&#160;</a></span>STATISTIC() <span class="overload">[2/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumCostMultiplierSkipped</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of unswitch candidates that had their cost multiplier skipped&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a825e9b46eaa40a5853a43f520d9b3a9d" name="a825e9b46eaa40a5853a43f520d9b3a9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a825e9b46eaa40a5853a43f520d9b3a9d">&#9670;&#160;</a></span>STATISTIC() <span class="overload">[3/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumGuards</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of guards turned into <a class="el" href="ARCBranchFinalize_8cpp.html#a14311558a7445776def2d5bc13161ba3">branches</a> <a class="el" href="AArch64ExpandPseudoInsts_8cpp.html#a4cfc8b177e8521a4b496ae2edff6244f">for</a> unswitching&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab781a25844101ae293fa4d6e9f27902f" name="ab781a25844101ae293fa4d6e9f27902f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab781a25844101ae293fa4d6e9f27902f">&#9670;&#160;</a></span>STATISTIC() <span class="overload">[4/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumInvariantConditionsInjected</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of invariant conditions injected and unswitched&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5b42a29a9e74c94c6d7826358ff0cf51" name="a5b42a29a9e74c94c6d7826358ff0cf51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b42a29a9e74c94c6d7826358ff0cf51">&#9670;&#160;</a></span>STATISTIC() <span class="overload">[5/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumSelects</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of <a class="el" href="SelectOptimize_8cpp.html#a3d495d9a0daf7fe32f1b1fb0aa153929">selects</a> turned into <a class="el" href="ARCBranchFinalize_8cpp.html#a14311558a7445776def2d5bc13161ba3">branches</a> <a class="el" href="AArch64ExpandPseudoInsts_8cpp.html#a4cfc8b177e8521a4b496ae2edff6244f">for</a> unswitching&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab3ab9463ab2f6721ceff43efa0ba37e5" name="ab3ab9463ab2f6721ceff43efa0ba37e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3ab9463ab2f6721ceff43efa0ba37e5">&#9670;&#160;</a></span>STATISTIC() <span class="overload">[6/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumSwitches</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of switches unswitched&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa6e446decc15b9df1996f94f20798fbf" name="aa6e446decc15b9df1996f94f20798fbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6e446decc15b9df1996f94f20798fbf">&#9670;&#160;</a></span>STATISTIC() <span class="overload">[7/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumTrivial</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of unswitches that are trivial&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af3ac46dde637293a34d0ff7b619a656b" name="af3ac46dde637293a34d0ff7b619a656b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3ac46dde637293a34d0ff7b619a656b">&#9670;&#160;</a></span>turnGuardIntoBranch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1BranchInst.html">BranchInst</a> * turnGuardIntoBranch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *</td>          <td class="paramname"><span class="paramname"><em>GI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>DT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *</td>          <td class="paramname"><span class="paramname"><em>MSSAU</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Turns a llvm.experimental.guard intrinsic into implicit control flow branch, making the following replacement: </p>
<p>&ndash;code before guard&ndash; call void (i1, ...) @llvm.experimental.guard(i1 cond) [ "deopt"() ] &ndash;code after guard&ndash;</p>
<p>into</p>
<p>&ndash;code before guard&ndash; br i1 cond, label guarded, label deopt</p>
<p>guarded: &ndash;code after guard&ndash;</p>
<p>deopt: call void (i1, ...) @llvm.experimental.guard(i1 false) [ "deopt"() ] unreachable</p>
<p>It also makes all relevant DT and LI updates, so that all structures are in valid state after this transform. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02762">2762</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="Casting_8h_source.html#l00565">llvm::cast()</a>, <a class="el" href="Debug_8cpp_source.html#l00163">llvm::dbgs()</a>, <a class="el" href="InstrTypes_8h_source.html#l01410">llvm::CallBase::getArgOperand()</a>, <a class="el" href="Value_8cpp_source.html#l01075">llvm::Value::getContext()</a>, <a class="el" href="Constants_8cpp_source.html#l00857">llvm::ConstantInt::getFalse()</a>, <a class="el" href="MemorySSA_8h_source.html#l00719">llvm::MemorySSA::getMemoryAccess()</a>, <a class="el" href="MemorySSAUpdater_8h_source.html#l00239">llvm::MemorySSAUpdater::getMemorySSA()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00381">llvm::Instruction::getMetadata()</a>, <a class="el" href="ilist__node_8h_source.html#l00032">llvm::ilist_detail::node_parent_access&lt; NodeTy, ParentTy &gt;::getParent()</a>, <a class="el" href="Instructions_8h_source.html#l03003">llvm::BranchInst::getSuccessor()</a>, <a class="el" href="BasicBlock_8h_source.html#l00229">llvm::BasicBlock::getTerminator()</a>, <a class="el" href="Debug_8h_source.html#l00101">LLVM_DEBUG</a>, <a class="el" href="MemorySSAUpdater_8cpp_source.html#l01222">llvm::MemorySSAUpdater::moveAllAfterSpliceBlocks()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00167">llvm::Instruction::moveBefore()</a>, <a class="el" href="MemorySSAUpdater_8cpp_source.html#l01175">llvm::MemorySSAUpdater::moveToPlace()</a>, <a class="el" href="InstrTypes_8h_source.html#l01415">llvm::CallBase::setArgOperand()</a>, <a class="el" href="Value_8cpp_source.html#l00377">llvm::Value::setName()</a>, <a class="el" href="BasicBlockUtils_8cpp_source.html#l01608">llvm::SplitBlockAndInsertIfThen()</a>, <a class="el" href="Instructions_8cpp_source.html#l01170">llvm::BranchInst::swapSuccessors()</a>, <a class="el" href="GenericLoopInfoImpl_8h_source.html#l00707">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::verify()</a>, <a class="el" href="LoopInfo_8cpp_source.html#l00051">llvm::VerifyLoopInfo</a>, <a class="el" href="MemorySSA_8cpp_source.html#l00084">llvm::VerifyMemorySSA</a>, and <a class="el" href="MemorySSA_8cpp_source.html#l01905">llvm::MemorySSA::verifyMemorySSA()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03492">unswitchBestCondition()</a>.</p>

</div>
</div>
<a id="a2e6301db15e4516c92e21f33761886c6" name="a2e6301db15e4516c92e21f33761886c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e6301db15e4516c92e21f33761886c6">&#9670;&#160;</a></span>turnSelectIntoBranch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1BranchInst.html">BranchInst</a> * turnSelectIntoBranch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SelectInst.html">SelectInst</a> *</td>          <td class="paramname"><span class="paramname"><em>SI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>DT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *</td>          <td class="paramname"><span class="paramname"><em>MSSAU</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> *</td>          <td class="paramname"><span class="paramname"><em>AC</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Turns a select instruction into implicit control flow branch, making the following replacement: </p>
<p>head: &ndash;code before select&ndash; select cond, trueval, falseval &ndash;code after select&ndash;</p>
<p>into</p>
<p>head: &ndash;code before select&ndash; br i1 cond, label then, label tail</p>
<p>then: br tail</p>
<p>tail: phi [ trueval, then ], [ falseval, head] unreachable</p>
<p>It also makes all relevant DT and LI updates, so that all structures are in valid state after this transform. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02711">2711</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="Casting_8h_source.html#l00565">llvm::cast()</a>, <a class="el" href="Instructions_8h_source.html#l02538">llvm::PHINode::Create()</a>, <a class="el" href="Debug_8cpp_source.html#l00163">llvm::dbgs()</a>, <a class="el" href="MemorySSAUpdater_8h_source.html#l00239">llvm::MemorySSAUpdater::getMemorySSA()</a>, <a class="el" href="BasicBlock_8h_source.html#l00229">llvm::BasicBlock::getTerminator()</a>, <a class="el" href="Debug_8h_source.html#l00101">LLVM_DEBUG</a>, <a class="el" href="MemorySSAUpdater_8cpp_source.html#l01222">llvm::MemorySSAUpdater::moveAllAfterSpliceBlocks()</a>, <a class="el" href="BasicBlockUtils_8cpp_source.html#l01608">llvm::SplitBlockAndInsertIfThen()</a>, <a class="el" href="MemorySSA_8cpp_source.html#l00084">llvm::VerifyMemorySSA</a>, and <a class="el" href="MemorySSA_8cpp_source.html#l01905">llvm::MemorySSA::verifyMemorySSA()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03492">unswitchBestCondition()</a>.</p>

</div>
</div>
<a id="a050cc2b2d1467ffcad6a825f1141424c" name="a050cc2b2d1467ffcad6a825f1141424c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a050cc2b2d1467ffcad6a825f1141424c">&#9670;&#160;</a></span>unswitchAllTrivialConditions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> unswitchAllTrivialConditions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>DT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *</td>          <td class="paramname"><span class="paramname"><em>SE</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *</td>          <td class="paramname"><span class="paramname"><em>MSSAU</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This routine scans the loop to find a branch or switch which occurs before any side effects occur. </p>
<p>These can potentially be unswitched without duplicating the loop. If a branch or switch is successfully unswitched the scanning continues to see if subsequent branches or switches have become trivial. Once all trivial candidates have been unswitched, this routine returns.</p>
<p>The return value indicates whether anything was unswitched (and therefore changed).</p>
<p>If <code>SE</code> is not null, it will be updated based on the potential loop SCEVs invalidated by this. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01048">1048</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="STLExtras_8h_source.html#l01729">llvm::any_of()</a>, <a class="el" href="Casting_8h_source.html#l00565">llvm::cast()</a>, <a class="el" href="ObjCARCOpts_8cpp_source.html#l02382">Changed</a>, <a class="el" href="Casting_8h_source.html#l00649">llvm::dyn_cast()</a>, <a class="el" href="MemorySSA_8h_source.html#l00767">llvm::MemorySSA::getBlockDefs()</a>, <a class="el" href="MemorySSAUpdater_8h_source.html#l00239">llvm::MemorySSAUpdater::getMemorySSA()</a>, <a class="el" href="BasicBlock_8h_source.html#l00229">llvm::BasicBlock::getTerminator()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00344">llvm::SmallPtrSetImpl&lt; PtrType &gt;::insert()</a>, <a class="el" href="Casting_8h_source.html#l00548">llvm::isa()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00178">skipTrivialSelect()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00509">unswitchTrivialBranch()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00743">unswitchTrivialSwitch()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03585">unswitchLoop()</a>.</p>

</div>
</div>
<a id="acc20b8effcbe869069ff973354344872" name="acc20b8effcbe869069ff973354344872"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc20b8effcbe869069ff973354344872">&#9670;&#160;</a></span>unswitchBestCondition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> unswitchBestCondition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>DT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>AC</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AAResults.html">AAResults</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>AA</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>TTI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *</td>          <td class="paramname"><span class="paramname"><em>SE</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *</td>          <td class="paramname"><span class="paramname"><em>MSSAU</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LPMUpdater.html">LPMUpdater</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LoopUpdater</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03492">3492</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Casting_8h_source.html#l00565">llvm::cast()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02897">collectUnswitchCandidates()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03217">collectUnswitchCandidatesWithInjections()</a>, <a class="el" href="Debug_8cpp_source.html#l00163">llvm::dbgs()</a>, <a class="el" href="Casting_8h_source.html#l00649">llvm::dyn_cast()</a>, <a class="el" href="SmallVector_8h_source.html#l00095">llvm::SmallVectorBase&lt; Size_T &gt;::empty()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03315">findBestNonTrivialUnswitchCandidate()</a>, <a class="el" href="LoopInfo_8cpp_source.html#l01055">llvm::findOptionMDForLoop()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03081">injectPendingInvariantConditions()</a>, <a class="el" href="LoopUtils_8h_source.html#l00549">llvm::IVConditionInfo::InstToDuplicate</a>, <a class="el" href="ValueTracking_8cpp_source.html#l07613">llvm::isGuaranteedNotToBeUndefOrPoison()</a>, <a class="el" href="Analysis_2GuardUtils_8cpp_source.html#l00018">llvm::isGuard()</a>, <a class="el" href="Debug_8h_source.html#l00101">LLVM_DEBUG</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03472">shouldInsertFreeze()</a>, <a class="el" href="SmallVector_8h_source.html#l00092">llvm::SmallVectorBase&lt; Size_T &gt;::size()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02762">turnGuardIntoBranch()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02711">turnSelectIntoBranch()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02175">unswitchNontrivialInvariants()</a>, and <a class="el" href="#a639210c26d1952e9108bcdbb0353443b">UnswitchThreshold</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03585">unswitchLoop()</a>.</p>

</div>
</div>
<a id="a00b3b7cedd83de61be0312c6535f3f37" name="a00b3b7cedd83de61be0312c6535f3f37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00b3b7cedd83de61be0312c6535f3f37">&#9670;&#160;</a></span>unswitchLoop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> unswitchLoop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>DT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>AC</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AAResults.html">AAResults</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>AA</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1TargetTransformInfo.html">TargetTransformInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>TTI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a></td>          <td class="paramname"><span class="paramname"><em>Trivial</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a></td>          <td class="paramname"><span class="paramname"><em>NonTrivial</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *</td>          <td class="paramname"><span class="paramname"><em>SE</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *</td>          <td class="paramname"><span class="paramname"><em>MSSAU</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ProfileSummaryInfo.html">ProfileSummaryInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>PSI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BlockFrequencyInfo.html">BlockFrequencyInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>BFI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LPMUpdater.html">LPMUpdater</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LoopUpdater</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unswitch control flow predicated on loop invariant conditions. </p>
<p>This first hoists all branches or switches which are trivial (IE, do not require duplicating any part of the loop) out of the loop body. It then looks at other loop invariant control flows and tries to unswitch those as well by cloning the loop if the result is small enough.</p>
<p>The <code>DT</code>, <code>LI</code>, <code>AC</code>, <code>AA</code>, <code>TTI</code> parameters are required analyses that are also updated based on the unswitch. The <code>MSSA</code> analysis is also updated if valid (i.e. its use is enabled).</p>
<p>If either <code>NonTrivial</code> is true or the flag <code>EnableNonTrivialUnswitch</code> is true, we will attempt to do non-trivial unswitching as well as trivial unswitching.</p>
<p>The <code>postUnswitch</code> function will be run after unswitching is complete with information on whether or not the provided loop remains a loop and a list of new sibling loops created.</p>
<p>If <code>SE</code> is non-null, we will update that analysis based on the unswitching done. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03585">3585</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Debug_8cpp_source.html#l00163">llvm::dbgs()</a>, <a class="el" href="SmallVector_8h_source.html#l00095">llvm::SmallVectorBase&lt; Size_T &gt;::empty()</a>, <a class="el" href="#a08f48517d908cdf7a21eed936deb7f7c">EnableNonTrivialUnswitch</a>, <a class="el" href="SmallVector_8h_source.html#l00283">llvm::SmallVectorTemplateCommon&lt; T, typename &gt;::end()</a>, <a class="el" href="MD5_8cpp_source.html#l00055">F</a>, <a class="el" href="TargetTransformInfo_8cpp_source.html#l00286">llvm::TargetTransformInfo::hasBranchDivergence()</a>, <a class="el" href="ProfileSummaryInfo_8h_source.html#l00071">llvm::ProfileSummaryInfo::hasProfileSummary()</a>, <a class="el" href="SmallVector_8h_source.html#l00819">llvm::SmallVectorImpl&lt; T &gt;::insert()</a>, <a class="el" href="ProfileSummaryInfo_8h_source.html#l00205">llvm::ProfileSummaryInfo::isColdBlock()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03272">isSafeForNoNTrivialUnswitching()</a>, <a class="el" href="Debug_8h_source.html#l00101">LLVM_DEBUG</a>, <a class="el" href="SmallVector_8h_source.html#l00687">llvm::SmallVectorImpl&lt; T &gt;::pop_back_val()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02138">postUnswitch()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01048">unswitchAllTrivialConditions()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03492">unswitchBestCondition()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03680">llvm::SimpleLoopUnswitchPass::run()</a>.</p>

</div>
</div>
<a id="aae4261fb86bc9023c3383785afa66b9a" name="aae4261fb86bc9023c3383785afa66b9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae4261fb86bc9023c3383785afa66b9a">&#9670;&#160;</a></span>unswitchNontrivialInvariants()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void unswitchNontrivialInvariants </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Instruction.html">Instruction</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>TI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt;</td>          <td class="paramname"><span class="paramname"><em>Invariants</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structllvm_1_1IVConditionInfo.html">IVConditionInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>PartialIVInfo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>DT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1AssumptionCache.html">AssumptionCache</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>AC</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *</td>          <td class="paramname"><span class="paramname"><em>SE</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *</td>          <td class="paramname"><span class="paramname"><em>MSSAU</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LPMUpdater.html">LPMUpdater</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LoopUpdater</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a></td>          <td class="paramname"><span class="paramname"><em>InsertFreeze</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a></td>          <td class="paramname"><span class="paramname"><em>InjectedCondition</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02175">2175</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="STLExtras_8h_source.html#l01722">llvm::all_of()</a>, <a class="el" href="GenericDomTree_8h_source.html#l00559">llvm::DominatorTreeBase&lt; NodeT, IsPostDom &gt;::applyUpdates()</a>, <a class="el" href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">llvm::ArrayRef()</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="SmallVector_8h_source.html#l00322">llvm::SmallVectorTemplateCommon&lt; T, typename &gt;::back()</a>, <a class="el" href="DenseMap_8h_source.html#l00075">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::begin()</a>, <a class="el" href="SetVector_8h_source.html#l00103">llvm::SetVector&lt; T, Vector, Set, N &gt;::begin()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01167">buildClonedLoopBlocks()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01422">buildClonedLoops()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00292">buildPartialInvariantUnswitchConditionalBranch()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00272">buildPartialUnswitchConditionalBranch()</a>, <a class="el" href="Instructions_8h_source.html#l03294">llvm::SwitchInst::cases()</a>, <a class="el" href="Casting_8h_source.html#l00565">llvm::cast()</a>, <a class="el" href="SmallVector_8h_source.html#l00624">llvm::SmallVectorImpl&lt; T &gt;::clear()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l01299">llvm::Instruction::clone()</a>, <a class="el" href="MustExecute_8cpp_source.html#l00079">llvm::ICFLoopSafetyInfo::computeLoopSafetyInfo()</a>, <a class="el" href="STLExtras_8h_source.html#l01176">llvm::concat()</a>, <a class="el" href="RISCVRedundantCopyElimination_8cpp_source.html#l00075">Cond</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00124">llvm::LoopBase&lt; BlockT, LoopT &gt;::contains()</a>, <a class="el" href="SetVector_8h_source.html#l00264">llvm::SetVector&lt; T, Vector, Set, N &gt;::count()</a>, <a class="el" href="Instructions_8h_source.html#l02974">llvm::BranchInst::Create()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01701">deleteDeadBlocksFromLoop()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01672">deleteDeadClonedBlocks()</a>, <a class="el" href="Dominators_8cpp_source.html#l00122">llvm::DominatorTree::dominates()</a>, <a class="el" href="DebugInfo_8cpp_source.html#l00967">llvm::Instruction::dropLocation()</a>, <a class="el" href="#aab1355fa0b9b124a5424d170db011c9e">DropNonTrivialImplicitNullChecks</a>, <a class="el" href="Casting_8h_source.html#l00649">llvm::dyn_cast()</a>, <a class="el" href="SmallVector_8h_source.html#l00951">llvm::SmallVectorImpl&lt; T &gt;::emplace_back()</a>, <a class="el" href="BasicBlock_8h_source.html#l00451">llvm::BasicBlock::end()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00092">llvm::Instruction::eraseFromParent()</a>, <a class="el" href="DenseMap_8h_source.html#l00155">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::find()</a>, <a class="el" href="ScalarEvolution_8cpp_source.html#l08532">llvm::ScalarEvolution::forgetBlockAndLoopDispositions()</a>, <a class="el" href="ScalarEvolution_8cpp_source.html#l08431">llvm::ScalarEvolution::forgetLoop()</a>, <a class="el" href="ScalarEvolution_8cpp_source.html#l08473">llvm::ScalarEvolution::forgetTopmostLoop()</a>, <a class="el" href="LoopUtils_8cpp_source.html#l00057">llvm::formDedicatedExitBlocks()</a>, <a class="el" href="LCSSA_8cpp_source.html#l00363">llvm::formLCSSA()</a>, <a class="el" href="#a777551c6c08e4e3588b36665a8572414">FreezeLoopUnswitchCond</a>, <a class="el" href="Instructions_8h_source.html#l02991">llvm::BranchInst::getCondition()</a>, <a class="el" href="Value_8cpp_source.html#l01075">llvm::Value::getContext()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00466">llvm::Instruction::getDebugLoc()</a>, <a class="el" href="Instructions_8h_source.html#l03249">llvm::SwitchInst::getDefaultDest()</a>, <a class="el" href="Constants_8cpp_source.html#l00857">llvm::ConstantInt::getFalse()</a>, <a class="el" href="ilist__node_8h_source.html#l00132">llvm::ilist_node_impl&lt; OptionsT &gt;::getIterator()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00602">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::getLoopFor()</a>, <a class="el" href="MemorySSAUpdater_8h_source.html#l00239">llvm::MemorySSAUpdater::getMemorySSA()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00381">llvm::Instruction::getMetadata()</a>, <a class="el" href="ilist__node_8h_source.html#l00032">llvm::ilist_detail::node_parent_access&lt; NodeTy, ParentTy &gt;::getParent()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00099">llvm::LoopBase&lt; BlockT, LoopT &gt;::getParentLoop()</a>, <a class="el" href="Instructions_8h_source.html#l03003">llvm::BranchInst::getSuccessor()</a>, <a class="el" href="BasicBlock_8h_source.html#l00229">llvm::BasicBlock::getTerminator()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00480">getTopMostExitingLoop()</a>, <a class="el" href="Constants_8cpp_source.html#l00850">llvm::ConstantInt::getTrue()</a>, <a class="el" href="SetVector_8h_source.html#l00162">llvm::SetVector&lt; T, Vector, Set, N &gt;::insert()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00115">llvm::Instruction::insertInto()</a>, <a class="el" href="LoopUtils_8h_source.html#l00549">llvm::IVConditionInfo::InstToDuplicate</a>, <a class="el" href="Casting_8h_source.html#l00548">llvm::isa()</a>, <a class="el" href="Instructions_8h_source.html#l02989">llvm::BranchInst::isConditional()</a>, <a class="el" href="MustExecute_8cpp_source.html#l00277">llvm::ICFLoopSafetyInfo::isGuaranteedToExecute()</a>, <a class="el" href="Constants_8cpp_source.html#l00124">llvm::Constant::isOneValue()</a>, <a class="el" href="LoopUtils_8h_source.html#l00552">llvm::IVConditionInfo::KnownValue</a>, <a class="el" href="PatternMatch_8h_source.html#l02983">llvm::PatternMatch::m_LogicalAnd()</a>, <a class="el" href="PatternMatch_8h_source.html#l03001">llvm::PatternMatch::m_LogicalOr()</a>, <a class="el" href="STLExtras_8h_source.html#l00656">llvm::make_early_inc_range()</a>, <a class="el" href="PatternMatch_8h_source.html#l00049">llvm::PatternMatch::match()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00167">llvm::Instruction::moveBefore()</a>, <a class="el" href="LoopIterator_8h_source.html#l00180">llvm::LoopBlocksRPO::perform()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02138">postUnswitch()</a>, <a class="el" href="MachineBasicBlock_8h_source.html#l01341">llvm::predecessors()</a>, <a class="el" href="SmallVector_8h_source.html#l00427">llvm::SmallVectorTemplateBase&lt; T, bool &gt;::push_back()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01906">rebuildLoopAfterUnswitch()</a>, <a class="el" href="MemorySSAUpdater_8cpp_source.html#l00538">llvm::MemorySSAUpdater::removeDuplicatePhiEdgesBetween()</a>, <a class="el" href="MemorySSAUpdater_8cpp_source.html#l00531">llvm::MemorySSAUpdater::removeEdge()</a>, <a class="el" href="BasicBlock_8cpp_source.html#l00514">llvm::BasicBlock::removePredecessor()</a>, <a class="el" href="SmallVector_8h_source.html#l00677">llvm::SmallVectorImpl&lt; T &gt;::reserve()</a>, <a class="el" href="Instructions_8h_source.html#l02996">llvm::BranchInst::setCondition()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00463">llvm::Instruction::setDebugLoc()</a>, <a class="el" href="Metadata_8cpp_source.html#l01636">llvm::Instruction::setMetadata()</a>, <a class="el" href="Instructions_8h_source.html#l03008">llvm::BranchInst::setSuccessor()</a>, <a class="el" href="ArrayRef_8h_source.html#l00165">llvm::ArrayRef&lt; T &gt;::size()</a>, <a class="el" href="SetVector_8h_source.html#l00098">llvm::SetVector&lt; T, Vector, Set, N &gt;::size()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00178">skipTrivialSelect()</a>, <a class="el" href="BasicBlockUtils_8cpp_source.html#l00761">llvm::SplitEdge()</a>, <a class="el" href="MemorySSAUpdater_8cpp_source.html#l00762">llvm::MemorySSAUpdater::updateExitBlocksForClonedLoop()</a>, <a class="el" href="MemorySSAUpdater_8cpp_source.html#l00667">llvm::MemorySSAUpdater::updateForClonedLoop()</a>, <a class="el" href="GenericDomTree_8h_source.html#l00817">llvm::DominatorTreeBase&lt; NodeT, IsPostDom &gt;::verify()</a>, <a class="el" href="GenericLoopInfoImpl_8h_source.html#l00707">llvm::LoopInfoBase&lt; BlockT, LoopT &gt;::verify()</a>, <a class="el" href="MemorySSA_8cpp_source.html#l00084">llvm::VerifyMemorySSA</a>, <a class="el" href="MemorySSA_8cpp_source.html#l01905">llvm::MemorySSA::verifyMemorySSA()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02115">visitDomSubTree()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03492">unswitchBestCondition()</a>.</p>

</div>
</div>
<a id="a6a082aa2e05f44f7dab89e2ff8c582ff" name="a6a082aa2e05f44f7dab89e2ff8c582ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a082aa2e05f44f7dab89e2ff8c582ff">&#9670;&#160;</a></span>unswitchTrivialBranch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> unswitchTrivialBranch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BranchInst.html">BranchInst</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>BI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>DT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *</td>          <td class="paramname"><span class="paramname"><em>SE</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *</td>          <td class="paramname"><span class="paramname"><em>MSSAU</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unswitch a trivial branch if the condition is loop invariant. </p>
<p>This routine should only be called when loop code leading to the branch has been validated as trivial (no side effects). This routine checks if the condition is invariant and one of the successors is a loop exit. This allows us to unswitch without duplicating the loop, making it trivial.</p>
<p>If this routine fails to unswitch the branch it returns false.</p>
<p>If the branch can be unswitched, this routine splits the preheader and hoists the branch above that split. Preserves loop simplified form (splitting the exit block as necessary). It simplifies the branch within the loop to an unconditional branch but doesn't remove it entirely. Further cleanup can be done with some simplifycfg like pass.</p>
<p>If <code>SE</code> is not null, it will be updated based on the potential loop SCEVs invalidated by this. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00509">509</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="MemorySSAUpdater_8cpp_source.html#l00835">llvm::MemorySSAUpdater::applyInsertUpdates()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00252">areLoopExitPHIsLoopInvariant()</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00272">buildPartialUnswitchConditionalBranch()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l01299">llvm::Instruction::clone()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00193">collectHomogenousInstGraphLoopInvariants()</a>, <a class="el" href="RISCVRedundantCopyElimination_8cpp_source.html#l00075">Cond</a>, <a class="el" href="Instructions_8h_source.html#l02974">llvm::BranchInst::Create()</a>, <a class="el" href="Debug_8cpp_source.html#l00163">llvm::dbgs()</a>, <a class="el" href="GenericDomTree_8h_source.html#l00617">llvm::DominatorTreeBase&lt; NodeT, IsPostDom &gt;::deleteEdge()</a>, <a class="el" href="Casting_8h_source.html#l00649">llvm::dyn_cast()</a>, <a class="el" href="TinyPtrVector_8h_source.html#l00162">llvm::TinyPtrVector&lt; EltTy &gt;::empty()</a>, <a class="el" href="BasicBlock_8h_source.html#l00451">llvm::BasicBlock::end()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00092">llvm::Instruction::eraseFromParent()</a>, <a class="el" href="ScalarEvolution_8cpp_source.html#l08532">llvm::ScalarEvolution::forgetBlockAndLoopDispositions()</a>, <a class="el" href="ScalarEvolution_8cpp_source.html#l08431">llvm::ScalarEvolution::forgetLoop()</a>, <a class="el" href="ScalarEvolution_8cpp_source.html#l08473">llvm::ScalarEvolution::forgetTopmostLoop()</a>, <a class="el" href="#a777551c6c08e4e3588b36665a8572414">FreezeLoopUnswitchCond</a>, <a class="el" href="Instructions_8h_source.html#l02991">llvm::BranchInst::getCondition()</a>, <a class="el" href="Value_8cpp_source.html#l01075">llvm::Value::getContext()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00466">llvm::Instruction::getDebugLoc()</a>, <a class="el" href="Constants_8cpp_source.html#l00857">llvm::ConstantInt::getFalse()</a>, <a class="el" href="MemorySSAUpdater_8h_source.html#l00239">llvm::MemorySSAUpdater::getMemorySSA()</a>, <a class="el" href="ilist__node_8h_source.html#l00032">llvm::ilist_detail::node_parent_access&lt; NodeTy, ParentTy &gt;::getParent()</a>, <a class="el" href="Instructions_8h_source.html#l03003">llvm::BranchInst::getSuccessor()</a>, <a class="el" href="BasicBlock_8h_source.html#l00229">llvm::BasicBlock::getTerminator()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00480">getTopMostExitingLoop()</a>, <a class="el" href="Constants_8cpp_source.html#l00850">llvm::ConstantInt::getTrue()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00409">hoistLoopToNewParent()</a>, <a class="el" href="GenericDomTree_8h_source.html#l00599">llvm::DominatorTreeBase&lt; NodeT, IsPostDom &gt;::insertEdge()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00115">llvm::Instruction::insertInto()</a>, <a class="el" href="Instructions_8h_source.html#l02989">llvm::BranchInst::isConditional()</a>, <a class="el" href="Debug_8h_source.html#l00101">LLVM_DEBUG</a>, <a class="el" href="PatternMatch_8h_source.html#l02983">llvm::PatternMatch::m_LogicalAnd()</a>, <a class="el" href="PatternMatch_8h_source.html#l03001">llvm::PatternMatch::m_LogicalOr()</a>, <a class="el" href="PatternMatch_8h_source.html#l00049">llvm::PatternMatch::match()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00167">llvm::Instruction::moveBefore()</a>, <a class="el" href="SmallVector_8h_source.html#l00427">llvm::SmallVectorTemplateBase&lt; T, bool &gt;::push_back()</a>, <a class="el" href="TinyPtrVector_8h_source.html#l00242">llvm::TinyPtrVector&lt; EltTy &gt;::push_back()</a>, <a class="el" href="MemorySSAUpdater_8cpp_source.html#l00531">llvm::MemorySSAUpdater::removeEdge()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00235">replaceLoopInvariantUses()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00363">rewritePHINodesForExitAndUnswitchedBlocks()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00341">rewritePHINodesForUnswitchedExitBlock()</a>, <a class="el" href="Instructions_8h_source.html#l02996">llvm::BranchInst::setCondition()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00463">llvm::Instruction::setDebugLoc()</a>, <a class="el" href="Instructions_8h_source.html#l03008">llvm::BranchInst::setSuccessor()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00178">skipTrivialSelect()</a>, <a class="el" href="BasicBlockUtils_8cpp_source.html#l01083">llvm::SplitBlock()</a>, <a class="el" href="BasicBlockUtils_8cpp_source.html#l00761">llvm::SplitEdge()</a>, <a class="el" href="MemorySSA_8cpp_source.html#l00084">llvm::VerifyMemorySSA</a>, and <a class="el" href="MemorySSA_8cpp_source.html#l01905">llvm::MemorySSA::verifyMemorySSA()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01048">unswitchAllTrivialConditions()</a>.</p>

</div>
</div>
<a id="aadf6036e1d19c8ba91242af6ec48d40b" name="aadf6036e1d19c8ba91242af6ec48d40b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadf6036e1d19c8ba91242af6ec48d40b">&#9670;&#160;</a></span>unswitchTrivialSwitch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> unswitchTrivialSwitch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Loop.html">Loop</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SwitchInst.html">SwitchInst</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>SI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>DT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>LI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a> *</td>          <td class="paramname"><span class="paramname"><em>SE</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MemorySSAUpdater.html">MemorySSAUpdater</a> *</td>          <td class="paramname"><span class="paramname"><em>MSSAU</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unswitch a trivial switch if the condition is loop invariant. </p>
<p>This routine should only be called when loop code leading to the switch has been validated as trivial (no side effects). This routine checks if the condition is invariant and that at least one of the successors is a loop exit. This allows us to unswitch without duplicating the loop, making it trivial.</p>
<p>If this routine fails to unswitch the switch it returns false.</p>
<p>If the switch can be unswitched, this routine splits the preheader and copies the switch above that split. If the default case is one of the exiting cases, it copies the non-exiting cases and points them at the new preheader. If the default case is not exiting, it copies the exiting cases and points the default at the preheader. It preserves loop simplified form (splitting the exit blocks as necessary). It simplifies the switch within the loop by removing now-dead cases. If the default case is one of those unswitched, it replaces its destination with a new basic block containing only unreachable. Such basic blocks, while technically loop exits, are not considered for unswitching so this is a stable transform and the same switch will not be revisited. If after unswitching there is only a single in-loop successor, the switch is further simplified to an unconditional branch. Still more cleanup can be done with some simplifycfg like pass.</p>
<p>If <code>SE</code> is not null, it will be updated based on the potential loop SCEVs invalidated by this. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00743">743</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="Instructions_8cpp_source.html#l04040">llvm::SwitchInstProfUpdateWrapper::addCase()</a>, <a class="el" href="STLExtras_8h_source.html#l01722">llvm::all_of()</a>, <a class="el" href="GenericDomTree_8h_source.html#l00559">llvm::DominatorTreeBase&lt; NodeT, IsPostDom &gt;::applyUpdates()</a>, <a class="el" href="MemorySSAUpdater_8cpp_source.html#l00784">llvm::MemorySSAUpdater::applyUpdates()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00252">areLoopExitPHIsLoopInvariant()</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="BasicBlock_8h_source.html#l00438">llvm::BasicBlock::begin()</a>, <a class="el" href="GenericLoopInfo_8h_source.html#l00124">llvm::LoopBase&lt; BlockT, LoopT &gt;::contains()</a>, <a class="el" href="Instructions_8h_source.html#l02974">llvm::BranchInst::Create()</a>, <a class="el" href="Instructions_8h_source.html#l03236">llvm::SwitchInst::Create()</a>, <a class="el" href="Debug_8cpp_source.html#l00163">llvm::dbgs()</a>, <a class="el" href="GenericDomTree_8h_source.html#l00257">llvm::DominatorTreeBase&lt; NodeT, IsPostDom &gt;::Delete</a>, <a class="el" href="STLExtras_8h_source.html#l00329">llvm::drop_begin()</a>, <a class="el" href="SmallVector_8h_source.html#l00095">llvm::SmallVectorBase&lt; Size_T &gt;::empty()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00092">llvm::Instruction::eraseFromParent()</a>, <a class="el" href="Instructions_8cpp_source.html#l04059">llvm::SwitchInstProfUpdateWrapper::eraseFromParent()</a>, <a class="el" href="ScalarEvolution_8cpp_source.html#l08431">llvm::ScalarEvolution::forgetLoop()</a>, <a class="el" href="ScalarEvolution_8cpp_source.html#l08473">llvm::ScalarEvolution::forgetTopmostLoop()</a>, <a class="el" href="Instructions_8h_source.html#l03120">llvm::SwitchInst::CaseHandleImpl&lt; SwitchInstT, ConstantIntT, BasicBlockT &gt;::getCaseSuccessor()</a>, <a class="el" href="Instructions_8h_source.html#l03113">llvm::SwitchInst::CaseHandleImpl&lt; SwitchInstT, ConstantIntT, BasicBlockT &gt;::getCaseValue()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00466">llvm::Instruction::getDebugLoc()</a>, <a class="el" href="MemorySSAUpdater_8h_source.html#l00239">llvm::MemorySSAUpdater::getMemorySSA()</a>, <a class="el" href="Instructions_8h_source.html#l03131">llvm::SwitchInst::CaseHandleImpl&lt; SwitchInstT, ConstantIntT, BasicBlockT &gt;::getSuccessorIndex()</a>, <a class="el" href="Instructions_8cpp_source.html#l04068">llvm::SwitchInstProfUpdateWrapper::getSuccessorWeight()</a>, <a class="el" href="BasicBlock_8h_source.html#l00229">llvm::BasicBlock::getTerminator()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00480">getTopMostExitingLoop()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00409">hoistLoopToNewParent()</a>, <a class="el" href="GenericDomTree_8h_source.html#l00256">llvm::DominatorTreeBase&lt; NodeT, IsPostDom &gt;::Insert</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00344">llvm::SmallPtrSetImpl&lt; PtrType &gt;::insert()</a>, <a class="el" href="Casting_8h_source.html#l00548">llvm::isa()</a>, <a class="el" href="Debug_8h_source.html#l00101">LLVM_DEBUG</a>, <a class="el" href="IR_2CFG_8h_source.html#l00118">llvm::pred_empty()</a>, <a class="el" href="SmallVector_8h_source.html#l00427">llvm::SmallVectorTemplateBase&lt; T, bool &gt;::push_back()</a>, <a class="el" href="Instructions_8cpp_source.html#l04026">llvm::SwitchInstProfUpdateWrapper::removeCase()</a>, <a class="el" href="BasicBlock_8cpp_source.html#l00514">llvm::BasicBlock::removePredecessor()</a>, <a class="el" href="STLExtras_8h_source.html#l00419">llvm::reverse()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00363">rewritePHINodesForExitAndUnswitchedBlocks()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00341">rewritePHINodesForUnswitchedExitBlock()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00463">llvm::Instruction::setDebugLoc()</a>, <a class="el" href="Instructions_8h_source.html#l03259">llvm::SwitchInst::setDefaultDest()</a>, <a class="el" href="Instructions_8cpp_source.html#l04074">llvm::SwitchInstProfUpdateWrapper::setSuccessorWeight()</a>, <a class="el" href="BasicBlock_8h_source.html#l00459">llvm::BasicBlock::size()</a>, <a class="el" href="SmallVector_8h_source.html#l00092">llvm::SmallVectorBase&lt; Size_T &gt;::size()</a>, <a class="el" href="BasicBlockUtils_8cpp_source.html#l01083">llvm::SplitBlock()</a>, <a class="el" href="BasicBlockUtils_8cpp_source.html#l00761">llvm::SplitEdge()</a>, <a class="el" href="GenericDomTree_8h_source.html#l00817">llvm::DominatorTreeBase&lt; NodeT, IsPostDom &gt;::verify()</a>, <a class="el" href="MemorySSA_8cpp_source.html#l00084">llvm::VerifyMemorySSA</a>, and <a class="el" href="MemorySSA_8cpp_source.html#l01905">llvm::MemorySSA::verifyMemorySSA()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l01048">unswitchAllTrivialConditions()</a>.</p>

</div>
</div>
<a id="a18b0f192065386f9e0bc793a08bbf3ff" name="a18b0f192065386f9e0bc793a08bbf3ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18b0f192065386f9e0bc793a08bbf3ff">&#9670;&#160;</a></span>visitDomSubTree()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename CallableT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void visitDomSubTree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1DominatorTree.html">DominatorTree</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>DT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *</td>          <td class="paramname"><span class="paramname"><em>BB</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CallableT</td>          <td class="paramname"><span class="paramname"><em>Callable</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper to visit a dominator subtree, invoking a callable on each node. </p>
<p>Returning false at any point will stop walking past that node of the tree. </p>

<p class="definition">Definition at line <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02115">2115</a> of file <a class="el" href="SimpleLoopUnswitch_8cpp_source.html">SimpleLoopUnswitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="SmallVector_8h_source.html#l00095">llvm::SmallVectorBase&lt; Size_T &gt;::empty()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00344">llvm::SmallPtrSetImpl&lt; PtrType &gt;::insert()</a>, <a class="el" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="el" href="SmallVector_8h_source.html#l00687">llvm::SmallVectorImpl&lt; T &gt;::pop_back_val()</a>, and <a class="el" href="SmallVector_8h_source.html#l00427">llvm::SmallVectorTemplateBase&lt; T, bool &gt;::push_back()</a>.</p>

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02175">unswitchNontrivialInvariants()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aab1355fa0b9b124a5424d170db011c9e" name="aab1355fa0b9b124a5424d170db011c9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab1355fa0b9b124a5424d170db011c9e">&#9670;&#160;</a></span>DropNonTrivialImplicitNullChecks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="classbool.html">bool</a> &gt; DropNonTrivialImplicitNullChecks(&quot;simple-loop-unswitch-drop-non-trivial-implicit-null-checks&quot;, cl::init(false), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;If enabled, drop make.implicit <a class="el" href="AMDGPUAnnotateUniformValues_8cpp.html#a3cd36c33be3dfbc64aa6da755a47e6b1">metadata</a> in unswitched implicit &quot; &quot;null <a class="el" href="ImplicitNullChecks_8cpp.html#a9a4776a2cfc0bcc3774690aef4b43196">checks</a> to save time analyzing <a class="el" href="PassBuilderBindings_8cpp.html#a2123399ae32cbb1ca753fdfa99756b5c">if</a> we can keep it.&quot;)) </td>
          <td>(</td>
          <td class="paramtype">&quot;simple-loop-unswitch-drop-non-trivial-implicit-null-checks&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::init(false)</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::Hidden</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;If enabled, drop make.implicit <a class="el" href="AMDGPUAnnotateUniformValues_8cpp.html#a3cd36c33be3dfbc64aa6da755a47e6b1">metadata</a> in unswitched implicit &quot; &quot;null <a class="el" href="ImplicitNullChecks_8cpp.html#a9a4776a2cfc0bcc3774690aef4b43196">checks</a> to save time analyzing <a class="el" href="PassBuilderBindings_8cpp.html#a2123399ae32cbb1ca753fdfa99756b5c">if</a> we can keep it.&quot;)</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02175">unswitchNontrivialInvariants()</a>.</p>

</div>
</div>
<a id="a08f48517d908cdf7a21eed936deb7f7c" name="a08f48517d908cdf7a21eed936deb7f7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08f48517d908cdf7a21eed936deb7f7c">&#9670;&#160;</a></span>EnableNonTrivialUnswitch</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="classbool.html">bool</a> &gt; EnableNonTrivialUnswitch(&quot;enable-nontrivial-unswitch&quot;, cl::init(false), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Forcibly enables non-trivial loop unswitching rather than &quot; &quot;following the configuration passed into the pass.&quot;)) </td>
          <td>(</td>
          <td class="paramtype">&quot;enable-nontrivial-unswitch&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::init(false)</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::Hidden</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Forcibly enables non-trivial loop unswitching rather than &quot; &quot;following the configuration passed into the pass.&quot;)</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03585">unswitchLoop()</a>.</p>

</div>
</div>
<a id="a58389dda20e5bd529f3fb18c6531c7ce" name="a58389dda20e5bd529f3fb18c6531c7ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58389dda20e5bd529f3fb18c6531c7ce">&#9670;&#160;</a></span>EnableUnswitchCostMultiplier</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="classbool.html">bool</a> &gt; EnableUnswitchCostMultiplier(&quot;enable-unswitch-cost-multiplier&quot;, cl::init(<a class="el" href="BasicAliasAnalysis_8cpp.html#af6d5cafbdfc5313e65d990120021a3ec">true</a>), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Enable unswitch cost multiplier that prohibits exponential &quot; &quot;explosion in nontrivial unswitch.&quot;)) </td>
          <td>(</td>
          <td class="paramtype">&quot;enable-unswitch-cost-multiplier&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::init(<a class="el" href="BasicAliasAnalysis_8cpp.html#af6d5cafbdfc5313e65d990120021a3ec">true</a>)</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::Hidden</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Enable unswitch cost multiplier that prohibits exponential &quot; &quot;explosion in nontrivial unswitch.&quot;)</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03315">findBestNonTrivialUnswitchCandidate()</a>.</p>

</div>
</div>
<a id="a777551c6c08e4e3588b36665a8572414" name="a777551c6c08e4e3588b36665a8572414"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a777551c6c08e4e3588b36665a8572414">&#9670;&#160;</a></span>FreezeLoopUnswitchCond</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="classbool.html">bool</a> &gt; FreezeLoopUnswitchCond(&quot;freeze-loop-unswitch-cond&quot;, cl::init(<a class="el" href="BasicAliasAnalysis_8cpp.html#af6d5cafbdfc5313e65d990120021a3ec">true</a>), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;If enabled, the <a class="el" href="CanonicalizeFreezeInLoops_8cpp.html#a9680cc81ccaa4506cae9f5369cf5307e">freeze</a> instruction will be added to condition &quot; &quot;of loop unswitch to prevent miscompilation.&quot;)) </td>
          <td>(</td>
          <td class="paramtype">&quot;freeze-loop-unswitch-cond&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::init(<a class="el" href="BasicAliasAnalysis_8cpp.html#af6d5cafbdfc5313e65d990120021a3ec">true</a>)</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::Hidden</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;If enabled, the <a class="el" href="CanonicalizeFreezeInLoops_8cpp.html#a9680cc81ccaa4506cae9f5369cf5307e">freeze</a> instruction will be added to condition &quot; &quot;of loop unswitch to prevent miscompilation.&quot;)</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03472">shouldInsertFreeze()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02175">unswitchNontrivialInvariants()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l00509">unswitchTrivialBranch()</a>.</p>

</div>
</div>
<a id="aad5d88dba5221d4277024edf98cec9ac" name="aad5d88dba5221d4277024edf98cec9ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad5d88dba5221d4277024edf98cec9ac">&#9670;&#160;</a></span>InjectInvariantConditionHotnesThreshold</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt; InjectInvariantConditionHotnesThreshold(&quot;simple-loop-unswitch-inject-invariant-condition-hotness-threshold&quot;, cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Only try to inject loop invariant conditions and &quot; &quot;unswitch on them to eliminate <a class="el" href="ARCBranchFinalize_8cpp.html#a14311558a7445776def2d5bc13161ba3">branches</a> that are &quot; &quot;not-taken 1/&lt;this option&gt; times or less.&quot;), cl::init(16)) </td>
          <td>(</td>
          <td class="paramtype">&quot;simple-loop-unswitch-inject-invariant-condition-hotness-threshold&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::Hidden</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Only try to inject loop invariant conditions and &quot; &quot;unswitch on them to eliminate <a class="el" href="ARCBranchFinalize_8cpp.html#a14311558a7445776def2d5bc13161ba3">branches</a> that are &quot; &quot;not-taken 1/&lt;this option&gt; times or less.&quot;)</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::init(16)</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03041">shouldTryInjectBasingOnMetadata()</a>.</p>

</div>
</div>
<a id="a777260b6a90536fc8e2d844a891eddb5" name="a777260b6a90536fc8e2d844a891eddb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a777260b6a90536fc8e2d844a891eddb5">&#9670;&#160;</a></span>InjectInvariantConditions</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="classbool.html">bool</a> &gt; InjectInvariantConditions(&quot;simple-loop-unswitch-inject-invariant-conditions&quot;, cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Whether we should inject new invariants and unswitch them to &quot; &quot;eliminate some existing (non-invariant) conditions.&quot;), cl::init(<a class="el" href="BasicAliasAnalysis_8cpp.html#af6d5cafbdfc5313e65d990120021a3ec">true</a>)) </td>
          <td>(</td>
          <td class="paramtype">&quot;simple-loop-unswitch-inject-invariant-conditions&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::Hidden</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Whether we should inject new invariants and unswitch them to &quot; &quot;eliminate some existing (non-invariant) conditions.&quot;)</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::init(<a class="el" href="BasicAliasAnalysis_8cpp.html#af6d5cafbdfc5313e65d990120021a3ec">true</a>)</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03217">collectUnswitchCandidatesWithInjections()</a>.</p>

</div>
</div>
<a id="a93f97c549049a827518c9bce17a53833" name="a93f97c549049a827518c9bce17a53833"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93f97c549049a827518c9bce17a53833">&#9670;&#160;</a></span>MSSAThreshold</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt; MSSAThreshold(&quot;simple-loop-unswitch-<a class="el" href="MemorySSA_8cpp.html#a31df1231338073ab4c1eae57f0d75a7f">memoryssa</a>-threshold&quot;, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Max number of memory uses to explore during &quot; &quot;partial unswitching analysis&quot;), cl::init(100), cl::Hidden) </td>
          <td>(</td>
          <td class="paramtype">&quot;simple-loop-unswitch-<a class="el" href="MemorySSA_8cpp.html#a31df1231338073ab4c1eae57f0d75a7f">memoryssa</a>-threshold&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Max number of memory uses to explore during &quot; &quot;partial unswitching analysis&quot;)</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::init(100)</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::Hidden</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02897">collectUnswitchCandidates()</a>, and <a class="el" href="LoopUtils_8cpp_source.html#l02000">llvm::hasPartialIVCondition()</a>.</p>

</div>
</div>
<a id="a0986070d3233b98011a6bd838a65f1cb" name="a0986070d3233b98011a6bd838a65f1cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0986070d3233b98011a6bd838a65f1cb">&#9670;&#160;</a></span>UnswitchGuards</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="classbool.html">bool</a> &gt; UnswitchGuards(&quot;simple-loop-unswitch-guards&quot;, cl::init(<a class="el" href="BasicAliasAnalysis_8cpp.html#af6d5cafbdfc5313e65d990120021a3ec">true</a>), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;If enabled, simple loop unswitching will also consider &quot; &quot;llvm.experimental.guard <a class="el" href="ExpandReductions_8cpp.html#a4bfc835c142e9a1d698379da76392e9f">intrinsics</a> as unswitch candidates.&quot;)) </td>
          <td>(</td>
          <td class="paramtype">&quot;simple-loop-unswitch-guards&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::init(<a class="el" href="BasicAliasAnalysis_8cpp.html#af6d5cafbdfc5313e65d990120021a3ec">true</a>)</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::Hidden</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;If enabled, simple loop unswitching will also consider &quot; &quot;llvm.experimental.guard <a class="el" href="ExpandReductions_8cpp.html#a4bfc835c142e9a1d698379da76392e9f">intrinsics</a> as unswitch candidates.&quot;)</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02897">collectUnswitchCandidates()</a>.</p>

</div>
</div>
<a id="a49834115bcfb38ad510305e2e587f67a" name="a49834115bcfb38ad510305e2e587f67a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49834115bcfb38ad510305e2e587f67a">&#9670;&#160;</a></span>UnswitchNumInitialUnscaledCandidates</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; int &gt; UnswitchNumInitialUnscaledCandidates(&quot;unswitch-num-initial-unscaled-candidates&quot;, cl::init(8), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Number of unswitch candidates that are ignored when calculating &quot; &quot;cost multiplier.&quot;)) </td>
          <td>(</td>
          <td class="paramtype">&quot;unswitch-num-initial-unscaled-candidates&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::init(8)</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::Hidden</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Number of unswitch candidates that are ignored when calculating &quot; &quot;cost multiplier.&quot;)</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02818">CalculateUnswitchCostMultiplier()</a>.</p>

</div>
</div>
<a id="a8ec915a44f00522e05af0372fe598372" name="a8ec915a44f00522e05af0372fe598372"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ec915a44f00522e05af0372fe598372">&#9670;&#160;</a></span>UnswitchSiblingsToplevelDiv</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; int &gt; UnswitchSiblingsToplevelDiv(&quot;unswitch-siblings-toplevel-div&quot;, cl::init(2), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Toplevel siblings divisor <a class="el" href="AArch64ExpandPseudoInsts_8cpp.html#a4cfc8b177e8521a4b496ae2edff6244f">for</a> cost multiplier.&quot;)) </td>
          <td>(</td>
          <td class="paramtype">&quot;unswitch-siblings-toplevel-div&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::init(2)</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::Hidden</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Toplevel siblings divisor <a class="el" href="AArch64ExpandPseudoInsts_8cpp.html#a4cfc8b177e8521a4b496ae2edff6244f">for</a> cost multiplier.&quot;)</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02818">CalculateUnswitchCostMultiplier()</a>.</p>

</div>
</div>
<a id="a639210c26d1952e9108bcdbb0353443b" name="a639210c26d1952e9108bcdbb0353443b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a639210c26d1952e9108bcdbb0353443b">&#9670;&#160;</a></span>UnswitchThreshold</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; int &gt; UnswitchThreshold(&quot;unswitch-threshold&quot;, cl::init(50), cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;The cost threshold <a class="el" href="AArch64ExpandPseudoInsts_8cpp.html#a4cfc8b177e8521a4b496ae2edff6244f">for</a> unswitching a loop.&quot;)) </td>
          <td>(</td>
          <td class="paramtype">&quot;unswitch-threshold&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::init(50)</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::Hidden</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;The cost threshold <a class="el" href="AArch64ExpandPseudoInsts_8cpp.html#a4cfc8b177e8521a4b496ae2edff6244f">for</a> unswitching a loop.&quot;)</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l02818">CalculateUnswitchCostMultiplier()</a>, <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03315">findBestNonTrivialUnswitchCandidate()</a>, and <a class="el" href="SimpleLoopUnswitch_8cpp_source.html#l03492">unswitchBestCondition()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 1 2024 13:46:55 for LLVM by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
